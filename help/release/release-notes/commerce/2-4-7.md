---
title: Versionsinformation om Adobe Commerce 2.4.7 beta3
description: Läs om nya funktioner, förbättringar, felkorrigeringar och kända fel i Adobe Commerce-utgåvan 2.4.7-beta3.
badgeCoreBeta: label="2.4.7-beta" type="informative"
exl-id: 6ceb1d6d-5076-49a1-925f-913aa3598c90
source-git-commit: 1ff39b976c0e00808fdb6ba0ad96bc27c75bf640
workflow-type: tm+mt
source-wordcount: '19282'
ht-degree: 0%

---


# Versionsinformation om Adobe Commerce 2.4.7 beta3

>[!IMPORTANT]
>
>Betaversioner kan innehålla defekter och tillhandahålls i befintligt skick utan garanti av något slag. Adobe har ingen skyldighet att upprätthålla, korrigera, uppdatera, ändra, modifiera eller på annat sätt ge support (via Adobe Support Services eller på annat sätt) för betaversioner. Kunderna rekommenderas att iaktta försiktighet och att inte på något sätt förlita sig på att betaversionerna och/eller tillhörande dokumentation eller material fungerar korrekt eller fungerar korrekt. Därför är all användning av betaversioner helt och hållet på kundens egen risk.

Adobe Commerce 2.4.7-beta3 har nu stöd för PHP 8.3. Den innehåller över 150 kvalitetskorrigeringar och förbättringar. Core Composer-beroenden och tredjepartsbibliotek har uppgraderats till de senaste tillgängliga versionerna. Den här versionen innehåller viktiga prestandaförbättringar, bland annat snabbare inläsning av produktlistsidor för komplexa produkter med många alternativ.

{{bics}}

## Annan versionsinformation

Även om koden för de här funktionerna är paketerad med releaser av Adobe Commerce kärnkod, kommer flera av dessa projekt (till exempel B2B och Progressive Web Application (PWA) Studio) också att släppas oberoende av varandra. Felkorrigeringar för dessa projekt beskrivs i den separata, projektspecifika versionsinformation som finns i dokumentationen för varje projekt.

## Testmiljö för Adobe Commerce 2.4.7 beta3

Adobe Commerce 2.4.7-beta3 har testats mot följande komponentversioner:

* Chrome 118
* Composer 2.6 eller den senaste versionen kompatibel med PHP 8.3
* Elasticsearch 8.11 eller den senaste tillgängliga versionen
* MariaDB 10.6
* MySQL 8.0
* Nginx 1.24
* OpenSearch 2.12
* PHP 8.3 och 8.2
* PHPUnit 10.x
* RabbitMQ 3.13 eller den senaste tillgängliga versionen
* Redis 7.2
* Finska 7.4.1 eller den senaste tillgängliga versionen

Vår teknikstack bygger på PHP och MySQL. Se [Systemkrav](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).


## Adobe Commerce 2.4.7 - i korthet

Leta efter följande högdagrar i den här versionen.

### Säkerhetsförbättringar

Den här versionen innehåller samma säkerhetskorrigeringar och plattformssäkerhetsförbättringar som ingår i Adobe Commerce 2.4.6-p5, 2.4.5-p7 och 2.4.4-p8. Se [Adobe säkerhetsbulletin](https://helpx.adobe.com/security/products/magento/apsb24-03.html) om du vill ha den senaste diskussionen om dessa åtgärdade problem.

Inga bekräftade attacker relaterade till dessa problem har inträffat hittills. Vissa säkerhetsluckor kan dock utnyttjas för att få tillgång till kundinformation eller ta över administratörssessioner. De flesta av dessa problem kräver att en angripare först får åtkomst till administratören. Därför påminner vi dig om att vidta alla nödvändiga åtgärder för att skydda din administratör, inklusive men inte begränsat till dessa åtgärder:

* IP-tillåtelselistning
* [Tvåfaktorsautentisering](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* Användning av ett VPN
* Användning av en unik plats i stället för `/admin`
* Bra lösenordshygien

#### Ytterligare säkerhetsförbättringar

Säkerhetsförbättringar för den här versionen förbättrar efterlevnaden av de senaste säkerhetsstandarderna.

* **Ändringar av beteendet för icke genererade cachenycklar**:

   * Icke genererade cachenycklar för block innehåller nu prefix som skiljer sig från prefix för nycklar som genereras automatiskt. (Icke-genererade cachenycklar är nycklar som ställs in via malldirektivets syntax eller `setCacheKey` eller `setData` metoder.)
   * Icke genererade cachenycklar för block får nu endast innehålla bokstäver, siffror, bindestreck (-) och understreck (_).  <!-- AC-9831 -->

* **Begränsningar för antalet autogenererade kupongkoder**. Handeln begränsar nu antalet kupongkoder som genereras automatiskt. Standardmaxvärdet är 250 000. Handlare kan använda nya **[!UICONTROL Code Quantity Limit]** konfigurationsalternativ (**[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL Customers]** > **[!UICONTROL Promotions]**) för att förhindra att systemet överbelastas med många kuponger. <!-- AC-8753 -->

* **Optimering av standardprocessen för att skapa Admin URL**. Genereringen av den förvalda admin-URL:en har optimerats för ökad slumpmässighet, vilket gör att genererade URL:er blir mindre förutsägbara. <!-- AC-9028 -->

* En ny cachekonfigurationsinställning för helsida kan minska riskerna med HTTP `{BASE-URL}/page_cache/block/esi` slutpunkt. Den här slutpunkten stöder obegränsade, dynamiskt inlästa innehållsfragment från Commerce-layoutreferenser och blockstrukturer. Den nya **[!UICONTROL Handles params size]** konfigurationsinställning anger värdet för den här slutpunktens `handles` -parameter, som avgör det högsta tillåtna antalet handtag per API. Egenskapens standardvärde är 100. Handlare kan ändra det här värdet från administratören (**[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL System]** > **[!UICONTROL Full Page Cache]** > **[!UICONTROL Handles params size]**). Se [Konfigurera Commerce-programmet att använda engelska](https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cache/configure-varnish-commerce.html). <!-- AC-9113 -->

* **Inbyggd hastighetsbegränsning för betalningsinformation som överförs via REST och GraphQL API:er**. Handlare kan nu konfigurera hastighetsbegränsning för betalningsinformation som skickas med REST och GraphQL. Detta extra skydd stöder förebyggande av kardningsattacker och kan minska antalet kardningsattacker som testar många kreditkortsnummer samtidigt. Detta är en ändring av standardbeteendet för en befintlig REST-slutpunkt. Se [Hastighetsbegränsning](https://developer.adobe.com/commerce/webapi/get-started/rate-limiting/).

* Standardbeteendet för [isEmailAvailable](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) GraphQL query and ([V1/customers/isEmailAvailable](https://adobe-commerce.redoc.ly/2.4.6-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)) REST-slutpunkten har ändrats. API:t returnerar nu alltid true som standard. Handlare kan aktivera det ursprungliga beteendet, vilket är att returnera `true` om e-postmeddelandet inte finns i databasen och `false` om den finns.

### Förbättringar av plattformen

Plattformsuppgraderingar för den här versionen förbättrar efterlevnaden av de senaste säkerhetsstandarderna.

Adobe Commerce 2.4.7-beta3 innehåller följande uppgraderingar:

* **Kompatibilitet med PHP 8.3**. Den här versionen innehåller stöd för PHP 8.3. Handeln stöder nu både PHP 8.3 och 8.2. Stöd för PHP 8.2 kommer att ges fram till det datum då tjänsten upphör i december 2025. Efter december 2025 bör alla handlare som kör 2.4.7-distributioner migrera till PHP 8.3. <!-- AC-8988 -->

Adobe Commerce 2.4.7 är fortfarande kompatibelt med PHP 8.1 endast i uppgraderingssyfte. PHP 8.1 stöds inte och rekommenderas inte. Adobe Commerce 2.4.7-beta3, alla tillägg och alla tillägg som ägs av Adobe är kompatibla med PHP 8.3. <!-- AC-9668 -->

* **Stöd för RabbitMQ 3.11**. Den här versionen är kompatibel med den senaste versionen av RabbitMQ 3.11. Kompatibiliteten är fortfarande kompatibel med RabbitMQ 3.9, som stöds fram till augusti 2023, men vi rekommenderar att du endast använder Adobe Commerce 2.4.7-beta3 med RabbitMQ 3.11.

* **Composer 2.6.x**. Kompatibiliteten med Composer 2.2.x kvarstår. <!-- AC-9663 -->

* **Stöd för lack cache 7.4**. Den här versionen är kompatibel med den senaste versionen av Varnish Cache 7.4. Kompatibiliteten är fortfarande kompatibel med versionerna 6.0.x och 7.2.x, men vi rekommenderar att du endast använder Adobe Commerce 2.4.7-beta3 med version 7.4 eller 6.0 LTS för Varnish Cache. <!-- AC-9662 -->

* **Elasticsearch 8.11** kompatibilitet <!-- AC-9661 -->

* **Redis 7.2** <!-- AC-9660 -->

* The `extjs` biblioteket har ersatts med den senaste versionen av `jsTree`. <!-- AC-9320 -->

* `jquery/fileUpload` biblioteket har tagits bort. <!-- AC-10569 -->

Alla JavaScript-bibliotek och NPM-beroenden i Adobe Commerce kärnkod har uppdaterats till de senaste tillgängliga versionerna. Alla Laminas-biblioteksberoenden har uppdaterats till den senaste versionen som är kompatibel med PHP 8.3. <!-- AC-9667 9665 -->

#### Ytterligare uppgraderingar

* **Flera kuponger per order**. Handlarna kan nu konfigurera maximalt antal kuponger som kan tillämpas per order med nya **[!UICONTROL Maximum number of coupons per order]** konfigurationsalternativ. Det här värdet är som standard 1. REST-stöd för den här funktionen har lagts till i den här versionen och GraphQL-support kommer snart att vara tillgänglig.

* Commerce UPS XML API-gatewayen har migrerats till det nya Commerce UPS REST API som stöder uppdateringar som UPS gör till deras [API-säkerhetsmodell](https://developer.ups.com/oauth-developer-guide). (UPS implementerar en OAuth 2.0-säkerhetsmodell (bearer tokens) för alla API:er.) Alla tidigare API:er för Commerce UPS XML har tagits bort från kodbasen för Adobe Commerce 2.4.7. <!-- AC-8918 -->

* Adobe Commerce-integrering med FedEx har migrerats från äldre FedEx WSDL-webbtjänster till de senaste FedEx RESTful-API:erna. FedEx Web Services Tracking, Address Validation och Validate Postal Codes WSDLS kommer att upphöra i maj 2024. <!-- AC-1470 -->

* Stöd för den nya leveransmetoden USPS Ground Advantage. Detta är en färdig integrering med USPS nya leveransmetod, USPS Ground Advantage, som släpptes i juli 2023. Den här nya integreringen kan användas för att hämta fraktkostnader och schemaläggningsleveranser och -returer via USPS-leveranstjänsten. Leveransmetoden USPS Ground Advantage ersätter dessa fraktmetoder, som kasserades när leveransmetoden USPS Ground Advantage lanserades:

   * USPS Retail Ground
   * Pakettjänst av första klass
   * Markering av paket <!-- AC-9182 -->

* Temando-leveransmoduler har tagits bort från kärnhandelskodbasen. Den här funktionen har tagits bort i Adobe Commerce 2.4.4. <!-- AC-8130 -->

### Prestanda- och skalbarhetsförbättringar

Commerce 2.4.7-beta3 innehåller följande förbättringar av handelsprestanda och skalbarhet:

* Företagshandlare kan nu konfigurera upp till **en miljon aktiva, kupongbaserade kundvagnsprisregler** i Adobe Commerce utan betydande prestandadegraderingar av korgen och kassan. <!-- ACPT-1198 -->

* **Produktlistsida för komplexa produkter med många alternativ**. Belastningstiden har förbättrats för produktlistsidor som innehåller komplexa produkter med över 100 alternativ. Prestandan för GraphQL-begäranden om att lista produkter efter kategori har också förbättrats. <!-- ACPT-1683 -->

* **JSON-format stöds nu för REST [Importera API](https://developer.adobe.com/commerce/webapi/rest/modules/import/)**. Merchants kan nu importera upp till 100 000 poster per minut till Adobe Commerce i JSON-format. <!-- ACPT-943 -->

* **Prestandaförbättringar för försäljningsregel**. Förbättrade prestanda för företagsdistributioner med många (ungefär 100 000) aktiva försäljningsregler. Företagsinstallationer som implementerar kampanjer i hög grad använder ofta många aktiva kundvagnsregler. Den här typen av företagsdistributioner som kör Commerce 2.4.7 kommer inte att se några prestandaförsämringar relaterade till antalet konfigurerade kundprisregler under utcheckningsåtgärder. <!-- ACPT-1198 -->

* **Snabbare besparingar av konfigurationer på butiksnivå för driftsättningar i många butiker**. Det kan ta lång tid att spara konfigurationsinställningar i distributioner med fler än 500 butiker. Den nya modulen Async Config möjliggör asynkrona åtgärder för att spara konfigurationer genom att köra ett cron-jobb som använder en konsument för att bearbeta sparandet i en meddelandekö. AsyncConfig är inaktiverat som standard.

* **Snabbare generering av config cache för stora konfigurationer**. The `bin/magento cache:clean config` kommandot förvarar nu config-cachen när config cache är aktiverat. Detta minskar den drifttid som krävs för att generera config-cachen för stora konfigurationer. Åtgärder för att spara konfigurationen rensar inte längre `config_scopes` cachelagra innan data skrivs till cachen, vilket också minskar den tid som andra begäranden låses ut när konfigurationsdata skrivs.

### Application Server för GraphQL API:er

Med API:er för Application Server för GraphQL kan Adobe Commerce behålla status bland API-begäranden från Commerce GraphQL och eliminerar behovet av startspärr, vilket ger högre genomströmning, lägre latens och effektiv resursanvändning för alla GraphQL API:er. Genom att dela programstatus mellan processer blir GraphQL API-begäranden betydligt effektivare, och GraphQL API-svar är i genomsnitt 30 % snabbare. <!-- ACPT-27 -->

### Adobe Commerce Extension-metapaket

Den här versionen innehåller metapaketet Adobe Commerce Extension v2.0.0-beta3, som automatiskt paketerar utvalda Adobe Commerce-tillägg med den här huvudversionen. De versioner av dessa tillägg som ingår i det här metapaketet installeras när `composer update` körs, vilket förenklar processen att uppgradera dessa tillägg när du uppgraderar till den senaste kärnversionen. Dessa tillägg har oberoende releasescheman.

Metapaketet Adobe Commerce Extension för Adobe Commerce 2.4.7-beta3 innehåller följande tillägg:

* [Adobe Commerce Admin UI SDK](https://developer.adobe.com/commerce/extensibility/admin-ui-sdk/)
* [Adobe Commerce-integrering med Adobe IMS](https://experienceleague.adobe.com/docs/commerce-admin/start/admin/ims/adobe-ims-integration-overview.html)
* [Adobe I/O Events for Adobe Commerce](https://developer.adobe.com/commerce/extensibility/events/)
* [Adobe Stock](https://experienceleague.adobe.com/docs/commerce-admin/content-design/media/adobe-stock/adobe-stock.html)
* [Braintree](https://experienceleague.adobe.com/docs/commerce-admin/stores-sales/payments/braintree.html)
* [Betalningstjänster](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html)

Framtida versioner av det här tilläggspaketet kan innehålla ytterligare tillägg.

### Adobe Commerce webhooks

Med Commerce Webhooks (v1.2.0) kan utvecklare konfigurera synkron logik för att köra anrop till externa system när en Adobe Commerce-händelse utlöser anrop. Synkrona anrop krävs när Commerce omedelbart måste beräkna eller validera ett värde som ordersumma, moms eller betalning med hjälp av en tredje parts slutpunkt och sedan skriva tillbaka resultatet till Adobe Commerce.

Commerce webhooks är nu installerat som standard. Se [Adobe Commerce Webhooks - översikt](https://developer.adobe.com/commerce/extensibility/webhooks/)

### Adobe Stock

Adobe Stock-paketet (`adobe-stock-integration`) paketeras nu i metapaketet för Commerce-tillägg (`extensions-metapackage`) för att ge stöd för fler uppdateringar. <!-- CABPI-630 -->

### B2B

Den här versionen är paketerad med B2B 1.4.2.

* **Försäljarens initierade offerter**. B2B-säljarna kan nu initiera en offert direkt från offert- och kundrutnätet i administratören. Se [Anbudsförfrågan](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-request.html).

* **Rabatter för radartiklar**. Rabatterna kan nu tillämpas som en procentandel av, ett fast värde eller som utökad prissättning för specifika radartiklar inom en offert.

* **Anteckningsutbyte vid offert**. Under förhandlingsprocessen kan B2B-köpare och säljare nu lägga till anteckningar direkt i en offert. Anteckningar och uppdateringar inkluderas i radobjektet och offerthistoriken för genomskinlighet. Se [Förhandla en offert](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-price-negotiation.html).

* **Förbättrad offertdetaljvy**. När du tittar på sidan med offertdetaljer kan säljare och köpare nu lägga till artiklar efter SKU eller från produktkatalogen, lägga till eller redigera anteckningar, tillämpa radartikelrabatter och få tillgång till produktkonfigurationen direkt från offertdetaljsidan.

* Uppdateringar till REST och GraphQL

   * En slutpunkt har lagts till för att tillhandahålla webb-API-täckning för den säljarinitierade offertfunktionen som introducerades i den här versionen: `POST /V1/negotiableQuote/draft`. Se [Hantera överlåtbara offerter](https://developer.adobe.com/commerce/webapi/rest/b2b/negotiable-manage/).

   * Förbättrad API-täckning för butiksfunktionerna för delad katalog inkluderar nya slutpunkter för att tilldela och återställa anpassade prisåtgärder: `POST /V1/sharedCatalog/:sharedCatalogId/assignTierPrices` och `POST /V1/sharedCatalog/:sharedCatalogId/resetTierPrices`.

Mer information om REST och GraphQL API-täckning för Commerce B2B finns i [Commerce Web API](https://developer.adobe.com/commerce/webapi/) dokumentation för utvecklare. Se [Versionsinformation för B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html) för felkorrigeringsbeskrivningar.

### Braintree

* Enhetsdata för 3DS verifieras nu och visas på kontrollpanelen Braintree. The `collectDeviceData` parametern skickas nu som `true` i `verifyCard` anropa 3DS. <!-- BUNDLE-3327 -->

* Konfigurationssidan för Admin Payments innehåller nu en länk till sidan för versionsinformation och tillägg för Braintree. <!-- BUNDLE-3325 -->

* Braintree SDK har uppdaterats till de senaste versionerna. <!-- BUNDLE-3323 -->

### Handelsintegrering med Adobe IMS

Integrationspaketet för Adobe IMS (`adobe-commerce/adobe-ims-metapackage`) paketeras nu i metapaketet för Commerce-tillägg (`extensions-metapackage`) för att ge stöd för fler uppdateringar. <!-- CABPI-630 -->

### GraphQL

Commerce 2.4.7 innehåller förbättrade cachningsfunktioner för GraphQL, stöd för GraphQL schema för anpassade attribut, stöd för annullering av headless-order samt förbättrad matchning.

* **Flexiblare kundvagnshantering**. The `clearCart` mutation tar nu bort innehållet i en angiven kundvagn i en enda åtgärd. Den ersätter `clearCustomerCart` som har tagits bort. <!-- LYNX-254 -->

* **Förbättringar av kundvagnsmutationer**. The `createGuestCart` mutation har lagts till för att ersätta den borttagna `createEmptyCart` mutation. Tidigare, om du använde `createEmptyCart`kan du inte avgöra om kundvagnen var för en gäst eller inloggad kund. <!-- LYNX-224 -->

* **Orderartiklar innehåller nu produktbilder**. `OrderItemInterface` visar produktbilder, vilket gör att bilder kan kopplas till beställda produkter och läsas in mer effektivt.  [GitHub-32369](https://github.com/magento/magento2/issues/32369) <!-- AC-7918 -->

* **Utökat stöd för cachelagring av lösare**. Följande GraphQL-frågelösare är nu tillgängliga i GraphQL Resolver Results Cache, vilket förbättrar prestanda när frågor skickas med POST-begäranden:

   * `Magento\CustomerGraphQl\Model\Resolver\Customer::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\CustomerAddress::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\IsSubscribed::resolve` <!-- B2B-2658 -->
   * `Magento\CatalogGraphQl\Model\Resolver\Product\MediaGallery::resolve` <!-- B2B-2677 -->

* **Stöd för annullering av beställningar**. The [cancelOrder](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) mutation gör det möjligt för en kund att avbryta en beställning och skicka sin identifierare och en orsak till annullering. <!-- LYNX-197 -->

   * Den nya `order_cancellation_enabled` och `order_cancellation_reasons.description` svarsfält i `storeConfig`
fråga support användarinitierade begäranden om annullering av order. Se [Fråga en butiks konfiguration för annullering av order](https://developer-stage.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/#query-a-stores-order-cancellation-configuration)

* **Förbättrat stöd för anpassade attribut**. Stöd för anpassade GraphQL-attribut har förbättrats genom att API-data har utökats med stöd för alla attributtyper. GraphQL EAV-attributschemat har nu stöd för att utöka kundattribut och kundadressobjekt i Admin och hämta dem med GraphQL. Specifika förbättringsområden är: <!-- LYNX-61 110-->

   * utökat/tillagt stöd för anpassade attribut inom specifika områden som kund- och kundadress
   * tillagd cachning för anpassade attribut
   * bättre stöd för anpassade attribut

* **Förbättrade funktioner för GraphQL-cachning förbättrar sidinläsningshastigheten**. Cachelagring har lagts till i de här frågorna, vilket förbättrar sidinläsningstiden för de flesta PWA-sidor:

   * [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/)
   * [länder](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) och [land](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/)
   * [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/)
   * [valuta](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/)
   * [customAttributeMetadata](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata)

* **Förbättrade prestanda för GraphQL parser**. GraphQL parserprestanda har förbättrats genom att antalet gånger som parsningsmetoden anropas per begäran har reducerats. Den kallas nu en gång. Tidigare anropades parsern minst tre gånger.

#### Nya fält för befintliga mutationer

* Lagt till `quickorder_active` fält till [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) och [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) frågor. I det här fältet anges om snabbordningsfunktionen är aktiverad.

* Följande fält har lagts till i `setBillingAddressOnCart` och `setShippingAddressesOnCart` mutationer:

   * `fax`
   * `middlename`
   * `prefix`
   * `suffix`

#### Nya frågor och mutationer

* [attributeForms](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-form/) fråga<!-- LYNX-151 -->
* [attributesList](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-list/) fråga<!-- LYNX-150 -->
* [cancelOrder](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) mutation<!-- LYNX-172 -->
* `clearCart` mutation <!-- LYNX-254 -->
* `createGuestCart` mutation
* [customAttributeMetadataV2](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/) fråga

#### Föråldrade frågor och mutationer

* `clearCustomerCart` mutation<!-- LYNX-254 -->
* [createEmptyCart](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/create-empty-cart/) mutation<!-- LYNX-224 -->
* [attributesMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/) fråga
* [customAttributeMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/) fråga

### Inventory management

Inventory management (v1.2.7-beta3) innehåller verktyg för att hantera produktlager. Den här communityutvecklade funktionen är paketerad med Adobe Commerce och Magento Open Source kärnkod.

### Betalningar

* GraphQL support har lagts till för kärnverksamheten för alla betalningsmetoder med undantag för Venmo. Nya GraphQL-slutpunkter för betaltjänster beskrivs i [Utcheckning](https://developer.adobe.com/commerce/webapi/graphql/schema/checkout/). <!-- BUNDLE-3326 -->

* Kreditkortssäkringen har förbättrats för alla betalningsmetoder med undantag för Venmo. Nu kan köpare vault, eller spara, sina ACH-betalningar och visa eller ta bort dem från sin kontosida. Handlare kan aktivera och inaktivera ACH-betalningar från administratören. <!-- BUNDLE-3324 -->

* Arbetsflödet för kassan innehåller nu en avdelning för expressbetalning som ger betalning till PayPal, Google Pay och Apple **[!UICONTROL Express]** knappar. <!-- BUNDLE-3322 -->

[Betalningsalternativ](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/payments-checkout/payments-options.html) introducerar betalningsmetoder som stöds.

### PWA Studio

PWA Studio v.13.3.x är kompatibel med Adobe Commerce 2.4.7-beta3. Det innehåller flera förbättringar som förbättrar tillgängligheten. Mer information om felkorrigeringar finns i [PWA Studio](https://github.com/magento/pwa-studio/releases). Se [Versionskompatibilitet](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) för en lista över PWA Studio-versioner och deras kompatibla Adobe Commerce-versioner.

### Webb-API-ramverk

**Arbeta med flera kuponger per kundvagn**

De nya REST-slutpunkterna har stöd för att visa, lägga till och ta bort flera kuponger som är kopplade till en kundvagn. <!-- LYNX-208 -->

Returnera alla kupongkoder som är kopplade till en kundvagn:

`GET  /rest/default/V2/carts/{cartId}/coupons`
`GET  /rest/default/V2/carts/mine/coupons`

Lägg en kupongkod i en kundvagn:

`POST /rest/default/V2/carts/{cartId}/coupons/{couponCode}`
`POST /rest/default/V2/carts/mine/coupons/{couponCode}`
`POST /rest/default/V2/negotiable-carts/{cartId}/coupons/{couponCode}`

Ta bort en kupongkod från en kundvagn:

`DEL  /rest/default/V2/carts/{cartId}/coupons`
`DEL  /rest/default/V2/carts/mine/coupons`
`DEL  /rest/default/V2/negotiable-carts/{cartId}/coupons`

Ta bort flera kupongkoder från en kundvagn:

`DEL /rest/default/V2/carts/{cartId}/coupons/{couponCode}`
`DEL /rest/default/V2/carts/mine/coupons/{couponCode}`
`DEL /rest/default/V2/negotiable-carts/{cartId}/coupons/{couponCode}`

**Ytterligare slutpunkter**
I den här versionen introduceras två nya REST-slutpunkter som ger en lösning för en begränsning med REST API `GET` och `POST V1/products/attributes` slutpunkter. Dessa slutpunkter returnerar samma värde för `is_filterable` för båda `Filterable(with results)` och `Filterable(no results)` alternativ för **[!UICONTROL Use in Layered Navigation]** alternativ. (Med `is_filterable` attribute property is of type `Boolean`, vilket inte tillåter att den här egenskapen ställs in på `Filterable(no results)`.)

Två nya REST-slutpunkter har implementerats som en lösning:

* `PUT /V1/products/attributes/{attributeCode}/is-filterable/{isFilterable}`. Banparametrar: `attributeCode` (`String`) och `isFilterable` (`int` är: 0 är Nej, 1 är `Filterable (with results)`; 2 är `Filterable (no results)`).
* `GET /V1/products/attributes/{attributeCode}/is-filterable`. Banparametrar: `attributeCode` (`String`).<!-- ACP2E-2275 -->

## Åtgärdade problem

Vi har åtgärdat hundratals problem i Adobe Commerce 2.4.7-beta3-koden. En deluppsättning av de åtgärdade problemen som ingår i den här versionen beskrivs nedan. Korrigeringar som ingår i tidigare Commerce 2.4.7-betan beskrivs också.

### Installation, uppgradering, driftsättning

<!-- AC-10396 -->

* Onödig cachehantering har tagits bort från konfigurationsprocessen. Commerce skrev tidigare sin konfiguration till disk i onödan när `bin/magento setup:db-data:upgrade` eller `bin/magento setup:upgrade` kördes, vilket orsakade problem med vissa moduler under installationen. [GitHub-38124](https://github.com/magento/magento2/issues/38124)

<!-- ACP2E-1675 -->

* Distributionsproblem på grund av otillräckligt minne och stora tabeller har åtgärdats. The `bin/magento  setup:upgrade` Kommandot misslyckas inte längre på grund av minnesöverskjutande fel som är relaterade till stora MySQL-tabeller.

<!-- ACP2E-2198 -->

* `bin/magento setup:install` slutförs nu korrekt efter `app/etc/config.php` har tagits bort. Tidigare genererades inte den saknade filen om under installationen och ett fel uppstod i Commerce. [GitHub-37805](https://github.com/magento/magento2/issues/37805)

<!-- AC-8381 -->

* `bin/magento setup:upgrade` har omarbetats för att kunna köras när en ny modul installeras som installerar både tabeller och associerade tabeller `mview` indexerare. [GitHub-37304](https://github.com/magento/magento2/issues/37304)

<!-- ACP2E-1882 -->

* Databasåterställningen misslyckas inte längre på grund av ett avgränsningsfel. I Commerce uppstod det här felet tidigare när `bin/magento setup:rollback --db` kördes: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1505 -->

* The `bin/magento setup:upgrade` kommandot misslyckas inte längre med den här typen av MINSQL-minnesbegränsningsrelaterat fel: `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. Flervalsattribuering har optimerats för att ta mindre minne under `setup:upgrade`.

<!-- ACP2E-1751 -->

* Nu fungerar säkerhetskopiering av databaser som väntat både på Admin- och kommandoraden. Tidigare inträffade följande fel i Adobe Commerce: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 -->

* Körs `setup:config:set` utan att ange `--lock-db-prefix` parametern raderar inte längre det aktuella värdet från `env.php` -fil.

<!-- ACP2E-1498 -->

* Slutarkonfigurationen har uppdaterats för att förhindra att gästanvändare får åtkomst till cachelagrat innehåll relaterat till andra kundgrupper.

<!-- AC-7113 -->

* Köpare kan nu lägga en order i en distribution som implementerar en delad databas när **[!UICONTROL Checkout Async]** är aktiverat. Tidigare inträffade följande fel i Adobe Commerce: `An error occurred on the server. Please try to place the order again`.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` slutförs nu korrekt vid installation av en ny modul som installerar både tabeller och associerade `mview` indexerare.

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` visar nu ett mer informativt felmeddelande när ett meddelandeköämne inte innehåller något ämnesnamn. [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` visar nu ett mer informativt felmeddelande när sammanfogade XML-filer är ogiltiga. Felmeddelandet innehåller nu filnamnet.

### Administratörsgränssnitt

<!-- AC-9632 -->

* Skärmfel med administratörskundens rutnät har korrigerats. Tidigare fanns inte rutnätskolumner helt inneslutna på den visade sidan.

<!-- AC-2916 -->

* Hovringsfärger används nu som förväntat på raderna i det statiska administratörsstödrastret. [GitHub-35358](https://github.com/magento/magento2/issues/35358)

<!-- AC-7551 -->

* Arbetsflödet för utcheckning visar inte längre en varning när en kund anger ett postnummer för Grekland som inte innehåller ett tomt utrymme. [GitHub-36676](https://github.com/magento/magento2/issues/36676)

<!-- AC-9357 -->

* Administratören `It's time to change your password` länkar dirigeras nu om till sidan Ändra administratörslösenord som förväntat. [GitHub-37902](https://github.com/magento/magento2/issues/37902)

<!-- ACP2E-2460 -->

* Undermenytitlar visar nu alla objekt på samma nivå oavsett vilken åtkomstnivå användaren har tilldelats. Tidigare var den här informationen dold för administratörsanvändare med begränsad åtkomst, även om det fanns flera jämställda grupper för undermenyn.

<!-- AC-9164 -->

* Suffixen för sidrubrik finns nu i båda `title` och `meta title` -tagg för produktsidor. [GitHub-37680](https://github.com/magento/magento2/issues/37680)

<!-- ACP2E-2023 -->

* Villkoret för produktlagerstatus gäller nu korrekt för relaterade produktregler.

<!-- ACP2E-2083 -->

* The **[!UICONTROL Login as Customer]** visas nu korrekt på mobila enheter.

<!-- ACP2E-2146 -->

* Adobe Commerce visar inte längre administratören **[!UICONTROL Add new customer group]** om den inloggade administratörsanvändaren saknar behörighet att lägga till en ny kundgrupp.

<!-- ACP2E-2286 -->

* En administratörsanvändare med begränsade behörigheter kan nu spara en underordnad produkt vars överordnade produkt har tilldelats ett annat omfång. Tidigare ogiltigförklarade Commerce cachen för en överordnad produkt som inte har tilldelats det omfång i vilket den underordnade produkten ändrades.

<!-- ACP2E-2042 -->

* Administratörsanvändare kan nu växla mellan administratörsfiltervyer utan att visa data som är skadade eller har gått förlorade. [GitHub-37529](https://github.com/magento/magento2/issues/37529)

<!-- ACP2E-2068 -->

* Det arkiverade orderrutnätet uppdateras nu asynkront med nya orderstatusar som förväntat. En händelsebaserad metod för att uppdatera orderstatus i arkivrutnätet ger korrekt orderstatus, inklusive återbetalningar av kreditnotor.

<!-- ACP2E-2049 -->

* Menyn med åtgärder i administratörsstödrastret kan nu hovra över en markerad länk för **[!UICONTROL Content]** > **[!UICONTROL Pages]** (och delade kataloger i B2B-modulen). Tidigare var menyn för det mesta dold och administratörsanvändarna var tvungna att bläddra för att se alternativen. [GitHub-36710](https://github.com/magento/magento2/issues/36710)

### Analyser

<!-- ACP2E-2266 -->

* Produktinformationssidan `meta itemprop="image"` och `meta itemprop="description"` finns nu tillgängliga för huvudproduktbilden. [GitHub-37497](https://github.com/magento/magento2/issues/37497)

<!-- ACP2E-2314 -->

* I avsnittet Rapport för produkterna i kundvagnsrutnätet visas nu korrekt produktpris när **[!UICONTROL Catalog Price Scope]** är inställd på **[!UICONTROL Website]**. Tidigare visades produktpriset som noll när produkten tilldelades en annan webbplats än standardwebbplatsen.

<!-- AC-9275 -->

* Intäktsrapporter visas nu som förväntat på portalen för Google Analytics (GA4). [GitHub-37605](https://github.com/magento/magento2/issues/37605)

<!-- ACP2E-1880 -->

* `price` och `quantity` värden i Google Tag Manager-datalagret skickas nu som numeriska värden som Google Analytics förväntar sig. Tidigare skickades dessa värden som strängar.

<!-- ACP2E-2030 -->

* Fel i hanteringen av rubrikdata när distributionsdata skickades till New Relic-modulen har åtgärdats.

<!-- ACP2E-1833 -->

* Google Analytics 3-taggar aktiveras nu som förväntat när Google Analytics 4-taggarna inaktiveras.

### Banderoll

<!-- ACP2E-1818 -->

* Betraktat sättet som banderollinnehåll läses in på för att ta bort för många databasfrågor, vilket resulterar i förbättrad laddningstid för varukorgen.

### Paketprodukter

<!-- ACP2E-1464 -->

* Antalet produkter i kategorin räknas nu korrekt för paketprodukter när **[!UICONTROL Display Out Of Stock*]** är aktiverat.

<!-- AC-8966 -->

* The `customerCart` frågan returnerar nu alla tillämpade rabatter på paketprodukter som förväntat. Tidigare returnerades de totala rabatterna som tillämpades på en paketprodukt som noll.

<!-- ACP2E-2618 -->

* På produktinformationssidorna visas nu rätt pris för paketprodukter för vilka en rabatt på 100 % har tillämpats. Tidigare tillämpade inte Commerce 100 % rabatt på paketpriser.

<!-- ACP2E-2377 -->

* Prisreglerna gäller nu för produktpaket istället för för för varje underordnad produkt för dynamiska paketerade produkter.

<!-- ACP2E-1650 -->

* Ett fel som inträffar när du använder `POST V1/shipment` slutpunkt för att skapa en leverans som innehåller en paketprodukt. Slutpunkten lägger nu till objekt som förväntat och returnerar inte längre det här felet: `The shipment couldn't be saved`.

<!-- ACP2E-1926 -->

* Du kan nu spara en schemalagd uppdatering av en paketprodukt som innehåller en enkel produkt som har en obegränsad schemalagd uppdatering. När ögonblicksbilden av paketprodukten skapas hämtas de länkade produkterna nu med ID, enhets-ID och även med SKU. Tidigare kontrollerades den ursprungliga versionen av den enkla produkten när den schemalagda uppdateringen av paketprodukten sparades i stället för den aktuella versionen av den enkla produkten.

<!-- ACP2E-1650 -->

* Nu kan du använda `GET V1/shipment/` API-väg för att skapa en leverans med en paketprodukt när produkten har **[!UICONTROL together]** försändelsetypuppsättning. Paketprodukter valideras nu också baserat på deras leveranstypsegenskap.

<!-- ACP2E-2038 -->

* Kunderna kan nu redigera mängden av en paketprodukt i sin kundvagn. Tidigare hanterades inte null-värden för `ItemId` när produkterna redigerades i butikens kundvagn och ett fel visades. [GitHub-37696](https://github.com/magento/magento2/issues/37696)

<!-- ACP2E-1801 -->

* Paketprodukter kan nu läggas till i en Admin-order med SKU:er som innehåller ett snedstreck (`/`). Tidigare kunde inte administratörsanvändare använda den här metoden för att lägga till produkter i en Admin-order och Commerce genererade ett JavaScript-fel.

<!-- ACP2E-1799 -->

* Administratörsanvändare kan nu ange decimalstandardvärden för nyligen tillagda paketalternativ när **[!UICONTROL Qty Uses Decimal]** är aktiverat för motsvarande enkla produkt. Tidigare kunde decimalvärden bara anges för sparade markeringar.

<!-- ACP2E-1347 -->

* Optimerade prestanda för att spara paketprodukter med ett stort antal alternativ

<!-- ACP2E-1478 -->

* Paketprodukter kan nu importeras utan att man behöver duplicera SKU:er i produktalternativen. Tidigare skapade Adobe Commerce flera SKU:er i produktalternativen när du importerade paketprodukter med dubblettposter.

<!-- ACP2E-1388 -->

* Paketproduktpriset beräknas nu korrekt när en av produkterna i paketet inte finns i lager. Tidigare togs en produkt som ingick i paketet bort från prisberäkningen om den inte fanns i lager.

<!-- ACP2E-1503 -->

* Paketprodukter visas nu som färdiga lager när den sista av deras underordnade produkter köpts. Tidigare visades paketprodukter som lagrade i butiken när deras enkla produkter inte fanns i lager.

<!-- ACP2E-1443 -->

* Prestandaproblem när du lägger till paketprodukter med alternativ som inte krävs i kundvagnen med `addBundleProductsToCart` mutationen har lösts.

<!-- ACP2E-1264 -->

* The `categoryList` frågan returnerar nu alla paketalternativ som förväntat när **[!UICONTROL Show out-of-stock products]** konfigurationsinställningen är aktiverad. Tidigare fanns inte alternativ som inte fanns med i frågesvaret.

<!-- ACP2E-1345 -->

* Paket med produkter skapade med `POST V1/products` lyckas nu när katalogprisomfånget är inställt på `website`. Tidigare inträffade en överträdelse av integritetsbegränsningen. [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### Cache

<!-- ACP2E-2070 -->

* Cachelagra cookies efter inloggning är nu desamma efter att du har bläddrat på webbplatsen. Tidigare skickade inloggningskontrollen fel cachecookie och sidorna kan ha cachelagrats flera gånger.

<!-- ACP2E-1840 -->

* Svar från GraphQL GET-åtgärder på CMS-sidor som innehåller CMS-block rensas nu som väntat i snabbcachen. Efterföljande schemauppdateringar visar nu korrekt uppdaterat innehåll för dessa sidor.

<!-- ACP2E-1524 -->

* Sidcachen rensas nu som förväntat för en överordnad produkt när en av dess underordnade produkter har sparats från administratören. En plugin-kontroll har införts för att uppnå cacheogiltigförklaring för konfigurerbara varianter, som liknar andra produkttyper, oavsett indexerarstatus (schemalagd eller realtid). Tidigare uppdaterades inte priserna korrekt i butiken efter att en konfigurerbar variant uppdaterades från administratören.

<!-- ACP2E-1454 -->

* En cachelagringsmekanism för AWS inloggningsuppgifter har lagts till. En autentiseringsprovider använder nu cacheminnet i Magento för att cachelagra autentiseringsuppgifter som hämtats från AWS för EC2-konfiguration.

<!-- AC-7639 -->

* Det plugin-program vars syfte är att lägga till den konfigurerbara cachetaggen när en enkel produkt som är kopplad till en konfigurerbar produkt sparas fungerar nu som förväntat. Alla relevanta konfigurerbara cachetaggar tas bort som förväntat när en enkel produkt uppdateras av `POST V1/products`. Tidigare uppdaterades inte alla priser i butiken, och cacheminnen måste rensas manuellt. [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### Kundvagn och kassan

<!-- ACP2E-2658 -->

* Commerce optimerar nu prestanda genom att inte läsa in användarspecifika offertdata när helsidescachelagrade sidor, som PDP- (Product Details Pages) och CMS-sidor, genereras när beständig kundvagn är aktiverad. Tidigare lästes användarspecifika sessioner in i onödan och data citerades när dessa sidor genererades, vilket påverkade prestandan.

<!-- ACP2E-2684 -->

* Anpassade adressattribut sparas nu som förväntat i databasen. Tidigare har attributvärden som sparats i databasen prepensats med attributkod.

<!-- ACP2E-2517 -->

* Genereringen av filtertext för kundvagnsregler för produktattribut har förbättrats. Enskilda produkter läses inte längre in flera gånger.

<!-- AC-8920 -->

* Adobe Commerce visar nu ett informativt felmeddelande när ett fel inträffar under utcheckningen och inte längre återgår till ett tidigare utcheckningssteg. Tidigare returnerades shopparen till leveranssidan.

<!-- ACP2E-2520 -->

* The `cart` frågan returnerar inte längre leveransmetod och adress för virtuella varukorgar. Tidigare, när en vagn innehöll både fysiska och virtuella produkter och alla fysiska produkter togs bort, fortsatte kundvagnsfrågan att inkludera leveransinformation.

<!-- ACP2E-2267 -->

* I Commerce visas nu informativa meddelanden när en tilläggshandling aktiveras. Tidigare `The requested qty is not available` visades inte alltid på det sätt som behövs i butiken.

<!-- ACP2E-2166 -->

* Inläsningstiden för utcheckningssidan har förbättrats för kunder med stora adressböcker. Commerce bearbetar nu bara det antal kundadresser som anges i **[!UICONTROL Customer Addresses Limit]** inställning. Tidigare lästes hela adressboken in.

<!-- ACP2E-2174 -->

* Produktkvantiteten kan nu ändras i varukorgen som förväntat för artiklar i lager när en artikel inte finns i lager. Tidigare kunde kunderna inte ändra produktkvantiteten för några artiklar när någon inte fanns i lager.

<!-- ACP2E-2269 -->

* The `AdvancedSalesRule` produktattributfiltret fungerar nu korrekt med det decimala attributets serverdelstyp. Resultatet blir att kundvagnen följer `Coupon Type` ange till **[!UICONTROL No Coupon]** fungerar nu som förväntat.

<!-- ACP2E-2376 -->

* Hela kundvagnsrabatten tillämpas nu som förväntat på varukorgar som innehåller både paketerade och konfigurerbara produkter.

<!-- ACP2E-2092 -->

* Cookies för kundavsnitt följer nu cookie-filens domäninställning. Tidigare uppdaterades inte minivagnen som förväntat i butiker som innehöll underdomäner, trots att sessionen delades.

<!-- AC-9340 -->

* När en order skickas till flera adresser genereras inte längre något fel under bearbetningen av region-ID.

<!-- AC-8853 -->

* Fasta rabattbelopp som tillämpas på kundvagnsnivån är nu korrekta.[GitHub-37496](https://github.com/magento/magento2/issues/37496)

<!-- AC-2044 -->

* Kuponger tillämpas nu korrekt på en beställning när en kund använder kupongen efter att ha valt leveransmetoden där en kundprisregel med leveransmetoden inställd som villkor gäller. Tidigare visade kundvagnssidan att kupongen inte är ett giltigt fel och kupongen tillämpades inte. [GitHub-34866](https://github.com/magento/magento2/issues/34866)

<!-- AC-8596 -->

* The **[!UICONTROL My billing and shipping address are the same]** kryssrutan förblir nu markerad som standard när en kund använder en automatisk komplettering av Chrome för att fylla i sin leveransadress och sedan klickar **Nästa** innan blocket för leveransmetoder har lästs in på nytt. [GitHub-33725](https://github.com/magento/magento2/issues/33725)

<!-- ACP2E-2005 -->

* The `applied_rule_ids` värdet i `quote_item` tabellen innehåller nu en korrekt lista med tillämpade regel-ID:n. Tidigare innehöll det här värdet bara det senast använda regel-ID:t.

<!-- ACP2E-2025 -->

* Mini-cart och kunddata i lokala lager återställs nu när en session tas bort från servern. Tidigare visades dessa data fortfarande när sessionsfilen togs bort.

<!-- ACP2E-1763 -->

* Diskreta kort sammanfogas inte längre av misstag från administratören när beständig kundvagn är aktiverad.

<!-- ACP2E-1988 -->

* Standardleveransadressen i utcheckningssteget är inte längre ifylld med den tidigare valda adressen för plockning-i-butik.

<!-- ACP2E-1614 -->

* Produkter i kundvagnen exkluderas inte längre från relaterade produktlistor och merförsäljningsproduktlistor när cachen har tömts.

<!-- ACP2E-1580 -->

* Kundvagnsskatt och leveransberäkning återspeglar nu korrekt standarddestinationskonfigurationen. Tidigare visades endast ZIP-värdet i kundvagnen under **[!UICONTROL Estimate Tax and Shipping]**. Detta är ett resultat av att Adobe Commerce har angett region-ID:t till undefined innan villkorssatsen som anger standard-region-ID:t från administratören anropas.

<!-- ACP2E-1547 -->

* Adobe Commerce genererar inte längre det här felet vid utcheckning när en beständig kundvagn är aktiverad: `Invalid state change requested`. Tidigare när det här felet uppstod fanns det flera order med samma `quote_id` skapades ibland.

<!-- ACP2E-1456 -->

* Minivagnen visar nu paketpriser som återspeglar konfigurationsinställningarna för kundvagnen. Tidigare ingick alltid moms i priset på paketprodukter.

<!-- ACP2E-1414 -->

* Prestandan för kundsegmentsregler som bygger på aktiva kundvagnar har förbättrats, vilket har minskat den tid som krävs för att lägga till en produkt i kundvagnen.

<!-- AC-7503 -->

* Fraktuppskattningen från kundvagnssidan är nu korrekt. `collectShippingRates` ställs nu in endast en gång. Tidigare har leveransberäkningen duplicerats. [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* The `cart` frågan returnerar inte längre ett fel när en produkt i den angivna vagnen är lagrad. Tidigare gick det inte att slutföra köpet när en artikel inte fanns i lager och utcheckningssidan var tom.

<!-- ACP2E-1459 -->

* Gäst-API-begäranden till `POST V1/guest-carts/<cartId>/shipping-information` returnerar inte längre `cancel` status om sidan läses in igen under inloggning i en mobilmiljö. Tidigare inträffade ett 500-fel i Adobe Commerce och detta undantag loggades: `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* Fri frakt-berättigande beräknas nu som förväntat när **[!UICONTROL Subtotal (Excl. Tax)]** villkor för kundvagnsregler tillämpas. [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* The `cart` frågan returnerar nu korrekt nivåpris för en produkt. [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- ACP2E-1162 -->

* Informativa felmeddelanden har lagts till på utcheckningssidan för att vägleda kunderna när tillämpningen av en kupong på leveranssidan står i konflikt med den valda leveransmetoden. Tidigare sa ett meddelande till kunderna att de skulle återvända till föregående sida.

<!-- ENGCOM-8387 -->

* Autentiserings-popup-fönstret initieras nu bara när det behövs i stället för när gästutcheckning är aktiverat. Den initieras nu när gästshopparen försöker gå vidare till kassan och gästutcheckningen inaktiveras. [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### Kundprisregel

<!-- AC-2054 -->

* Produktdelvalsvillkoret för kundprisregel innehåller nu `total (incl.tax)` som förväntat. [GitHub-34871](https://github.com/magento/magento2/issues/34871)

<!-- ACP2E-2029 -->

* The `If an item is FOUND/NOT FOUND in the cart with ALL/ANY of these conditions true` Villkor för katalogprisregel fungerar nu korrekt med kategori- och SKU-attribut. Tidigare tillämpades detta villkor inte korrekt i kundpriskuponglogiken och ogiltiga kuponger tillämpades på order. [GitHub-37660](https://github.com/magento/magento2/issues/37660)

<!-- ACP2E-1932 -->

* Nu kan du spara en ny kundvagnsprisregel med `Magento_OfflineShipping` tillägg inaktiverat. Tidigare inträffade följande fel i Adobe Commerce: `report.ERROR: Warning: Undefined array key "simple_free_shipping"`. [GitHub-37580](https://github.com/magento/magento2/issues/37580)

<!-- ACP2E-1516 -->

* Kundprisreglerna tillämpas nu som förväntat när en kundprisregel som är relaterad till en leveransmetod har konfigurerats för butiken och den här leveransmetoden ändras till en annan vid utcheckning. Tidigare `applied_rule_ids` värdet ändrades aldrig i `sales_order_item` tabellen och kundvagnsprisregeln tillämpades inte på ordern.

### Katalog

<!-- ACP2E-2257 -->

* Merchants kan nu använda Product Carousel för att skapa CMS-block när `catalog_product_price dimensions-mode` är inställd på `website`. Commerce sparade inte blocket tidigare och genererade detta SLQ-fel: `report.CRITICAL: PDOException: SQLSTATE[42S02]: Base table or view not found: 1146 Table`.

<!-- AC-6847 -->

* I Commerce visas inte längre duplicerade bilder när produktfärgen ändras på en produktinformationssida.  [GitHub-36243](https://github.com/magento/magento2/issues/36243)

<!-- ACP2E-2504 -->

* Optimerade algoritmen för synkronisering av webbplatsspecifika värden efter att ha lagt till en ny butik eller ändrat en befintlig i stora miljöer med flera butiker.

<!-- ACP2E-2631 -->

* Rensningsprocessen för cachelagrade bildfiler har förbättrats för att undvika att dolda kataloger skapas i `pub/media/catalog/product` mapp. Tidigare ledde dolda kataloger till problem med diskutrymme vid rensning. Åtgärden kunde avbrytas, vilket gjorde att tillfälliga dolda kataloger som aldrig togs bort lämnades kvar.

<!-- AC-10316 -->

* Paketproduktpriserna beräknas nu korrekt och ett problem med ordningsföljden vid prisberäkning har lösts. [GitHub-35665](https://github.com/magento/magento2/issues/35665)

<!-- AC-6996 -->

* En onödig sats har tagits bort från `catalog_product_price` indexfrågor, som har förbättrat indexerarens prestanda i butiker med stora kataloger. [GitHub-32382](https://github.com/magento/magento2/issues/32382)

<!-- ACP2E-2522 -->

* Commerce infogar inte längre produktbeskrivningstext på produktinformationssidan **[!UICONTROL Meta Description]** fält när fältet har lämnats tomt. Tidigare visades HTML i Meta när en produktbeskrivning innehöll HTML-kod som genererades av PageBuilder eller en annan HTML-redigerare **[!UICONTROL Description]** och du kunde inte lämna fältet tomt.

<!-- ACP2E-2308 -->

* Konfigurerbara produktalternativ på PDP-sidor för konfigurerbara produkter påverkas inte längre av andra konfigurerbara produktalternativ på sidan. Tidigare utlöstes inte längre ett undantag när det finns en produktkarusell på informationssidan för konfigurerbara produkter med nedrullningsbara attribut. Konfigurerbara produktalternativ kunde inte väljas när det fanns andra konfigurerbara produkter med färgrutealternativ på sidan.

<!-- ACP2E-2260 -->

* Produktinformation som visades nyligen visas nu i enlighet med butiksvyns konfiguration. Tidigare uppdaterades inte de senast visade produktdata per butiksvy, inklusive namn och språk.

<!-- ACP2E-2296 -->

* Vimeo-videor spelas nu upp som väntat på produktsidor i mobilvyn i Chromium-baserade webbläsare.

<!-- ACP2E-1959 -->

* The `bin/magento catalog:images:resize` genererar nu produktbilder korrekt för de produkter som har tilldelats en anpassad webbplats med ett anpassat tema.

<!-- ACP2E-1982 -->

* Metadata `NULL` eller `NOT NULL` värden sparas nu för standardbutiken enligt **Använd standardvärde** kryssrutan som förväntat. Tidigare, metadata med `NULL` värdet sparades inte när kryssrutan avmarkerades.

<!-- ACP2E-2093 -->

* Handlare kan nu ta bort en befintlig bild från informationssidan och sedan överföra en ny bild med samma namn. Tidigare visades inte rätt bild på butikens produktsida.

<!-- ACP2E-2128 -->

* The `productDetail` frågan returnerar nu produktnamnet i stället för null när produktbilden `alt` är inställt som tomt.

<!-- ACP2E-2215 -->

* Beställningar som innehåller både nedladdningsbara och fysiska produkter innehåller nu fungerande länkar till den nedladdningsbara produkten så snart beställningen är klar. Tidigare var länkar till nedladdningsbara produkter inte tillgängliga förrän de fysiska produkterna i samma beställning levererades.

<!-- ACP2E-2343 -->

* URL-omskrivningar uppdateras nu när en kategori flyttas från en butik/rotkategori till en annan butik/rotkategori. Föråldrade databasposter tas nu bort när underkategorierna överförs till nya överordnade kategorier. Databasen innehåller nu bara relevanta poster. Tidigare `url_path` uppdaterades inte med rätt arkiv-ID.

<!-- ACP2E-2152 -->

* REST `V1/products/<sku>/media` slutpunkten kan nu bearbeta samtidig överföring av flera mediabilder. Tidigare skapades inkonsekventa data när flera begäranden bearbetades samtidigt, och Commerce utlöste ett fel när dessa data sparades i databasen.

<!-- ACP2E-2259 -->

* Banderoller i kundsegment beter sig nu som förväntat när en kund som använder ett nyskapat kundkonto loggar ut. Tidigare visades banners skapade för det inloggade kundsegmentet även efter att kontosessionen avslutats (det vill säga den registrerade kunden loggade ut).

<!-- ACP2E-2219 -->

* Prestanda för partiell omindexering för indexerarna för kategoriprodukter och produktkategorier har förbättrats. Tidigare `indexer_update_all_views` cron-jobbet körde omindexerare flera gånger per enskild produkt eller kategori.

<!-- ACP2E-2043 -->

* När produktlagerstatus automatiskt uppdateras till lagerbrist baserat på lagerkonfiguration (kvantitet) uppdateras lagerstatus till lagerstatus när lagerkvantiteten uppdateras. Tidigare `stock_status_changed_auto` inställningen ignorerades när en produkts Stock-konfiguration uppdaterades till i lager.

<!-- AC-8904 -->

* Sortering av verktygsfält fungerar nu som väntat på söksidor när **[!UICONTROL Remember Category Pagination]** inställningen är aktiverad. [GitHub-33220](https://github.com/magento/magento2/issues/33220)

<!-- ACP2E-1640 -->

* Flervalsattribut sparas nu som förväntat när **[!UICONTROL Use Default Value]** kryssrutan i butiksvyn är markerad. Den här kryssrutan avmarkerades tidigare när produkten redigerades och standardvärdet sparades.

<!-- ACP2E-1878 -->

* Administratörsanvändare med begränsad webbplatsåtkomst kan nu lägga till bilder i en produkt som omfattas av deras omfång. Om administratörsanvändaren inte har åtkomstbehörighet till produkten visas ett informativt meddelande. Tidigare gick det inte att lägga till bilder i produkter som administratörsanvändare med begränsad webbplatsåtkomst hade tillgång till.

<!-- ACP2E-1956 -->

* Användardefinierad `special_from_date`, `special_to_date`, `news_from_date`och `news_to_date` värden åsidosätts inte när en produkt redigeras i butiksvyn.

<!-- AC-6761 -->

* I Commerce visas nu rätt namn efter att produkterna har sorterats efter namn i Admin > **[!UICONTROL Category]** > **[!UICONTROL Products in category]** i multibutiksdistributioner där produktnamnen varierar mellan olika butiker. [GitHub-36208](https://github.com/magento/magento2/issues/36208)

<!-- ACP2E-1975 -->

* The `addProductsToCart` mutation returnerar nu anpassningsbara alternativ med data. Tidigare returnerades bara tomma anpassningsbara alternativ. [GitHub-37599](https://github.com/magento/magento2/issues/37599)

<!-- ACP2E-1859 -->

* Produktposition och ID-val visas nu korrekt när en administratörsanvändare lägger till en ny produkt i en kategori efter att cacheminnet har rensats, men inte läser in kategorisidan igen. Tidigare var produktpositionen och urvalet inte matchade och visades felaktigt.

<!-- ACP2E-1779 -->

* Merchants kan nu uppdatera det framtida startdatumet eller starttiden för en schemalagd ändring för nedladdningsbar produkt. Tidigare inträffade detta fel i Adobe Commerce under uppdateringen av det framtida startdatumet eller den framtida starttiden för den hämtningsbara produkten: `The downloadable link isn't related to the product. Verify the link and try again`.

<!-- ACP2E-1943 -->

* Status för restorder av produkter visas nu korrekt i butiken. Tidigare identifierades produkter som var tillgängliga för leverans felaktigt som beställda.

<!-- ACP2E-1948 -->

* Åtkomst till hämtningsbara produkter från administratören resulterar inte längre i ett fel när administratörsanvändaren ändrar butiksvyn från den vy som användes när produkten skapades till en annan butiksvy. Produktpriserna konverteras nu till flytande när en administratör växlar butiksvyn från alla butiksvyer till standardbutiksvyn. Tidigare inträffade ett fel i Adobe Commerce. [GitHub-37519](https://github.com/magento/magento2/issues/37519)

<!-- ACP2E-1994 -->

* Exporterade produkter har nu rätt `manage_stock` värdet när `use_config_manage_stock` värde är lika med `1`. Tidigare var standardvärdet felaktigt.

<!-- ACP2E-1479 -->

* Ett varningsmeddelande visas inte längre i Adobe Commerce när du sparar en produkt som har skapats med anpassade alternativ efter att bilden har tagits bort.

<!-- ACP2E-1419 -->

* Miniatyrbilder av produkter visas nu som väntat i det varningsmeddelande som skickas när en produkt är tillbaka i lager. Den här bilden visades inte i e-postmeddelandet

<!-- AC-3003 -->

* Antalet produkter i kategoriträdet (Admin **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) är nu korrekt. Det gick inte att hämta antalet kategoriprodukter från `catalog_category_product_index` tabell. Det stavfel som utlöste felet har åtgärdats. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* Huvudproduktbilden på informationssidan ändras inte längre nedåt under sidinläsning när `product_image_white_borders` i tema `view.xml` är inaktiverat. Tidigare flyttades produktbilden synligt nedåt under sidinläsningen på grund av felaktiga höjdinställningar i Fotorama JS.

<!-- ACP2E-1361 -->

* Kunderna meddelas nu om prissänkningar när kunden prenumererar på varningar om prisfall. Tidigare skickades inte alltid meddelanden om prisfall på grund av cachelagring på programnivå.

<!-- ACP2E-1422 -->

* Validering på serversidan har lagts till i processen att skapa produktattribut via webb-API:t. Du kan inte aktivera **[!UICONTROL Use in Layered Navigation Catalog]** fältet när **[!UICONTROL Catalog Input Type for Store Owner]** fältvärdet är `Text Field`, `Text Area`, `Text Editor`, `Date`, eller `Date and Time`. Tidigare har produkter utelämnats från kategorier och sökresultat.

<!-- ACP2E-1413 -->

* Kategorisidan läses nu in igen med rätt sidnumrering när en kund öppnar sidan, ändrar sidnumreringen, navigerar till en produktsida och sedan återgår till kategorisidan. [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* Enkla produkter som inte finns i lager och som är alternativ för en konfigurerbar produkt visas nu som inaktiverade i butiken när **[!UICONTROL Display Out of Stock Products]** är inställd på **Ja**. Tidigare visades alla alternativ som tillgängliga, trots status och verklig tillgänglighet.

<!-- ACP2E-1384 -->

* När webbplatsens omfångsattribut uppdateras i en specifik butiksvy åsidosätts inte längre attributets värde i det globala omfånget. Tidigare importerades produktpriser när flera rader var tillgängliga med samma SKU och `store_view_code` resulterade i felaktiga priser för standardvyomfånget och alla visningsomfång för butiken.

<!-- ACP2E-1632 -->

* Merchants kan nu lägga till en GIF-bild i en produkts bildgalleri från Admin. Tidigare visade Adobe Commerce följande fel: `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* Kontroller har lagts till för att hantera fel som beror på odefinierade matrisnycklar. Tidigare uppstod ett fel vid generering av deklarativa schemavitelist.

<!-- ACP2E-1749 -->

* Adobe Commerce returnerar nu ett giltigt resultat för det anpassade datumet `01/01/1970`. Tidigare returnerade attributet följande fel: `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` Frågor som använder fragment returnerar nu kategoriinformation som förväntat. Tidigare uppstod ett internt serverfel på kategorisidan. [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* Problem med `cataloginventory_stock` delvis omindexering har lösts och indexerarens prestanda har förbättrats. Tidigare uppdaterades inte lager- och produktkategorier korrekt.

<!-- AC-8226 -->

* Adobe Commerce genererar nu en 301-omdirigering för en produkt när kategorin den tillhör har flyttats till en ny överordnad. [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### Katalogregler

<!-- ACP2E-1834 -->

* Katalogregler indexeras nu korrekt när de aktiveras av schemauppdatering. Rabatterade priser genereras och indexeras nu korrekt. Tidigare genererades inte katalogregelns rabattpriser för den andra katalogregeln när två katalogregler var tillgängliga och en regel aktiveras efter den första regeln innan katalogregelns indexeringsåtgärd har slutförts.

<!-- ACP2E-1579 -->

* Katalogregler används nu som förväntat i en miljö med flera webbplatser.

### Konfigurerbara produkter

<!-- ACP2E-1881 -->

* Handlare kan nu välja **[!UICONTROL Skip quantity at this time]** och **[!UICONTROL Skip image uploading at this time]** när du konfigurerar en konfigurerbar produkt utan att påverka källan för tillhörande enkla produkter. Tidigare, markera  **[!UICONTROL Skip quantity at this time]** har lett till att produktkällor har försvunnit.

<!-- AC-7099 -->

* The **[!UICONTROL As low as]** Etiketten visas inte längre för ett konfigurerbart produktpris när alla alternativ har samma pris.

<!-- ACP2E-2464 -->

* Administratörsanvändare med webbplatsbehörigheter kan nu spara en underordnad produkt som är en del av en konfigurerbar produkt i en annan butikskontext. Omindexeringsprocesser hoppar nu över den här typen av konfigurerbar produkt.

<!-- ACP2E-2003 -->

* Konfigurerbara produkter med två underordnade produkter markeras inte längre som saknade i lager när en underordnad produkt inaktiveras av en schemalagd uppdatering.

<!-- AC-8060 -->

* Prestandan för att spara för konfigurerbara produkter med flera alternativ har förbättrats. Tidigare kunde timeout inträffa när produkten sparades. [GitHub-36928](https://github.com/magento/magento2/issues/36928)

<!-- ACP2E-1764 -->

* Butiksvisningen av konfigurerbara produktpriser ändras nu som väntat när en kund väljer ett produktalternativ. [GitHub-37378](https://github.com/magento/magento2/issues/37378)

### Kuponger

<!-- ACP2E-2495 -->

* Kupongkoder med ett begränsat antal användningar per kund kan nu användas en andra gång när den order som de tidigare användes för misslyckas. Tidigare släpptes inte kampanjkoden när den tidigare ordern annullerades.

<!-- ACP2E-2428 -->

* Kupongkoder som innehåller blankstegstecken blir inte längre ogiltiga. Tidigare misslyckades valideringen om en kupongkod innehöll ett blanksteg (före eller efter den faktiska koden). [GitHub-38048](https://github.com/magento/magento2/issues/38048)

<!-- ACP2E-1551 -->

* Köpare kan nu använda två separata autogenererade kupongkoder som har genererats av samma kundvagnsprisregel. The `Uses per Coupon` fältet är nu aktiverat när kupongtypen har valts till `Auto` (liknande för kupongtyp =`Specific Coupon`) . Detta innebär i sin tur att kunden kan tillämpa flera kupongkoder på samma kundvagn om koderna är olika.

<!-- ACP2E-1496 -->

* En köpares kupongvärde för engångsbruk återställs nu som förväntat när den ordning som användes annulleras.

<!-- ACP2E-1195 -->

* The `GET V1/coupons/<couponId>` slutpunkten returnerar nu det fullständiga förväntade svaret för manuellt skapade kuponger på samma sätt som för automatiskt genererade kuponger. Tidigare har vissa fält utelämnats (t.ex. `usage_limit`, `usage_per_customer`och `created_at`).

### cron

<!-- ACP2E-2457 -->

* The `aggregate_sales_report_bestsellers_data` cron-jobb skapar inte längre mycket stora temporära MySQL-tabeller och slutförs nu korrekt. Detta cron-jobb infogar nu data per butik, inte för alla butiker på en gång. Tidigare kunde det här kronijobbet resultera i `No space left on device` fel.

<!-- ACP2E-2427 -->

* Antalet väntande poster i `cron_schedule` tabellen har reducerats genom att förhindra cron-jobb från att försöka hämta onödiga cron-jobblås. Tidigare försökte cron-jobb hämta lås när det var för sent att köra jobbet. Kronjobb i `cron_schedule` markerades inte som missade trots att de redan hade passerat sin schemalagda tid. Det här felet visas också upprepade gånger i felloggen: `report.WARNING: Could not acquire lock for cron job: indexer_update_all_views`.

<!-- AC-9207 -->

* Korrigerade det allvarliga division med noll-felet i cron-uttryck. [GitHub-37804](https://github.com/magento/magento2/issues/37804)

<!-- ACP2E-1792 -->

* The `sales_clean_quotes` cron-processen har optimerats för att kunna köras snabbare genom att ett sammansatt index läggs till på `store_id` och `updated_at columns` i citattabellen. Den här ändringen förbättrar prestanda för cron-jobb när många citattecken bearbetas.

<!-- AC-7987 -->

* Administratörsanvändare kan nu se vilken uppgift `bin/magento cron:run` pågår för närvarande. Titeln på den process som körs visas nu med namn på grupper och jobb. [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### Kund

<!-- AC-6748 -->

* Adobe Commerce visar nu **[!UICONTROL Date of Birth]**, **[!UICONTROL Tax/VAT Number]**, **[!UICONTROL Gender]**, **[!UICONTROL Telephone]**, **[!UICONTROL Company]** och **[!UICONTROL Fax]** fält på sidan Redigera kund baserat på konfigurationsinställningar. [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### Kundsegment

<!-- ACP2E-2471 -->

* Kundsegmentvillkoren läser nu in alla matchade kunder som förväntat. Tidigare innehöll kundsegmentets kundlista inte alla matchade kunder.

### E-post

<!-- ACP2E-2125 -->

* E-postmeddelanden som innehåller diakritiska tecken eller accenter (dvs. utf8-e-post) stöds nu för kunder och företag samt för beställningsmontering av gäster och registrerade kunder. Tidigare sparade inte Commerce kundposter som innehöll diakritiska tecken och visade följande fel: `Something went wrong while saving the customer`.

<!-- ACP2E-2503 -->

* Namn på e-postavsändare får inte längre innehålla kolontecken. En ny valideringsregel förhindrar nu att avsändarnamn som innehåller kolontecken sparas från Store Email Addresses-delen av Admin **[!UICONTROL Stores]** > **[!UICONTROL General]**. Tidigare kunde handlarna spara ett avsändarnamn som innehöll ett kolontecken, vilket resulterade i fel på e-postservern.

<!-- ACP2E-2018 -->

* Bildalternativen visas inte längre som HTML-kod i kundens e-postmeddelanden (standardmall) för produkter med anpassade bildalternativ.

<!-- ACP2E-1529 -->

* Information om företagsadministratörer sparas nu som förväntat och administratörer omdirigeras korrekt när e-postmeddelanden om företagsadministratörer innehåller en `CMS Block URL` variabel.

<!-- AC-2903 -->

* Kundens e-postadresser kan nu innehålla diakritiska tecken. Tidigare var det inte tillåtet att skapa en användare med diakritiska tecken i e-postadressen vid valideringen. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* Mejl med butiks- och prismeddelanden översätts nu enligt det språk som har konfigurerats för webbplatsens standardbutiksvy. Tidigare översattes inte dessa e-postmeddelanden.

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` skickar nu ett e-postmeddelande till kunderna om att en beställning är klar att hämtas endast när beställningen är klar. E-post aktiveras nu endast när begäran har slutförts utan ett undantag.

### EAV

<!-- ACP2E-2222 -->

* EAV-indexeraren kräver inte längre att osynliga enheter tas bort under gruppbearbetning. Som standard grupperas inte längre osynliga produkter i indexeraren och indexerarens prestanda har förbättrats.

### Ramverk

<!-- AC-10865 -->

* Kod som återfanns i hela koddatabasen som skapades när kodningsrutiner innebar att alla cacheavsnitt som ingick i `app/etc/env.php` filen skulle innehålla ett kantavsnitt. Denna omfaktorisering åtgärdar potentiella problem vid uppgradering av Commerce före 2.4.4-distributioner. [GitHub-38363](https://github.com/magento/magento2/issues/38363)

<!-- AC-8005 -->

* Tydligare felmeddelande som är kopplat till `StockItemValidator.php` när ett aktie-ID med värdet 0 anges under ett API-anrop. [GitHub-31107](https://github.com/magento/magento2/issues/31107)

<!-- AC-10583 -->

* En tom standardarray har lagts till i `$tagGenerators` in `CompositeTagGenerator` för att förhindra fel vid beroendeinjektionskompilering. Tidigare kördes `bin/magento setup:upgrade` när `Magento_DirectoryGraphQl` och `Magento_StoreGraphQl` Modulerna inaktiverades vilket resulterade i ett fel. [GitHub-38165](https://github.com/magento/magento2/issues/38165)

<!-- AC-9232 -->

* Oanvända `AlgorithmProviderFactory` klassen har tagits bort samt beroenden till den här klassen i klasser som innehåller `JweAlgorithmManagerFactory.php`, `JweContentAlgorithmManagerFactory.php`och `JwsAlgorithmManagerFactory`. [GitHub-37783](https://github.com/magento/magento2/issues/37783)

<!-- AC-9776 -->

* The `var/log/system.log` filen innehåller inte längre `main.INFO error` meddelanden. Menyalternativloggen har flyttats från nivån INFO till DEBUG. Tidigare `var/log/system.log` filen har översvämmats med meddelanden som detta: `Add of item with id Magento_Theme::design_config was processed … `.

<!-- AC-8809 -->

* Förinläsning av Redis misslyckas inte längre när `exec()` returnerar false. Verifiering har lagts till i förinläsningsprocessen för att förhindra `array_combine` från mottagande `false` som ett andra argument. Detta resulterar i att förinläsningen fortsätter när `exec()` returnerar `false`. [GitHub-37509](https://github.com/magento/magento2/issues/37509)

<!-- AC-8220 -->

* Refactored the `Magento_CatalogWidget` modul som ska ersätta `$block` flyta funktioner med `$escaper` funktioner för att ta bort. [GitHub-37107](https://github.com/magento/magento2/issues/37107)

<!-- AC-9336 -->

* `Swaziland` har uppdaterats till `Eswatini` i hela kodbasen. [GitHub-37873](https://github.com/magento/magento2/issues/37873)

<!-- ACP2E-2638 -->

* Den nya nicaraguanska valutan (NIO) har lagts till i listan över tillgängliga valutor.

<!-- AC-10591 -->

* Ändrade namnet på `reponseBody` variabel till `responseBody` in `app/code/Magento/CatalogRule/Controller/Adminhtml/Promo/Catalog/NewConditionHtml.php`.[GitHub-38093](https://github.com/magento/magento2/issues/38093)

<!-- AC-9221 -->

* Löste avrundningsfel för delsummor som inträffade i transaktioner för produkter för vilka decimalkvantitet har aktiverats. [GitHub-37817](https://github.com/magento/magento2/issues/37817)

<!-- ACP2E-2127 -->

* Datumfiltret för Admin-kundens rutnät fungerar nu som väntat enligt den angivna språkinställningen.

<!-- AC-9027 -->

* The `bin/magento setup:upgrade` kommandot misslyckas inte längre på grund av `$schemaPatch` variabeldatatyp. Tidigare skickades strängvärdet till `get_class` som orsakade felet. [GitHub-37545](https://github.com/magento/magento2/issues/37545)

<!-- ACP2E-2485 -->

* Viktiga läsfel för databaser när `synchronous_replication` är aktiverat för slavanslutningar på Adobe Commerce Cloud.

<!-- ACP2E-2345 -->

* Anslutningen till MySQL-databasen återställs nu om anslutningen gör timeout under en transaktion när du anger `max_messages = 0` för konsumenter. Tidigare avbröts anslutningen.

<!-- ACP2E-2121 -->

* The `magento/module-release-notification` kärnmodulen har markerats som borttagen i 2.4-framkallningskoden med den här kommentaren: `Starting from Magento 2.4.7,  Magento_ReleaseNotification module is deprecated in favor of another in-product messaging mechanism`.

<!-- AC-9388 -->

* Proxykodgenerering genererar nu proxy- och Factory-filer som förväntat för distributioner som körs i produktionsläge. [GitHub-35252](https://github.com/magento/magento2/issues/35252)

<!-- AC-1477 -->

* Den indiska staten Ladakh finns nu med som ett alternativ i Admin-adressen **[!UICONTROL State]** menyer i listrutan. [GitHub-33698](https://github.com/magento/magento2/issues/33698)

<!-- AC-8388 -->

* Nedräkningsfilmen för händelsen visas nu som förväntat på kategorisidan.

<!-- AC-8369 8368 8365 8317 8351 8357 8377 8357 8351 8323-->

* Förbjuden `@author` -taggen har tagits bort från kodbasen, inklusive följande modul: `Magento_user-variable-wee`, `Magento_Catalog`och `Magento_Customer`, `Magento_Wishlist`, `Magento_Review` `Tax`och i hela ramverket. [GitHub-37245](https://github.com/magento/magento2/issues/37245), [GitHub-37246](https://github.com/magento/magento2/issues/37246), [GitHub-37249](https://github.com/magento/magento2/issues/37249), [GitHub-37263](https://github.com/magento/magento2/issues/37263)

<!-- AC-9489 -->

* JSON-serialiseraren i `User` har ersatts med ett nytt, mer korrekt serialiseringsverktyg (`JsonHexTag`). Tidigare kraschade Commerce ibland vid försök att använda data som serialiserats av den vanliga serialiseraren när den innehöll unescape-element. [GitHub-31377](https://github.com/magento/magento2/issues/31377)

<!-- ACP2E-2138 -->

* Brutna pipeline-fel inträffar inte längre när en fullständig omindexering körs (`bin/magento indexer:reindex`). AMPQ-anslutningar stängs nu innan processhanteraren förgrenar processerna.

<!-- ACP2E-2244 -->

* Valideraren för kömeddelande validerar nu undertypen för alla arrayelement. Tidigare genererade Commerce ett undantag.

<!-- ACP2E-2066 -->

* Konfiguration av köanslutning per ämne i `app/etc/env.php` fungerar nu korrekt. Tidigare genererades inte produktaviseringskön korrekt när en ny meddelandekö skapades med en anpassad växling. Om köanslutningen för ett ämne har konfigurerats i `app/etc/env.php` med ett anpassat utbyte skapades en ny bindning för alla ämnen med det anpassade utbytet. Det gick inte att bearbeta produktvarningar.

<!-- ACP2E-2144 -->

* Tillfälliga format markerade med en  `/* mariadb-5.3 */` kommentaren orsakar inte längre fel under `bin/magento setup:install` när du uppgraderar MariaDB-servern till version 10.5.1 eller senare.

<!-- ACP2E-2147 -->

* AwsS3-drivrutinen fungerar nu som förväntat som en ersättning för implementeringen av standardfillagring. Tidigare kunde data vara skadade när den här drivrutinen konfigurerades för fillagring. [GitHub-37844](https://github.com/magento/magento2/issues/37844)

<!-- ACP2E-1999 -->

* `bin/magento config:show` och `set` kommandon som `$_ENV` variabler har nu stöd för användning av kod för webbplatser och butik som innehåller versaler eller kamelcase.

<!-- AC-8923 -->

* Lagt till klasser med `!important` som i Tailwind 3 för CSS-layout. [GitHub-37568](https://github.com/magento/magento2/issues/37568)

<!-- AC-9115 -->

* Saknas `jQuery` beroendet har lagts till i `trim-input.js` -fil. [GitHub-37683](https://github.com/magento/magento2/issues/37683)

<!-- AC-9387 -->

* Händelsespecifika detaljer skickas nu som ett andra attribut (`context`) i `log` -metod. [GitHub-37879](https://github.com/magento/magento2/issues/37879)

<!-- AC-9109 -->

* Proportionsvärden har lagts till i katalogbilder och onödiga skript har tagits bort från gränssnittets ramverk. [GitHub-37691](https://github.com/magento/magento2/issues/37691)

<!-- AC-9188 -->

* Reviderade felmeddelanden utlöses av ogiltig XML-konfiguration för att bli mer informativa. [GitHub-37788](https://github.com/magento/magento2/issues/37788)

<!-- AC-9335 8817-->

* Ersatt inaktuell kod som relaterar till skapandet av dynamiska egenskaper i hela kodbasen.

<!-- AC-7009 -->

* Prestandan för indexerare för stora butiker med extremt aktiva produktdatabaser har förbättrats. Indexerare indexerar nu den senaste produktinformationen en gång för varje index i stället för flera gånger. Tidigare försvann produkterna från webbplatsen och produktinformationen kunde vara inaktuell på webbplatsen. [GitHub-30012](https://github.com/magento/magento2/issues/30012)

<!-- ACP2E-1971 -->

* `mview_state` poststatus indikerar nu korrekt tillstånd baserat på ändringsloggaktivitet när en slavdatabasanslutning är tillgänglig. Tidigare fanns dessa poster kvar i `waiting` i molndistributioner även när det inte fanns några nya poster i ändringsloggen.

<!-- ACP2E-2022 -->

* Stöd för `precision` alternativ för valutaformat för att bevara funktionens paritet med det borttagna `ZendCurrency` klassen.

<!-- AC-8854 -->

* Cookie-meddelanden har konverterats till observerbara attribut, och utvecklare kan nu ändra tillstånd, vilket kan aktivera gränssnittsändringar. Tidigare var cookies skrivskyddade och kunde inte ändras. [GitHub-37308](https://github.com/magento/magento2/issues/37308)

<!-- AC-6325 -->

* Administratörsanvändare kan nu generera en faktura när deras Commerce-instans är ansluten till S3-lagring. I Commerce visades det här felet tidigare: `Cannot create image resource. File not found`. [GitHub-35706](https://github.com/magento/magento2/issues/35706)

<!-- AC-6906 -->

* Adobe Commerce loggar nu ett undantagsmeddelande som förväntat när momsnummervalidering av VIES-valideringstjänsten misslyckas. [GitHub-36065](https://github.com/magento/magento2/issues/36065)

<!-- AC-8146 -->

* The `Administrators` Namnet har tagits bort från frågan som används för att hämta en administratörsroll när administratörsrollen skapas. [GitHub-36998](https://github.com/magento/magento2/issues/36998)

<!-- AC-8607 -->

* The `bin/magento setup:config:set` kommandot misslyckas inte längre när ett ogiltigt databasanvändarnamn ingår i `app/etc/env.php` -fil. [GitHub-37409](https://github.com/magento/magento2/issues/37409)

<!-- AC-8595 -->

* Sortering efter kolumn på reserverade ord i en standardkomponent i användargränssnittet ger inte längre upphov till ett SQL-fel i `var/log/exception.log`. [GitHub-37423](https://github.com/magento/magento2/issues/37423)

<!-- AC-8562 -->

* Tillagd `AddDataForCostaRica.php` att lämna upplysningar till Costa Rica. [GitHub-37382](https://github.com/magento/magento2/issues/37382).

<!-- AC-8577 -->

* Förbättrat felmeddelande för scenarier där användaren försöker få åtkomst till en ogiltig URL från administratören. [GitHub-35682](https://github.com/magento/magento2/issues/35682).

<!-- ACP2E-1841 -->

* `Param $options[`position`]` för valutasymboler fungerar nu som väntat och stöder anpassning av positionen för valutasymbolen. Tidigare, efter migrering från Zend Framework 1 `toCurrency` metoden ignoreras `position` parameter. Problemet uppstod i hela Admin-gränssnittet.

<!-- AC-8817 -->

* Ersatt inaktuell kod som relaterar till att dynamiska egenskaper skapas i hela kodbasen.

<!-- AC-8154 -->

* Anpassade formatformat som skapades genom att TinyMCE-redigeraren utökades i Adobe Commerce- och Magento Open Source-versioner före 2.4.6 är nu tillgängliga som förväntat i Page Builder `text` innehållstyp. Tidigare ignorerades det anpassade formatformatet och endast de standardformat som lästes in efter uppgradering till Adobe Commerce 2.4.6-p1. [GitHub-36950](https://github.com/magento/magento2/issues/36950)

<!-- AC-8576 -->

* Följande informativa anteckning har lagts till i `quote.php` fil: `Important: This method also copies customer data to quote and removes quote addresses`. [GitHub-37400](https://github.com/magento/magento2/issues/37400)

<!-- ACP2E-1973 -->

* Instansiering av låsprovidern går nu igenom `\Magento\Framework\Lock\Proxy` klassen. Lås-providern är nu konfigurerad med `lock` genom `app/etc/env.php` -fil.

<!-- ACP2E-1492 -->

* Mutex har implementerats för order för att förhindra konkurrensförhållanden under uppdatering på grund av samtidiga förfrågningar. Tidigare orsakade samtidiga begäranden (konkurrensvillkor) för orderannulleringar dubblerade poster i `inventory_reservation` tabell.

<!-- ACP2E-1381 -->

* The `populateWithArray` funktionen omformar nu objektegenskaper så att de blir rätt skiftlägeskänsliga, vilket gör dem kompatibla med `AbstractModel` get och set. Tidigare var formateringen av ormen felaktigt när datatillverkarens namn innehöll flera versaler på en rad.

<!-- ACP2E-1522 -->

* Värdet för automatisk ökning i dialogrutan `catalog_product_entity_varchar` tabellen ökar nu korrekt när en produkt har sparats. Tidigare ökade det här värdet med tio.

<!-- ACP2E-1701 -->

* Adobe Commerce genererar inte längre det här filsystemundantaget när du försöker tömma JavaScript-/CSS-cachen: `No such file or directory`.

<!-- ACP2E-1358 -->

* Värdet för `value_id` in `customer_entity_int` har nu ökats korrekt. En uppdateringsfråga körs i stället för `insert on duplicate key update` när en entitet som innehåller dessa attribut uppdateras. Detta innebär att de kolumner för automatisk ökning som används i EAV-modellen nu växer linjärt. Tidigare hoppade värden över av den automatiska stegningsprocessen för kolumner på grund av misslyckade infogningsfrågor. [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* Onödigt tomt utrymme har tagits bort från `id` attribut som inte kräver det. (Felet uppstod när Adobe Commerce 2.4.6-koden ändrades.)

<!-- AC-7923 -->

* Butikskoder visas inte längre i butikens URL när butiken är i enbutiksläge. [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* Mindre uppdateringar har gjorts i `around` plugins. [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* Färgrutorna `Helper` har omarbetats för att ta bort vilseledande importalias. [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* Administratörsanvändare kan nu ta bort eller byta namn på en `sitemap.xml` filen som förväntat. Tidigare kunde en administratörsanvändare ta bort filen från administratören, men den fanns kvar i filsystemet. [GitHub-37468](https://github.com/magento/magento2/issues/37468)

<!-- ACP2E-1747 -->

* Kuponger markeras inte längre som använda när betalningen misslyckas för den order som de har tillämpats på. Kömeddelanden bearbetas nu i den ordning som de publiceras när konsumenten startas. Tidigare togs det första meddelandet bort från kön för att kontrollera om meddelanden låg i kö och avvisades därefter, vilket ledde till att det första meddelandet bearbetades sist.

<!-- ACP2E-1627 -->

* Adobe Commerce genererar inte längre något undantag i loggfilen när en användare försöker skriva ut en leveransetikett. Tidigare, om ett tillägg ändrar svarshuvuden som innehåller en bifogad fil, utlöstes ett undantag i loggfilen.

<!-- AC-7986 -->

* Stöd för fler HTML-klasser har lagts till i `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)

### Allmänna korrigeringar

<!-- AC-10591 -->

* Ändrade namnet på `reponseBody` variabel till `responseBody` in `app/code/Magento/CatalogRule/Controller/Adminhtml/Promo/Catalog/NewConditionHtml.php`.[GitHub-38093](https://github.com/magento/magento2/issues/38093)

<!-- ACP2E-2647 -->

* Produktuppdateringar som schemaläggs rensar inte längre flervalsattributdata. Tidigare rensades produktens flervalsattributdata felaktigt när en uppdatering schemalagdes för en produkt. [GitHub-37675](https://github.com/magento/magento2/issues/37675)

<!-- AC-2904 -->

* Om du sparar en produkt med en lagringsomfattning som inte är standard blir inte längre oförändrade attribut lagringsomfångade när de läses in med `ProductRepository`. [GitHub-8897](https://github.com/magento/magento2/issues/8897)

<!-- ACP2E-2132 -->

* Köpare har nu åtkomst till sidor som är konfigurerade som hierarkinoder när åtkomstbegränsningar är aktiverade. Tidigare inträffade en oändlig omdirigeringsslinga och webbläsaren returnerade följande fel: `ERR_TOO_MANY_REDIRECTS`.

<!-- ACP2E-2404 -->

* Informativa felmeddelanden har lagts till i anpassad fältvalidering på produktinformationssidor. [GitHub-38006](https://github.com/magento/magento2/issues/38006)

<!-- ACP2E-2511 -->

* Specialtecken kan nu användas i namnfält. Tidigare var et-tecknet (&amp;) begränsat i namnvalideraren, vilket blockerade åtgärder för att lägga till eller redigera kunder när kundnamnet innehöll ett et-tecken. [GitHub-38080](https://github.com/magento/magento2/issues/38080)

<!-- ACP2E-2469 -->

* Administratörsanvändare med begränsad åtkomst till en viss butik kan nu använda en massuppdateringsåtgärd för att uppdatera produktrecensioner. I Commerce utlöstes detta undantag: `report.CRITICAL: TypeError: array_intersect(): Argument #1 ($array) must be of type array, null given in app/code/Magento/AdminGws/Model/Models.php:439`.

<!-- AC-8600 -->

* Funktionen Visa lösenord visas nu som förväntat på inloggningssidan för butiken. Tidigare visades inte lösenord. [GitHub-37432](https://github.com/magento/magento2/issues/37432)

<!-- ACP2E-2062 -->

* Produktjämförelselistan är nu alltid webbplatsspecifik för gästkunder och innehåller inte produkter som lagts till från andra webbplatser, inklusive produkter som tilldelats till båda webbplatserna.

<!-- ACP2E-2087 -->

* CMS-innehållsblock som innehåller känslolägesikoner trunkeras inte längre efter uttryckssymbolen när de sparas i databasen. Tidigare trunkerades innehållet efter känslolägesikonen eftersom standarddatabaskonfigurationen inte hade stöd för fyrbytetecken.

<!-- ACP2E-2154 -->

* Regelns relaterade produkt **Är en av** villkoret fungerar nu korrekt när det är konfigurerat med **Produkter som matchar** inställning. Tidigare identifierades inga produkter i den här regeln.

<!-- ACP2E-2164 -->

* CMS-sidstödrastret filtrerar nu sidor baserat på den butiksvy som har tilldelats administratörsanvändaren. Tidigare tillämpades inte rollomfånget.

<!-- AC-8823 -->

* Lösenord visas nu som förväntat när **[!UICONTROL Show Password]** kryssrutan på inloggningssidan är aktiv.

<!-- ACP2E-2037 -->

* Återställ systemattributet för lösenordstoken för kundentitet (`rp_token`) validering har tagits bort från attributvalidering när ett kundkonto skapas, och diakritikvalidering ingår endast i det resulterande e-postmeddelandet. Tidigare sparade inte Commerce kundposten och det här felet visades: `Something went wrong while saving the customer`.

<!-- AC-8826 -->

* Du kan nu spara redigeringar i rutnätet Administratörssidor och Blockera när du har tagit bort en kolumn. [GitHub-37525](https://github.com/magento/magento2/issues/37525)

<!-- ACP2E-1933 -->

* Företagsadministratörer kan nu lägga till företagsanvändare från butiken. Tidigare loggade Commerce det här felet när en administratörsanvändare försökte lägga till en ny användare: `report.CRITICAL: Error: Call to a member function __toArray() on null in app/code/Magento/LoginAsCustomerLogging/Observer/LogSaveCustomerObserver.php:123`.

<!-- ACP2E-1972 -->

* Kunder kan nu logga in med ett nytt lösenord från en enhet efter att de återställt sitt lösenord på en annan enhet.

<!-- ACP2E-1609 -->

* Admin - kundadress **Stat/provins** fältet behåller nu det senast sparade värdet som förväntat. När du tog bort värdet från det här fältet fortsatte Commerce att visa det borttagna värdet i **Stat/provins** fält. [GitHub-36846](https://github.com/magento/magento2/issues/36846)

<!-- ACP2E-1796 -->

* Adobe Commerce genererar inte längre ett fel om överträdelse när du först avmarkerar och sedan väljer en ny CMS-sida.

<!-- ACP2E-1639 -->

* En webbplatsrot för hierarkin är nu korrekt tilldelad till en nyligen skapad CMS-sida. Tidigare matchades inte hierarkiwebbplatsens rotval på nyligen skapade CMS-sidor.

<!-- ACP2E-1508 -->

* Fel uppstår inte längre vid begäranden om RSS-flöden för kategorier när **[!UICONTROL RSS Feed Top Level Category]** är aktiverat. Tidigare ledde en bläddring i kategorin RSS-flöden till Elasticsearch `CRITICAL` fel i loggfiler när **[!UICONTROL RSS Feed Top Level Category]** har aktiverats.

<!-- ACP2E-1490 -->

* Rätt värde sparas nu för `gws_store_groups` när rollomfånget ändras när användarroller skapas. Tidigare när rollomfånget valdes som `All`, `gws_store_groups` värdet sparades som null när användaren skapades men inte vid rollredigering. Om rollomfånget valdes som `Custom`och sedan `gws_store_groups` värdet har alltid sparats som null.

<!-- ACP2E-1446 -->

* Sidan för återställning av lösenord kan nu öppnas genom att klicka på länken för återställning av lösenord för administratör på inloggningssidan för administratörer när **[!UICONTROL Add Store Code to Urls]** inställningen är aktiverad. Länken för administratörsåterställning av lösenord har tidigare öppnat inloggningssidan eller 404-sidan.

<!-- ACP2E-1274 -->

* Datumintervallet i kontrollpanelen för administratörsstatistik beräknas nu baserat på den tidszon som anges i konfigurationsinställningarna och konverteras sedan till UTC för att hämta data från databasen.

<!-- ACP2E-1665 -->

* CMS-hierarkifiltret fungerar som väntat när du har filtrerat en butiksvy och sedan klickat **[!UICONTROL Save]** på Admin **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. Klicka tidigare på **[!UICONTROL Save]** uppdaterade sidan, men kontexten bröts och den valda butiksvyn visades inte längre.

<!-- ACP2E-1631 -->

* Klicka på **[!UICONTROL Send invitation]** button (Admin **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]** > **[!UICONTROL Invitation]**) skickar nu en förfrågan om POST tillsammans med formulärnyckeln och inbjudan skickas. När du klickade på den här POSTEN fanns varken HTTP-metoden eller formulärnyckeln med.

<!-- ACP2E-1608 -->

* Noll-byte-filer kan nu kopieras till fjärrlagring med AWS S3.

<!-- AC-7402 -->

* Administratörsanvändare kan nu lägga till en ny kundadress från administratören när kunden har skapats för en annan webbplats vars butiks-ID inte matchar webbplatsens ID. Tidigare visade Adobe Commerce detta popup-meddelande: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* CMS-blockredigerarsidan visar nu rätt widget `block_id` värde. [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### Presentkort och omslag

<!-- AC-7372 -->

* Handlare kan inte längre skapa ett presentkort med ett negativt värde.

<!-- ACP2E-1890 1806-->

* The `setGiftOptionsOnCart` mutation tar nu bort presentomslutning som förväntat. Värdet för `gift_wrapping_id` har nu tagits bort från kundvagnsnivån. Tidigare `gift_wrapping_id` uppdaterades till det tidigare värdet efter att ordern placerades, även när det här värdet togs bort från kundvagnsnivån.

<!-- ACP2E-1866 -->

* Presentkortskonton är nu fortfarande aktiva som förväntat när en partiell återbetalning av en enkel produkt bearbetas från den ordning som kortet tillämpades på. Tidigare har presentkortskontot tagits bort.

<!-- ACP2E-1805 -->

* The `setGiftOptionsOnCart` mutation uppdaterar nu databasen när ett presentmeddelande tas bort från kundvagnen. Tidigare uppdaterades inte meddelandeinformationen i databasen och presentmeddelandet togs inte bort från kundvagnen.

<!-- ACP2E-1741 -->

* Presentregistret `Event Information` etiketten översätts nu som förväntat.

<!-- ACP2E-1586 -->

* Delsummor beräknas nu korrekt för anpassade presentkortsbelopp.

<!-- ACP2E-1350 -->

* Presentkort används nu korrekt vid utcheckning med flera adresser. Tidigare tillämpades presentkortsbelopp felaktigt för leveranser med flera adresser, vilket resulterade i ogiltiga presentkortsbelopp.

<!-- ACP2E-1341 -->

* Emuleringen börjar nu under `send()` anropar när emuleringen har slutförts under `getInfoBlockHtml()` och inga fel loggas. Tidigare `system.log` filen har översvämmats med följande fel: `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* Nu kan du använda `updateCartItems` för att uppdatera ett presentkort i en kundvagn. Tidigare kunde bara kortmängden uppdateras i kundvagnen med denna mutation.

<!-- ACP2E-1669 -->

* Presentomslutning ingår nu som förväntat i en offert baserad på kopplade varukorgar. Tidigare gick det att sammanfoga presentmeddelanden, men de radbrytades inte.

<!-- AC-7530 -->

* The `addProductsToCart` mutationen har nu lagt till ett presentkort i en kundvagn. Tidigare förväntades presentkortets mottagarnamn, men avsändarens namn returnerades i stället. Adobe Commerce orsakade detta fel: `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)


### Google Tag Manager

<!-- ACP2E-1520 -->

* Google Tag-modulen överför nu rätt data till datalagret. Tidigare överfördes inte sidavbildningsdata till datalagret.

### GraphQL

<!-- AC-8964 -->

* The `getCustomerWishlist` frågan resulterar inte längre i ett internt serverfel när listor som innehåller konfigurerbara produkter efterfrågas.

<!-- AC-8966 -->

* The `customerCart` frågan returnerar nu alla tillämpade rabatter på paketprodukter som förväntat. Tidigare returnerades de totala rabatterna som tillämpades på en paketprodukt som noll.

<!-- AC-8964 -->

* The `getCustomerWishlist` frågan resulterar inte längre i ett internt serverfel när listor som innehåller konfigurerbara produkter efterfrågas.

<!-- AC-9147 -->

* Deklarationen för `is_subscribed` flagga, dess lösare, cache och associerade tester har flyttats från `CustomerGraphQl` till `NewsletterGraphQl` -modul.

<!-- AC-9362 -->

* The `addProductsToCart` mutationen inte längre rapporterar orelaterade fel i `user_errors`. Tidigare fanns fel som var relaterade till vagnen med `user_errors` tillsammans med förväntade åtgärdsfel. [GitHub-37908](https://github.com/magento/magento2/issues/37908)

<!-- ACP2E-2119 -->

* The `products` frågeproduktfiltret kan nu returnera delar av matchningsresultat samt fullständiga matchningar. Den nya `match_type` (PARTIAL, FULL)-attributet har stöd för att ange matchningstyp. Tidigare returnerade frågan endast fullständiga träffar.

<!-- ACP2E-2155 -->

* Mutex har lagts till i `addConfigurableProductsToCart` fråga för att förhindra konkurrensförhållanden under en uppdatering på grund av samtidiga begäranden. Tidigare lades två separata artiklar med samma produkt till när en handlare skickade två parallella förfrågningar om att lägga till samma konfigurerbara produkt i en varukorg. [GitHub-37847](https://github.com/magento/magento2/issues/37847)

<!-- ACP2E-2201 -->

* Produktaggregering i GraphQL-svar innehåller nu värden som inte är noll för attribut när **[!UICONTROL Use in Layered Navigation]** är inställd på **[!UICONTROL Filterable (no results)]**. Tidigare returnerades bara värden som inte var noll.

<!-- ACP2E-2141 -->

* Förbättrade prestanda för `setShippingAddressForEstimate` fråga efter kundvagnsrelaterade åtgärder som innehåller anpassade produktattribut. Tidigare lästes alla produktattribut in när parametrar skickades som variabler.

<!-- ACP2E-2255 -->

* The `products` fråga `ConfigurableProduct.configurable_options` returnerar nu endast värden som har minst en aktiverad produkt. Tidigare returnerade det här fältet inaktiverade enkla produkter.

<!-- ACP2E-2151 -->

* Förbättrade prestanda för `GetCategories query` genom att minska antalet onödiga SQL-frågor som genereras.

<!-- AC-8623 -->

* Adressfelhantering för GraphQL bibliotekskomponenter fungerar nu som förväntat.

<!-- AC-9058 -->

* The `products` frågan returnerar nu alla relevanta butikspriser när dynamisk prissättning är inställd på Nej och rabatter tillämpas. Tidigare returnerades inte prisintervallet för produkter. [GitHub-35649](https://github.com/magento/magento2/issues/35649)

<!-- ACP2E-1744 -->

* GraphQL transaktionsnamn innehåller nu endast frågenamn på den översta nivån i New Relic loggar. Tidigare innehöll transaktionsnamn även sekundära frågenamn.

<!-- AC-8623 -->

* Adressfelhantering för GraphQL bibliotekskomponenter fungerar nu som förväntat.

<!-- AC-7430 -->

* När synlighetsinställningen för en produkt är inställd på `Catalog`, `products` frågor om den produkten löser nu inställningen korrekt. Tidigare växlades alla angivna filter till `Visibility: Catalog` inställning. [GitHub-36591](https://github.com/magento/magento2/issues/36591)

<!-- ACP2E-1769 -->

* The `customer` frågan returnerar nu en `product_sale_price` fält som innehåller moms på order när produktpriset har konfigurerats att inkludera moms. [GitHub-36946](https://github.com/magento/magento2/issues/36946)

<!-- ACP2E-1584 -->

* Produktattribut av typen `DateTime` mappa nu till `FilterRangeTypeInput` filter i produktfrågor. Tidigare mappades dessa attribut till `FilterMatchTypeInput`. Som ett resultat av den här ändringen används frågefiltrering för `DateTime` attribut kräver `from` och `to` värden i stället för matchningsvärden.

<!-- ACP2E-1552 -->

* The `customer` frågan returnerar nu endast kundrecensioner som är relaterade till en viss butiksvy som förväntat när den filtreras efter butiks-ID.

<!-- AC-7544 -->

* The `categories` frågan inte längre returnerar ett fel när `items.redirect_code` svarsvärdet innehåller ett null-värde. [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1465 -->

* Regelbaserade relaterade produkter läses nu in som förväntat i GraphQL-svar efter att en fullständig cache rensats. Tidigare lästes inte EAV-attributen för produkten som var ansvariga för regelbaserade matchningar in för den begärda enheten, även om de lästes in efter att butikens produktsida lästs in igen.

<!-- ACP2E-1486 -->

* The `changeCustomerPassword` mutationen utlöser nu e-post som förväntat efter att ett lösenord har återställts.

<!-- ACP2E-1494 -->

* `urlResolver` och `route` frågor returnerar nu ett resultat när `Target Path` för URL-omskrivning är en absolut URL. Tidigare `urlResolver` frågan returnerade NULL när du använde det för att hämta omdirigeringsdata.

<!-- AC-7979 -->

* The `products` frågan returnerar nu korrekta etiketter när det finns flera butiksvyer. [GitHub-29635](https://github.com/magento/magento2/issues/29635)

<!-- ACP2E-1315 -->

* The `categoryList` frågan returnerar nu en ifylld `product` i `options` -block för paketprodukters underordnade produkter som förväntat. Tidigare returnerades ingen information om underordnade paketprodukter.

<!-- AC-7114 -->

* The `route` frågan returnerar nu flöden för kategorier och produkter som förväntat utan ett internt serverfel. [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* The `products` fråga nu hämta `url_key` värden när flera kategorier är markerade.

<!-- LYNX-1716-->

* `product` frågor returnerar nu bara aggregeringar för produkter som har tilldelats den angivna delade katalogen. Tidigare visades aggregeringsdata för produkter som inte tilldelats en delad katalog i lagernavigering.

<!-- AC-6680 -->

* The `OptionValueProvider` class `get()` metoden returnerar nu ett attributalternativvärde baserat på den angivna `option_id` som förväntat. Tidigare returnerades ett fel. [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* The `products` frågan returnerar nu alla tillgängliga aggregeringar (filter) och deras korrekt översatta etiketter. Tidigare översattes inte pris- och kategoriaggregeringsetiketter som förväntat. [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* Nu kan du använda ett fragment `ProductCard` vid fråga `related_products`, `upsell_products`och `crosssell_products` på `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* The `products` frågan returnerar nu relaterade produkter, merförsäljning och korsförsäljning i den ordning som de sparades. [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* GraphQL-frågor returnerar nu relaterade produktdata sorterade efter position. [GitHub-33010](https://github.com/magento/magento2/issues/33010)

<!-- AC-8542 -->

* `category_url_path` har lagts till i `ProductAttributeFilterInput`, som har stöd för att begära alla produkter för en kategori i en enda fråga. [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* Ett fel har korrigerats där metoden som anger det aktuella arkivet i en GraphQL-mutation kördes före metoden som hanterar validering. [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### Bild

<!-- ACP2E-1353 -->

* Överföringsformuläret för Admin favicon-ikonen har nu stöd för `.ico` filtyper. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### Importera/exportera

<!-- ACP2E-2261 -->

* Produktimportprocessen tolkar nu värden med rätt avgränsare. Tidigare användes i importprocessen pipe-operatorn (&quot;|&quot;) för att tolka flervalsvärden tills den fastställda värdeavgränsaren inte var lika med standardvärdet. Importprocessen misslyckades därefter.

<!-- ACP2E-2490 -->

* 301 omdirigeringar skapas nu automatiskt när `URL Key` värden uppdateras vid CSV-import.

<!-- ACP2E-2129 -->

* Leveransregisterfrekvenser uppdateras nu som förväntat i CSV-filen för registerhastighetsimportering. Överföringsfilen för registerhastigheten lagras tillfälligt tills det asynkrona konfigurationsprocessorns kron-jobb körs. Det här cron-jobbet hämtar den nya platsen för filen och bearbetar den därefter. Tidigare uppdaterades inte tabellfrekvenserna som förväntat eftersom den asynkrona processorn letade efter filen på fel plats.

<!-- ACP2E-2298 -->

* I rutnätet Exportera filer visas nu alla exporterade filer oavsett tidsstämpel. Tidigare visades inte alla exporterade filer som hade samma tidsstämpel i rutnätet. [GitHub-36951](https://github.com/magento/magento2/issues/36951)

<!-- ACP2E-2028 -->

* Produkter med anpassningsbara alternativ kan nu importeras. Tidigare gick alternativdata förlorade under importen. [GitHub-37598](https://github.com/magento/magento2/issues/37598)

<!-- ACP2E-2214 -->

* Specialtecken i exporterade CSV-filer visas nu som förväntat i Excel. [GitHub-37921](https://github.com/magento/magento2/issues/37921)

<!-- ACP2E-2301 -->

* Importera Stock-källor och kundadresser med **[!UICONTROL Customers and Addresses (single file)]**  har nu slutförts.

<!-- ACP2E-1930 -->

* Produktimporten misslyckas inte längre på grund av brist på minne. Tidigare gick det inte att importera ett obegränsat antal produkter till en databas som redan innehåller ungefär tio miljoner produkter på grund av brist på minne.

<!-- AC-9116 -->

* Valideringskontrollerna avbryter nu importen som förväntat när det inte finns några giltiga data att importera och följande fel visas nu i Commerce: `There are no valid rows to import`. Tidigare utfördes valideringen under dessa villkor, men importprocessen misslyckades med följande meddelande: `entity values are mixed`. [GitHub-32905](https://github.com/magento/magento2/issues/32905)

<!-- ACP2E-1754 -->

* Om du importerar URL-nycklar med samma produkt skrivs inte längre befintliga vynycklar över eller tas bort. URL-omskrivningar återskapas nu endast för butiksvyer när det inte finns någon åsidosättning `url_key` värde. Tidigare skrevs URL-nyckeln över när du importerade URL:en om med samma URL-nyckel. (`key_store` URL-omskrivningar togs bort, men URL-omskrivningen på standardvynivån för butiken för produkten var fortfarande inställd på `key_store`.)

<!-- ACP2E-1875 -->

* Produktantalet ändras inte längre oväntat under importen. Cachetömning har nu skjutits upp till efter importprocessen.

<!-- ACP2E-1813 -->

* Status för schemalagda importåtgärder motsvarar nu korrekt om importen lyckades eller misslyckades. Tidigare loggades alla åtgärder som lyckade.

<!-- AC-7039 -->

* Handel tar nu hänsyn till **[!UICONTROL Disable Automatic Group Change Based on VAT ID]** vid import av kundposter. Tidigare `disable_auto_group_change` värdet i importfilerna ignorerades. [GitHub-36409](https://github.com/magento/magento2/issues/36409)

<!-- AC-965 -->

* `Magento\Framework\Convert\Excel` hanterar nu siffror som föregås av ett mellanslag. Excel XML kodar nu fält som `String`. Tidigare kodade Excel-skrivaren dessa värden som `number`, vilket resulterade i ogiltiga filer. [GitHub-33422](https://github.com/magento/magento2/issues/33422)

<!-- ACP2E-1641 -->

* Merchants kan nu ange det språk som importdata presenteras i och hur datavaliderare ska tolka dessa data. Om inget språkområdesvärde anges används standardkonfigurationens språkområde (inte standardbutiksvyn) för att analysera data. I Admin fortsätter import- och exportprocesserna att använda administratörens språkområde för att importera, analysera och formatera data.

<!-- ACP2E-1847 -->

* Importera produkter med `country_of_manufacture` attribut som har skapats av en admin-användare med en annan språkinställning än den admin-användare som importerar produkterna ger inte längre upphov till ett valideringsfel. Tidigare kunde den här importåtgärden resultera i ett valideringsfel på `country_of_manufacture` -attribut.

<!-- ACP2E-1981 -->

* Källdata för Stock importeras nu korrekt av butiksimporteringsprocessen, och nu visas ett fullständigt meddelande i Commerce när importprocessen har slutförts. Tidigare saknades meddelandet.

<!-- ACP2E-1889 -->

* Invalidering av överflödiga indexerare har tagits bort när indexerare är i schemalagt läge.

<!-- ACP2E-1994 -->

* Exporterade produkter har nu rätt `manage_stock` värdet när `use_config_manage_stock` värde är lika med `1`. Tidigare var standardvärdet felaktigt.

<!-- ACP2E-1620 -->

* Adobe Commerce visar nu ett informativt felmeddelande i det schemalagda importrutnätet när en bild inte kan importeras korrekt under en schemalagd importåtgärd. Tidigare visades inget felmeddelande.

<!-- ACP2E-1565 -->

* Produktimportprocessen avbryts inte längre när produktbilder saknas. När en produktbild saknades vid import av en tredjepartstjänst med hjälp av en CSV-fil har Adobe Commerce tidigare visat följande fel: `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* Prestandan för kundexport från kundnätet har förbättrats i distributioner där B2B är aktiverat.

<!-- ACP2E-1391 -->

* Produktimportprocessen genererar inte längre ett valideringsfel när ett attributvärde i `configurable_variations` -kolumnen innehåller ett komma.

<!-- ACP2E-1377 -->

* Avkodning har undantagits från exportprocessen. CSV-exportfilens text ändras inte efter importen. Därför ändras inte beskrivningen efter återimporten. Tidigare togs HTML-taggar bort i Page Builder-redigeraren efter export och import av produkten.

<!-- ACP2E-1451 -->

* Konfigurationer som inte är standard (webbplats eller butiksomfång) och som läggs till som miljövariabler avbryter inte längre `app:config:import` process med ett rekursionsfel.

<!-- ACP2E-1569 -->

* Katalogsökning och prisindexerare i läget Uppdatera vid spara blir inte längre ogiltiga efter import. Tidigare ändrades dokumentversionen för Elasticsearch Indexer när nya och befintliga produkter importerades.

<!-- ACP2E-1482 -->

* Produktrapporter exporteras nu till `var` katalog. Tidigare exporterades dessa rapporter till dokumentets rotkatalog, som är en skrivskyddad katalog i molninstanser.

<!-- ACP2E-1736 -->

* Tomma flervalda kundadressfält avbryter eller avbryter inte längre exportprocessen.

### Index

<!-- ACP2E-2204 -->

* Problem med prisindexerarens prestanda har åtgärdats. Indexerarens prestanda försämras inte längre gradvis. Indexeraren har omarbetats för att öka bearbetningshastigheten för indexeraren genom att ändra hur tillfälliga tabeller skapas. Dessa tillfälliga tabeller återskapas nu i stället för att hanteras av mer tidskrävande DELETE-satser.

<!-- ACP2E-2033 -->

* Prisindexerarens prestanda har förbättrats. Ett indextips har lagts till i prisindexeraren som förbättrar körningstiderna för MySQL-frågor som utlöses under indexering.

<!-- AC-9223 -->

* Alla indexerare använder nu samma färger för att representera indexerarläget. [GitHub-34648](https://github.com/magento/magento2/issues/34648)

<!-- ACP2E-1697 -->

* Prestandan för katalogregelproduktindexeraren i distributioner där regler inte har tilldelats till alla webbplatser har förbättrats.

<!-- ACP2E-1401 -->

* Skapa en anpassad produkttyp när indexerare är inställda på **[!UICONTROL Update on schedule]** orsakar inte längre indexuppdateringen `cron` att misslyckas. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- ACP2E-1574 -->

* Visningsproblem på butikens informationssida som berodde på katalogbehörighetsindexering har åtgärdats. Tidigare rensade Adobe Commerce indextabellen först och indexerade sedan om under en `catalogpermissions_product` eller `catalogpermissions_category` indexeringsprocess. Katalogbehörigheterna fungerade inte som förväntat i butiken förrän omindexeringen är klar.

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` inte längre misslyckas med ett MySQL-fel när kundrutnätet innehåller nya anpassade kundattribut. [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* Om du ändrar indexerarläge för flera indexerare (d.v.s. en ändring av läget för massåtgärdsindexeraren) ändras nu bara indexerarens läge när det aktuella läget skiljer sig från det som används. Detta förbättrar prestandan genom att förhindra onödiga utresor till databasen. [GitHub-36823](https://github.com/magento/magento2/issues/36823)

### Infrastruktur

<!-- AC-9390 -->

* Ersatt MySQL `CREATE TEMPORARY TABLE ... LIKE` med omfaktoriserad `CREATE TEMPORARY TABLE` för kompatibilitet med MySQL 8.x. [GitHub-37926](https://github.com/magento/magento2/issues/37926)

<!-- ACP2E-1462 -->

* Adobe Commerce inkluderar inte längre den fullständiga sökvägen till serverns rot i felmeddelandet som visas när en felaktig HTTP-begäran har skickats till servern. Endast strängar skickas nu till `explode` -metoden som ett andra argument.

<!-- AC-8384 -->

* `restricted_classes.php` har ersatts `Zend_Validate_File_Upload`. Tidigare kraschade valideraren under överföringen av en importfil som var större än det värde som konfigurerats i `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- ACP2E-1146 -->

* Attributalternativ som tillhandahålls av datakällmodellen och installeras med hjälp av konfigurationsdatakorrigeringen (vanligtvis från tredjepartsmoduler) kan nu användas med kundsegmentsregler. Tidigare returnerade kombinationen inte listan över kunder som matchade det konfigurerade segmentet.

<!-- AC-7093 -->

* E-postmallmotorn kan nu bearbeta vissa kapslade direktiv korrekt (till exempel `{{if}}{{depend}}...{{/depend}}{{/if}}`). [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` Frågor med aggregeringsdata returnerar nu rätt etikettvärden för produktattribut av boolesk typ. [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- https://github.com/magento/magento2/pull/29173 -->

* CSS-filer är inte längre skadade vid sammanfogning `var/tmp` och `pub/static` finns i olika filsystem och **[!UICONTROL CSS Merging Enabled]** är aktiverat. Temporära filer har skapats i samma statiska katalog som målfilen för att säkerställa att båda filerna finns i samma filsystem. Därför är anropet att byta namn på den atomisk. [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* Ett potentiellt fel har korrigerats vid anrop av en medlemsfunktion `getId()` på `int`, som ibland utlöste ett undantag när en kund visades i Admin.

<!-- https://github.com/magento/magento2/pull/34092 -->

* Typkontroller används nu för arraytypen i designtemats konfigurationsprocessor. [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Inventory management

<!-- ACP2E-1883 -->

* Produkterna återgår nu automatiskt till In-Stock-status efter en kreditnota som innehåller en retur av produktkvantitet. Tidigare var handlarna tvungna att ändra produktlagerstatus manuellt om en produkt inte fanns i lager men en kreditnota returnerade lager av den produkten.

<!-- ACP2E-2123 -->

* Förbättrade prestanda för lagerindexeraren i asynkront läge genom att ta bort överflödiga begäranden om indexering av standardkällartiklar.

<!-- AC-7023 -->

* Korrigerade problem med lagerindexeraren som påverkade precisionen för lagerinventeringen för konfigurerbara produkter. [GitHub-36421](https://github.com/magento/magento2/issues/36421)

<!-- ACP2E-2082 -->

* Uppdaterar lagerkällartiklar via REST `V1/inventory/source-items` fungerar nu snabbare. Anropet utlöser inte längre en omindexering eller en rensningscacheåtgärd för oförändrade lagerprodukter.

<!-- ACP2E-1842 -->

* REST `V1/products/<sku>` aktiverar nu ett automatiskt index för ny lagerinformation när en produkts lagerstatus uppdateras. Tidigare utlöstes ingen omindexering av lager för produkten som uppdaterades.

<!-- ACP2E-1653 -->

* Status för konfigurerbart produktlager uppdateras nu som förväntat när underordnade produkter uppdateras av `V1/inventory/source-items`.

<!-- ACP2E-2114 -->

* The `POST <store_code>/V1/inventory/source-items` REST-anrop validerar nyttolasten för tomt utrymme i returnerade lagerkällartiklar och skickar ett felmeddelande om validering efter behov.

<!-- ACP2E-2072 -->

* Handlare kan nu meddela kunderna att en beställning är klar att hämtas när **[!UICONTROL No Manage Stock]** inställningen är aktiverad för en produkt. När den här inställningen var aktiverad visades det här felmeddelandet i Commerce: `Your order is not ready for pickup`.

<!-- ACP2E-2227 -->

* Handlare kan nu skapa en kreditnota för order från vilka en enkel produkt som är kopplad till en konfigurerbar produkt har tagits bort. Tidigare kunde handlarna inte skapa kreditnotan och Commerce kastade en `TypeError` undantag.

<!-- ACP2E-2310 -->

* Admin - rutnätskällans antal returnerar nu giltiga poster efter att ett filter har tillämpats. Tidigare `getSourcesCount` metoden returnerade alltid det totala antalet källor efter att ett filter använts.

<!-- ACP2E-1364 -->

* Kategorisidan omdirigeras inte längre till Admin Dashboard när du sorterar produkter med alternativet &quot;Flytta från Stock till botten&quot;. Problemet har lösts genom att SQL join-satsen placerades inuti villkorssatsen först efter det att den inte redan inkluderats. Tidigare omdirigerades sidan till Admin Dashboard med meddelandet:`Invalid security or form key. Please refresh the page`.

<!-- ACP2E-1488 -->

* `AUTO_INCREMENT` i `inventory_source_item` tabellen inte längre ökas med `UPDATE` operation. Tidigare ökade varje uppdatering `AUTO_INCREMENT` i den här tabellen, som till slut orsakade `AUTO_INCREMENT` värdet ligger utanför intervallet när en ny post läggs till i `inventory_source_item table`. Därför fick administratörsanvändare följande fel när de försökte skapa en ny produkt från administratören: `Numeric value out of range...`.

<!-- ACP2E-1378 -->

* Administratörsanvändare kan nu lägga till en produkt i kundvagnen från Admin för ett visst butiksvy med Inventory management. Förut bestämdes inte aktie-ID:t korrekt och administratörsanvändarna kunde inte lägga produkten i kundvagnen.

<!-- ACP2E-1399 -->

* Synkroniseringen mellan lager och katalog är inte längre beroende av **[!UICONTROL Synchronize with Catalog]** konfigurationsinställning. Tidigare synkroniserades produkter bara korrekt när den här inställningen aktiverades.

<!-- ACP2E-1382 -->

* Adobe Commerce genererar inte längre något fel efter sidinläsning när en kund drar av en produktkvantitet från en beställning som ligger inom det tillgängliga produktintervallet när han eller hon väljer leveranskälla.

<!-- ACP2E-1259 -->

* Status för konfigurerbart produktlager uppdateras nu korrekt när en konfigurerbar produkt och dess underordnade produkter uppdateras `Stock Availability` värdet uppdateras av en uppdatering av masslager. Tidigare gick det inte att returnera en konfigurerbar produkt och dess underordnade produkter till Stock via massuppdatering.

<!-- ACP2E-2096 -->

* Datatypen för icke-standardkällor har uppdaterats till `DECIMAL (12, 4)` för att ge stöd för upp till åtta heltal, vilket är samma gräns som används för standardlager. Det här värdet är nu synkroniserat med Admin - lägg till och redigera produktsidor, som stöder indatavalidering för upp till åtta siffror för alla typer av lagerkällor. Tidigare var indata för **[!UICONTROL Quantity]** -fältet (för icke-standardkällor) stöds endast upp till sex siffror.

<!-- ACP2E-2054 -->

* Både standardkällor och icke-standardkällor visar nu korrekt information för produktförsäljningsbar kvantitet när en icke-standardkälla som beställts från butiken bearbetas för leverans. Tidigare visade Adobe Commerce fel lagerstatus för produktkällor.

<!-- ACP2E-1950 -->

* `\Magento\Catalog\Model\Product::getIsSalable()` returnerar nu lagerstatus baserat på omfånget som definierats i produktobjektet (`\Magento\Catalog\Model\Product::getStoreId()`). Tidigare `getIsSalable()` returnerade lagerstatus baserat på aktuellt omfång oavsett vilket produktobjekt det gäller.

### Loggning

<!-- ACP2E-1788 -->

* Formatet för datum och tid i funktionen Systemrapporter har uppdaterats så att poster från loggfiler i rapporter inkluderas.

<!-- ACP2E-1385 -->

* Administratörsanvändare kan nu se loggarna för massåtgärder som har skapats av integreringar i gruppåtgärdsloggen i Admin.

### Inloggning

<!-- ACP2E-1521 -->

* Ett undantag uppstår inte längre om du återställer ett lösenord i en webbläsare och sedan loggar in via en annan webbläsare. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* Kunder omdirigeras nu till inloggningssidan efter att ett konto har aktiverats som förväntat. Tidigare loggades kunderna in automatiskt.

### Mediegalleri

<!-- ACP2E-2568 -->

* Merchants kan nu överföra bilder med samma namn men olika fall (en blandning av versaler och gemener) till Mediegalleriet. Tidigare var bildfilernas namn inte skiftlägeskänsliga i Page Builder, och filer med samma namn, förutom versaler, skrevs över i Commerce-medielagring som lagras i skiftlägeskänsliga filsystem.

### Beställningar

<!-- ACP2E-2535 -->

* Merchants kan nu skapa kreditnotor som förväntat för delreturer av order som delvis har betalats med belöningspoäng. Tidigare när en handlare skapade en partiell retur identifierades orderstatusen felaktigt som stängd och på sidan Admin Order visades inga alternativ för kreditnota.

<!-- ACP2E-2632 -->

* Rotationen av administratörsåtgärdsloggen fungerar nu som väntat när rotationsloggens arkiveringsfrekvens har angetts till vecko- eller månadsintervall. Tidigare roterades inte loggar när vecko- eller månadsintervall angavs.

<!-- ACP2E-2583 -->

* Handel använder nu rätt rabattbelopp på delvis annullerade order. Tidigare beräknades rabattbeloppet i `base_discount_cancelled` kolumnen beräknades felaktigt när en ordning ändrades. Stöd för negativa värden har lagts till i fakturor för rabatterade order.

<!-- ACP2E-2585 -->

* REST `V1/orders` slutpunkten använder nu presentkort som förväntat vid import av order. Tidigare sparades inte ändringar av attribut för presentkortstillägg i den här slutpunkten.

<!-- ACP2E-2412 -->

* Commerce sorterar nu anpassade kundadressattribut baserat på den sorteringsordning som angavs när administratörsanvändaren skapade ordern i Admin.

<!-- ACP2E-2400 -->

* Sidan Admin Sales Order Grid läses nu in som förväntat när en handlare startar en sökning från den här sidan. När en handlare tidigare försökte söka efter beställningar från den här tabellen visade sidan låst och Commerce en `Request-URI Too Long` fel i webbläsarkonsolen.

<!-- ACP2E-2294 -->

* Orderstatus markeras nu som stängd i stället för fullständig när hela orderbeloppet har återbetalats med butikskrediten plus en ytterligare betalningsmetod. Tidigare markerades orderstatus som fullständig eftersom det återfinansierade beloppet inte beräknades korrekt.

<!-- ACP2E-2213 -->

* Förbättrade prestanda för `OrderRepository::get()` genom att minska antalet gånger som en order läses in från databasen. Tidigare lästes den här metoden in en order flera gånger. [GitHub-36636](https://github.com/magento/magento2/issues/36636)

<!-- ACP2E-1918 -->

* Merchants kan nu generera kreditnotor för order som innehåller vissa artiklar med en totalsumma när andra orderartiklar är tillgängliga för återbetalning. Tidigare kunde handlare inte göra flera återbetalningar när en kund hade 100 % rabatt på vissa artiklar i beställningen.

<!-- AC-8254 -->

* Länkar mellan underordnade och överordnade produkter visas nu på ordersidan när den underordnade produkten beställs om från administratören. [GitHub-37028](https://github.com/magento/magento2/issues/37028)

<!-- AC-1756 -->

* Rubrikavsnittet på ordersidan innehåller nu den förväntade informationen om den skickade fakturan, kreditnotan och leveransen. [GitHub-27474](https://github.com/magento/magento2/issues/27474)

<!-- AC-7632 -->

* Kreditnotor för order som bara innehåller en konfigurerbar produkt genereras nu korrekt. Tidigare `isLast()` funktionen returnerade inte `true` som förväntat. [GitHub-36722](https://github.com/magento/magento2/issues/36722)

<!-- ACP2E-1961 -->

* Förbättrade prestanda för `aggregate_sales_report_bestsellers_data` cron-jobb genom att optimera huvuddatafrågan.

<!-- ACP2E-1962 -->

* Adobe Commerce genererar inte längre något fel när en kreditnota med en offlineåterbetalning skapas till ett kundsaldo när administratörsanvändaren inte har behörighet till kundens webbplats. Tidigare inträffade följande fel i Adobe Commerce: `More permissions are needed to view this item`och administratörsanvändaren kunde inte skapa en återbetalning av butikskrediten.

<!-- ACP2E-1714 -->

* Orderstatus är nu korrekt när en delåterbetalning har gjorts för en order som innehåller paketprodukter. Tidigare listades orderstatus som fullständig efter att en partiell återbetalning hade utfärdats, även om den återstående ordern inte var fullständig. [GitHub-37377](https://github.com/magento/magento2/issues/37377)

<!-- ACP2E-1514 -->

* Köpare kan inte längre beställa en produkt till ett anpassat pris när en order först skapas från administratören med hjälp av det anpassade engångspriset. Tidigare, om en order innehöll en artikel med anpassade priser, tillämpades detta anpassade pris för andra order som lagts med funktionen för ombeställning.

<!-- ACP2E-1421 -->

* Köpare kan inte längre spara felaktiga orderstatusar på ordersidan. Orderstatus ändras inte längre från Fullständig till Bearbetning när en artikel skickas. Tidigare kollade Adobe Commerce inte orderstatus innan orderstatus sparades efter att en kund angett en kommentar. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1387 -->

* Adobe Commerce genererar inte längre något fel på retursidan för butiksorder när den konfigurerbara produkten som returneras har tagits bort. Tidigare loggade Adobe Commerce följande fel: `report.CRITICAL: Error: Call to a member function getShipmentType() on null in magento2ee/app/code/Magento/Rma/view/frontend/templates/return/create.phtml:52`.

<!-- ACP2E-1367 -->

* Försäljningsorderrastret synkroniseras nu asynkront med alla order som förväntat. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* Funktionen för filter-för-inköpsdatum i kundorderavsnittet på ordersidan fungerar nu som förväntat. Tidigare inträffade ett JavaScript-fel när tidszonskonverteringslogiken genererade ett fel när samma tidszon angavs för metoden.

<!-- ACP2E-1294 -->

* På Adobe Commerce kontrollpanel visas nu korrekt orderstatistik vid första inläsningen. Tidigare visade kontrollpanelen felaktig ordningsinformation, men rätt information visades när tidsperioden uppdaterades.

<!-- ACP2E-1762 -->

* Administratörsanvändare omdirigeras nu som förväntat till ordersidan efter att de har valt en butiksvy när nya order skapas från Admin.

<!-- ACP2E-1418 -->

* The `GET V1/orders/<OrderID>` slutpunkten returnerar nu information om både de konfigurerbara och enkla produkterna i beställningen, oavsett de enkla produkternas lagerstatus. Administratörsanvändare kan endast göra beställningar nu om de valda artiklarna (produkterna) finns i lager eller är säljbara. Tidigare returnerade denna API bara information om de produkter som fanns i lager.

<!-- AC-7901 -->

* Kreditnotssidan kraschar inte längre när fri frakt är aktiverat när leveranspriset inkluderar moms och momsberäkningar tillämpas efter rabatter. Tidigare hade Adobe Commerce `Division by zero` undantag. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* Använda `rest/V1/orders/{id}/comments` slutpunkten för att publicera en kommentar om en order utan att ange orderstatus påverkar inte längre visningen av ordern. Tidigare loggades orderstatus som NULL i `sales_order` och `sales_order_grid` tabeller och varken sidan Mina beställningar eller rastret Administratörsordning visade ordningen. [GitHub-34180](https://github.com/magento/magento2/issues/34180)

<!-- ACP2E-1597 -->

* Fakturor, leveranser och kreditnotor kan nu flyttas tillbaka från arkivet tillsammans med tillhörande order när ID:n som de innehåller skiljer sig från order-ID:n. Om en order tidigare flyttades till arkivet och sedan återställdes, saknades fakturaposter, fraktposter, kreditnodsposter i den ordern om ID-numren inte matchade. [GitHub-36847](https://github.com/magento/magento2/issues/36847)

### Page Builder

<!-- AC-8777 -->

* Bilder behåller nu rätt proportioner när de storleksändras i Page Builder. [GitHub-37493](https://github.com/magento/magento2/issues/37493)

<!-- AC-10919 -->

* I Page Builder visas nu felmeddelanden vid behov när du försöker överföra en bild som är större än den angivna maximala filstorleken. I Commerce visades tidigare ett popup-meddelande för överförda bildfiler som var mindre än det angivna maxvärdet.

<!-- ACP2E-1992 -->

* CMS-sidans produktreglage innehåller nu de överordnade produkterna för alla underordnade produkter som har valts för att inkluderas i skjutreglaget. Tidigare har överordnade produkter uteslutits från skjutreglaget.

<!-- ACP2E-2115 -->

* HTML-konverterat innehåll visas nu som väntat i e-postmallar när `Magento_AsyncConfig` modulen är inaktiverad. Tidigare innehöll e-postmallarna endast raw HTML.

<!-- AC-9128 -->

* Prestandan för att spara i Page Builder i webbläsaren Chrome har förbättrats.

<!-- ACP2E-1954 -->

* Nu kan du använda alternativet Page Builder i Admin > **[!UICONTROL Content]** > **[!UICONTROL Pages]** om du vill infoga kopierad text i alla format med `text` -element. Tidigare visade Page Builder endast oformaterad text och sparade inte format.

<!-- ACP2E-1646 -->

* CORS-fel visas inte längre vid redigering av produktinnehåll med Page Builder när administratörsanvändaren har en viss ACL. Administratörsanvändaren kan nu spara produkten. Tidigare sparades inte produkten i Page Builder och sparningsprocessen låstes.

<!-- ACP2E-1852 -->

* Korrekt information om filstorlek ingår nu i förhandsvisningen av överförda bilder i PageBuilder.

<!-- ACP2E-2016 -->

* Page Builder-sidelementen återges nu med en acceptabel hastighet i webbläsaren Chrome (v112). Tidigare gick det långsamt att spara innehåll med PageBuilder i webbläsaren Chrome och det här felet loggades i webbläsarkonsolen: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks`.

<!-- ACP2E-1654 -->

* Page Builder-videoelementet kan nu spelas upp automatiskt som förväntat i Safari-webbläsare för mobiler på iOS när elementet är länkat direkt till en fjärrvideofil. Tidigare visades ingen förhandsvisningsbild.

<!-- ACP2E-1974 -->

* Page Builder fungerar nu som väntat i webbläsaren Chrome. Tidigare sparades inte alltid innehållsändringar som gjorts i den webbläsaren.

<!-- ACP2E-2086 -->

* Läsa in en administratörsproduktredigeringssida för en produkt genererar inte längre en intermittent `Uncaught TypeError` JavaScript-fel.

<!-- ACP2E-1886 -->

* Bilder som överförs via Page Builder-redigeraren taggas nu som de används i **[!UICONTROL Content]** > **[!UICONTROL Media Gallery]**. Tidigare markerades dessa bilder som **används inte överallt** i Mediegalleriet.

<!-- ACP2E-1564 -->

* När du lägger till en produkt i en kundvagn från Page Builder-karusellen dupliceras inte längre artikelkvantiteten från sidor med två olika widgetar som visar samma produkter.

<!-- ACP2E-1542 -->

* Page Builder lägger inte längre till `tabindex` HTML-attribut till hyperlänkstaggar `a` när du redigerar en hyperlänk sparar du en mall.

<!-- ACP2E-1444 -->

* Produktwidgeten och förhandsvisningen i Page Builder hanterar nu specialtecken i HTML korrekt. Tidigare visade produktwidgeten inte SKU:er som innehöll `&` tecken.

<!-- ACP2E-1441 -->

* Innehållet i textelementet i Page Builder uppdateras nu som väntat när du markerar och uppdaterar hela innehållsblocket i förhandsgranskningsläget.

<!-- ACP2E-1362 -->

* Kopiering och inklistring av text från en textredigerare i Page Builder fungerar nu som väntat. Tidigare gick det inte att spara sidan som du försökte klistra in text på och Adobe Commerce visade följande konsolfel: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* Page Builder `column-block` innehållstypen som skapades i äldre versioner av Page Builder visas nu korrekt.

<!-- ACP2E-1234 -->

* Filtreringen av produktmetadatabeskrivningen när produkten skapas från administratören har förbättrats. Om Page Builder var aktiverat tidigare genererades beskrivningen av produktmetadata baserat på standardvärdet` {{name}} {{description}}` mask. Produktmetabeskrivningsmasken består nu av `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* Om du lägger till ett dynamiskt block utan innehåll genereras inte längre något fel.

### Betalning

<!-- ACP2E-2533 -->

* Handeln hanterar nu 502 fel från PayPal korrekt genom att förhindra att order skapas när det här felet inträffar. Tidigare skapades order fortfarande trots ett 502-fel från PayPal, vilket leder till inkonsekvenser mellan Commerce-poster och PayPals.

<!-- AC-9142 -->

* PayPal Express Checkout-transaktioner inkluderar nu underordnade produkter och fullständiga produkttitlar. The `Magento/Paypal/Model/Cart.php` filen samlar nu in underordnade produktartiklar med den överordnade produkttiteln för att identifiera produkttiteln med den underordnade SKU:n. [GitHub-36808](https://github.com/magento/magento2/issues/36808)

<!-- ACP2E-1964 -->

* The **[!UICONTROL Card Security Code Does Not Match]** konfigurationsinställningen bearbetas nu som förväntat under betalningsprocessen för Payflow Pro. Tidigare var utvärderingsprocessen aldrig slutförd, vilket blockerade utcheckningen.

<!-- ACP2E-1215 -->

* Alternativet Valvbetalningsmetod visas inte längre i arbetsflödet för Admin-utcheckning när användaren inte har någon vaulttoken. [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* The **[!UICONTROL Venmo]** kan nu döljas när PayPal-knapparna är aktiverade. Tidigare **[!UICONTROL Venmo]** det gick inte att ta bort knappen från kundvagnen, mini-vagnen, produktinformationen eller utcheckningssidorna.

<!-- BUNDLE-3313 -->

* Köpare kan nu välja leveranssätt och lägga på kupongkod vid kassan. Tidigare under dessa villkor genererade Commerce ett fel och tilldelade en fast frakt till ordern.

<!-- BUNDLE-3310 -->

* Problem med butiksbearbetning av betalningsmetoder för PayPal och PayPal har lösts.

<!-- BUNDLE-3273 -->

* Löste problem med reserv-URL:er för order som betalas med Ideal-betalningar när lokal betalning är aktiverad.

<!-- BUNDLE-3253 -->

* Köpare kan inte längre skapa en PayPal-order utan att lägga till ett efternamn.

#### Braintree

<!-- AC-2901 -->

* Betalningsinformationen för Braintree sparas nu per butik och nu ser kunderna bara kortinformation som har sparats i den butik där de handlar. Tidigare kunde kunderna se lagrad kortinformation från alla butiker under utcheckningen. [GitHub-34253](https://github.com/magento/magento2/issues/34253)

<!-- BUNDLE-3304 -->

* Köpare kan nu checka ut en order som skickas till flera adresser med en betalningsmetod för Braintree när valvet för kortbetalningar är inaktiverat. [GitHub-37615](https://github.com/magento/magento2/issues/37615)

<!-- BUNDLE-3244 -->

* Delvis fakturerade order hämtas nu som förväntat på rätt konto i distributioner där handlarna har två olika handelskonto-ID:n för samma valuta på Braintree-kontot.

<!-- BUNDLE-3250 -->

* Adobe Commerce genererar inte längre något fel när en andra delfaktura skapas för en order som betalas av Braintree när **[!UICONTROL Enable Vault for Card Payments]** är aktiverat. Tidigare när en handlare försökte skapa en andra faktura genererade Adobe Commerce följande fel: `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

<!-- ACP2E-1229 -->

* Betalningsmetoden Braintree Vault avmarkeras inte längre automatiskt i arbetsflödet för utcheckning när en kund uppdaterar sin faktureringsadress. Tidigare var betalningsmetoden avmarkerad när användaren avmarkerade **[!UICONTROL My billing and shipping address are the same]** -knappen.

<!-- BUNDLE-3248 -->

* Löste problem med att checka ut med PayPal via Braintree efter att ha uppgraderat från Adobe Commerce 2.4.5-p2. [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* Telefonnummer renderas nu som förväntat med adresser i fälten för spärradress för spärrad för Google Pay. Tidigare saknades telefonnummer.

<!-- BUNDLE-3228 -->

* Beställningar kan nu utföras med Braintree när svaret från Braintree innehåller ett tomt värde för `threeDSecureInfo/eciFlag`. Tidigare uppstod ett PHP-fel vid utcheckning när det här värdet var tomt.

<!-- BUNDLE-3243 -->

* Adobe Commerce genererar inte längre något fel när en kund lägger till en kupong på ordergranskningssidan när han/hon checkar ut med Google Pay från mini cart. Tidigare omdirigerades kunderna till en 404-sida.

<!-- BUNDLE-3245 -->

* Köpare kan nu slutföra utcheckningen med Braintree Payments och Adobe Commerce 2.4.6 med osynlig ReCAPTCHA v2 eller v3. [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* Shoppare kan inte längre klicka på **[!UICONTROL PayPal]** om du vill köpa en konfigurerbar produkt utan att först välja de alternativ som krävs. Tidigare kunde kunderna klicka på **[!UICONTROL PayPal]** och sedan omdirigerades tillbaka till produktsidan med ett fel:

<!-- BUNDLE-3148 -->

* The **[!UICONTROL PayPal]** visas nu som väntat på kundvagnssidorna och minikundvagnssidorna. Tidigare visades inte den här knappen på kundvagnssidan och den duplicerades på mini cart-sidan.

### Prestanda

<!-- AC-9302 -->

* Oanvända `Magento\Catalog\Controller\Adminhtml\Product\Initialization\Helper` från `Magento\Catalog\Model\ProductRepository`. Tidigare `ProductRepository` laddade den här hjälpen, som är en `Adminhtml` styrenhet. [GitHub-37864](https://github.com/magento/magento2/issues/37864)

<!-- AC-9127 -->

* Förbättrade prestanda för sidinläsningshastighet när många alternativ läggs till i paketerade produkter. [GitHub-29409](https://github.com/magento/magento2/issues/29409)

<!-- ACP2E-2069 -->

* Processen att tilldela produkter till kategorier från **[!UICONTROL Products in Category]** har optimerats. The **[!UICONTROL Assign]** och **[!UICONTROL Remove]** knapparna i **[!UICONTROL Add Product by SKU]** -fliken inaktiveras nu tills produkterna har lästs in helt i rutnätet. Tidigare gick det inte att lägga till produkter från SKU i kataloger som innehöll miljontals registrerade produkter.

<!-- ACP2E-2098 -->

* Prestanda för `addProductToCart` mutationen vid körning med många anpassade produktattribut har förbättrats. Tidigare, när den här mutationen utfördes med många produktattribut (ungefär 1 000), försökte Commerce läsa in alla produktattribut.

<!-- ACP2E-1965 -->

* Prestandaproblem vid inläsning av produktattribut som används av kundvagnsregler har åtgärdats. Nu läses endast produktattribut in för aktiva kundvagnsregler.

<!-- ACP2E-1864 -->

* The `bin/magento setup:perf:generate-fixtures setup/performance-toolkit/profiles/ee/small.xml` kommandot körs nu korrekt när det körs flera gånger. Tidigare inträffade detta fel när programmet kördes mer än en gång: `Coupon with the same code already exists`.

### Kampanj

<!-- ACP2E-1290 -->

* Effekterna av **[!UICONTROL Fixed amount discount for whole cart]** prisregel, när den används med **[!UICONTROL Apply to shipping amount]** regeln, fördelas nu proportionellt som förväntat mellan produkter och leveransbelopp. Tidigare var rabattberäkningarna felaktiga.

<!-- ACP2E-1300 -->

* The **[!UICONTROL Discard Subsequent Rules]** inställningen används nu som förväntat. När den här inställningen är aktiverad kan andra regler med låg prioritet endast tillämpas på en annan produkt. [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### reCAPTCHA

<!-- ACP2E-2509 -->

* Invisible reCAPTCHA v3 fungerar nu som väntat för utcheckningssidan **[!UICONTROL Sign in]** -knappen. Tidigare kunde kunderna inte logga in och Commerce genererade JavaScript-fel.

<!-- ACP2E-1539 -->

* Google reCAPTCHA fungerar nu som väntat för checkar, betalningsorder och anpassade betalningsmetoder.

<!-- ACP2E-1311 -->

* Adobe Commerce-formulär kan inte längre skickas innan kryssrutan Google ReCAPTCHA läses in.

<!-- ACP2E-1338 -->

* Widgeten reCAPTCHA kommer nu före **[!UICONTROL Place Order]** på betalningssidan. Tidigare visades widgeten högst upp på sidan.

### Rapporter

<!-- ACP2E-1541 -->

* Orderrapport (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) inkluderar nu korrekta ordervärden när order genereras av butiker som använder icke-standardvalutor. Tidigare innehöll rapporten felaktiga värden. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* Felaktig information i formuläret för försäljningsorderrapport har reviderats för tydlighet.

<!-- ACP2E-1435 -->

* Administratörsanvändare kan nu söka efter poster med e-postmeddelanden som innehåller `+` (plus) tecken från rapportsidan för övergivna kort. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

<!-- AC-7394 -->

* GraphQL transaktionsnamn visas nu korrekt när New Relic har inaktiverats i Commerce Admin. [GitHub-36112](https://github.com/magento/magento2/issues/36112)


### Recensioner

<!-- ACP2E-1998 -->

* Kunderna kan inte längre snabbt skicka in dubbla produktrecensioner när Invisible reCAPTCHA v3 är aktiverat.

### Belöningar

<!-- ACP2E-2099 -->

* Skicka e-postmeddelanden om förfallodatum för belöningspoäng skickas inte längre när poängen har gått ut. The `magento_reward_balance_warning_notification` och `magento_reward_expire_points` viktiga uppgifter har omarbetats för att öka flexibiliteten och e-postkapaciteten. Tidigare kunde handlarna inte skicka många e-postmeddelanden som genererats av dessa kroniska uppgifter på kort tid. Detta kan ha orsakat förseningar i leveransen av tidskänsliga meddelanden.

<!-- ACP2E-2283 -->

* Utgångna belöningspoäng dras nu ifrån kundens aktuella belöningspoängsaldo som förväntat.

<!-- ACP2E-1473 -->

* E-postmeddelandet om uppdatering av belöningspoäng tar nu hänsyn till den aktuella butikskontexten. Tidigare användes konfigurationsinställningar för standardbutiken i e-postmeddelandet för att balansera belöningspoäng.

<!-- ACP2E-1329 -->

* Belöningspoäng kan nu återbetalas när en kreditnota har skapats. Tidigare kunde handlarna inte återbetala belöningspoäng efter att en kreditnota skapats och orderstatusen förblev `Completed`, inte `Closed`.

### RMA

<!-- ACP2E-2246 -->

* REST `POST /V1/returns` begäran skapar nu en RMA per produkt. Tidigare kunde denna begäran kringgå valideringen och returnera flera RMA-nummer per produkt.

<!-- ACP2E-2450 -->

* RMA-attribut läggs nu automatiskt till i standardformuläret för EAV när **[!UICONTROL Show on Storefront]** RMA-attributet är inställt på **no**. Tidigare var popup-fönstret för information om RMA-objekt tomt när ett anpassat returattribut skapades och **[!UICONTROL Show on Storefront]** RMA-attributet har angetts till **no**.

<!-- ACP2E-2211 -->

* Värdet för **[!UICONTROL Enable RMA]** -attributet matchar nu det värde som anges i konfigurationen när **[!UICONTROL Use Config]** kryssrutan på produktredigeringssidan är aktiverad.

<!-- ACP2E-1230 -->

* The **[!UICONTROL Enable RMA]** attributet på den enskilda produktnivån respekterar nu konfigurationen för arkivets RMA-inställningar. Tidigare var den här inställningen inaktiverad som standard när du lade till en produkt, oavsett vilken lagringskonfigurationsinställning som användes.

### Sök {#search-heading}

<!-- ACP2E-2272 -->

* Sökförslagen som fylls i automatiskt på sidhuvudets minisökruta fungerar nu som förväntat. Tidigare fylldes inte det här fältet i automatiskt när den här funktionen var aktiverad. [GitHub-37557](https://github.com/magento/magento2/issues/37557)

<!-- ACP2E-2101 -->

* Prestandan för frågor som gjorts i sökfältet för administratörer har förbättrats genom att en indexerare har lagts till. Tidigare var ju större `search_query` desto längre tid tog det att slutföra frågan.

<!-- ACP2E-2279 -->

* Sortering i alfabetisk ordning efter namn fungerar nu korrekt för namn som innehåller turkiska tecken.

<!-- ACP2E-1854 -->

* The **[!UICONTROL Use in Search Results Layered Navigation]** produktattributsegenskapen visas nu endast när **[!UICONTROL Use in Search]** inställningen är inställd på **[!UICONTROL Yes]**.

<!-- ACP2E-1870 -->

* Det avancerade sökpriset och SKU-filtren fungerar nu korrekt när de används tillsammans i en avancerad sökning. [GitHub-37581](https://github.com/magento/magento2/issues/37581)

<!-- ACP2E-1787 -->

* Sökningar utförs inte längre för tomma sökfält. Detta minskar storleken på `search_query` tabell. Tidigare returnerade felaktiga frågor eller frågor om tomma sökfält en stor datauppsättning, vilket ökade storleken på `search_query` tabellen och resulterade i problem med `/tmp`.

<!-- ACP2E-1916 -->

* Storefront-filter fungerar nu som väntat när kataloginlägg med anpassade attribut sorteras i listrutor.

<!-- ACP2E-1499 -->

* Sökresultaten visar nu relevanta resultat baserat på sökvikten för attributen som förväntat.

<!-- AC-7505 -->

* Informativ text under `Search Weight` attribut `Storefront Properties` inmatningsfält för administratör **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** beskriver nu möjliga värden. [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### Leverans

<!-- ACP2E-2515 -->

* Kundprisreglerna fungerar nu som väntat när en paketprodukt läggs till i kundvagnen när dynamiska prisattribut inaktiveras. Fri frakt och korrekt registerhastighet används oavsett om attributet dynamic är aktiverat eller inaktiverat. Tidigare tillämpades inte fri frakt på rätt sätt.

<!-- AC-9729 -->

* Commerce övergår nu till en ny utleveranssida som förväntat efter att en delleverans för en order har skapats. Tidigare skapade Commerce inte en komplett utleveranssida för de återstående produkterna i beställningen efter att ha skapat en partiell utleverans. [GitHub-38063](https://github.com/magento/magento2/issues/38063)

<!-- AC-8795 -->

* Det totala beloppet för leverans av en order till flera adresser har nu beräknats korrekt. När en offert innehöll mer än en leveransadress uppdaterades leveransbeloppet för adressen i `$quote->getShippingAddress()` i stället för att skicka `$shippingAssignment` som förväntat. [GitHub-37283](https://github.com/magento/magento2/issues/37283)

<!-- ACP2E-2459 -->

* Handeln genererar inte längre ett undantag vid utcheckning med flera leveransadresser när administratörsanvändaren har använt inloggningen som kundfunktion.

<!-- ACP2E-2258 -->

* Produkterna visas nu korrekt i produktrutnätet på sidan Skapa paket när du lägger till produkter i ett paket efter att etiketten för leverans har skapats.

<!-- ACP2E-2044 -->

* The `cart` ger nu diskreta fraktrabatter som separata fraktrabatter med unika rabattetiketter. Den nya `applied_to` Rabattegenskapen stöder differentiering mellan rabatter som tillämpas på en kundvagnsartikel. Tidigare kombinerades alla fraktrabatter till en hårdkodad **[!UICONTROL Shipping Discount]** värde.

<!-- ACP2E-1826 -->

* När en administratörsanvändare skapar en ombeställning fylls fakturerings- och leveransadresserna från den initiala ordern automatiskt i relevanta fält när administratörsanvändaren klickar på **[!UICONTROL Reorder]** button (Admin **[!UICONTROL Sales]** > **[!UICONTROL Orders]** > **[!UICONTROL View]** ). Om samma adresser sparas i kundens adressbok kommer ombeställningen alltid att innehålla en uppdaterad version av adresserna. Tidigare fylldes leveransadressfältet i automatiskt med uppdaterade data, men inte faktureringsadressfältet.

<!-- AC-7003 -->

* The **[!UICONTROL Shipping Policy]** är nu synlig i administrationslagrets visningsområde när **[!UICONTROL Apply custom Shipping Policy]** är aktiverat och det finns en anpassad leveranspolicy. [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* The `cart` frågan returnerar nu en `selected_shipping_method` värde som matchar ett av `available_shipping_methods` kod för transportföretag och metoder. Tidigare, när en av de valda leveransmetoderna innehöll ett understreck, matchades inte dessa transportföretags-/metodkoder. [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* The `setShippingAddressesOnCart` mutation genererar inte längre ett fel när det andra värdet i gatuarrayen är null. Tidigare utlöstes detta undantag: `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)


### Webbplatskarta

<!-- AC-2465 -->

* XML-webbplatskartan fungerar nu som förväntat i en flerartikeldistribution. Tidigare innehöll platskartorna inte de tilldelade standardsidorna för varje butik. [GitHub-35001](https://github.com/magento/magento2/issues/35001)

<!-- AC-2267 -->

* Handlare kan nu skapa och spara en produkt när en webbplats `id != 1` och läget för en enskild butik är aktiverat. Tidigare misslyckades åtgärden spara med följande meddelande: `SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails`. [GitHub-35009](https://github.com/magento/magento2/issues/35009)

### Mellanlagring

<!-- ACP2E-2665 -->

* Mellanlagringsuppdateringar för försäljningsregler dupliceras inte längre på kontrollpanelen för mellanlagring.

<!-- ACP2E-2173 -->

* Paketprodukter uppdateras nu korrekt om en kund lägger till dem i kundvagnen när en schemauppdatering pågår. Om en paketprodukt med alternativ lades till i kundvagnen när en schemauppgift pågick genererade Commerce det här undantaget: `Some of the products below do not have all the required options. Please select all required options`.

<!-- ACP2E-2252 -->

* Schemalägg uppdateringar behåller nu rätt priser för paketalternativen. Tidigare ändrades priserna till noll för specifika webbplatser eller butiksvyer.

<!-- ACP2E-2150 -->

* När en schemalagd uppdatering uppdateras tas inte längre den tidigare versionen av det mellanlagrade objektet bort om inget slutdatum anges. Tidigare togs den rollbackade versionen av objektet bort när ett mellanlagrat objekt uppdaterades om inget slutdatum angavs. Handeln genererade inte något fel och varnade inte administratörsanvändare innan de raderades.

<!-- ACP2E-1923 -->

* Värden för butiksvyetiketter raderas inte längre efter en schemalagd uppdatering av kundprisregler. Tidigare raderades dessa etiketter även om de inte hade angetts i uppdateringen.

<!-- ACP2E-1803 -->

* Förhandsgranskning av innehållstaging fungerar nu korrekt för länkade sidor. Tidigare gick det inte att navigera till länkade sidor i förhandsvisningen av mellanlagring, utan i stället riktades felaktigt till butikssidor.

<!-- ACP2E-1876 -->

* С en mellanlagringsuppdatering inte längre tas schemalagda uppdateringar som tilldelats ett senare datum bort.

<!-- ACP2E-1501 -->

* JavaScript-fel inträffar inte längre när du lägger till eller redigerar schemalagda uppdateringar för kategorier när Google Analytics Content Experiments är aktiverat.

<!-- ACP2E-1344 -->

* Det går nu att spara en befintlig schemauppdatering för en kategori efter att ha visat eller redigerat den. Tidigare inträffade ett fel i Adobe Commerce i `system.log`.

<!-- ACP2E-1596 -->

* Hämtningsbara länkar bevaras nu som förväntat när en schemalagd uppdatering tillämpas medan tidigare tillagda produkter finns i kundvagnen. Tidigare har nedladdningsbara länkar försvunnit från kundens sida Mitt konto (Mina nedladdningsbara produkter) och från ordervysidan för administratörer.

<!-- ACP2E-1458 -->

* Produkterna visas nu som förväntat i butiken efter en mellanlagringsuppdatering som aktiverar produkten. Tidigare var produkten aktiverad i Admin men inte synlig i butikskategorin när indexerarläget för kataloglagret var inställt på Update on Schedule. Ett helt indexvärde för omindexering åtgärdade problemet.

<!-- ACP2E-1647 -->

* The `staging.synchronize_entity_period` konsumentkö i `magento_bulk` tabellen ökar inte längre när det inte finns några mellanlagringsuppdateringar att bearbeta. Tidigare när `cron` konfigurerades för att köras varje minut, en ny post relaterad till `staging.synchronize_entity_period` konsumenten lades till i tabellen varje minut.

<!-- ACP2E-1415 -->

* Adobe Commerce genererar inte längre ett SQL-fel när du skapar en schemaändring för en produkt medan du sparar en annan produkt. Tidigare visade Adobe Commerce följande fel: `The product with the SKU "%1" couldn't be added to the current update`.

### Målregler

<!-- ACP2E-1438 -->

* Målreglerna fungerar nu korrekt med olika butiksvyer. Tidigare förhindrade problem med relaterade produkter regelcache visning av rekommenderade produkter i distributioner av flera butiker.

### Moms

<!-- ACP2E-2651 -->

* Fakturor visar nu korrekt delsumma när moms har konfigurerats och FPT är aktiverat.

<!-- ACP2E-2245 -->

* I Commerce visas nu korrekt värde för **[!UICONTROL Regular Price]** värde när ett anpassat alternativ väljs för en produkt som har ett **[!UICONTROL Special Price]** värde när **[!UICONTROL Price Display Settings]** är inställt på att inkludera moms.

<!-- ACP2E-2303 -->

* Moms inkluderas nu som förväntat i utcheckningspriset för arbetsflöde enligt konfigurationsinställningarna.

<!-- AC-9758 -->

* The `cart` fråga `applied_taxes` svarsvärdet innehåller nu alla enskilda momsregler som förväntat. Tidigare returnerades det totala momsvärdet när flera momsregler konfigurerades.

<!-- ACP2E-2247 -->

* Ikonen för komprimering/utökning för **[!UICONTROL Additional Settings]** när momsregler skapas fungerar nu som väntat. Tidigare fungerade bara ikonen för att expandera. [GitHub-37922](https://github.com/magento/magento2/issues/37922)

<!-- ACP2E-1527 -->

* Du kan nu redigera värdet för Land och region för momssats på redigeringssidan för momsregel som förväntat. Tidigare sparades inte redigeringar gjorda från den sidan.

<!-- ACP2E-1143 -->

* Momsbeloppet i vagnsberäkningsområdet uppdateras nu som väntat när leveransmetoden uppdateras. Tidigare uppdaterades inte skattesatsen efter det att en köpare bytte land under utcheckningen.

<!-- AC-8227 -->

* The `tax class` Värdet för nyskapade enkla produkter ställs nu in på den överordnade produktens värde när nya varianter av en befintlig konfigurerbar produkt skapas i Store View-omfånget. Tidigare var det här värdet inställt på none. Därför lades ingen skatt till i varukorgen och kunderna beskattades inte alls. [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### Testa

<!-- ACP2E-2501 -->

* Förbättrade `AdminCreateOrderWithVirtualProductFromDefaultSourceWithBackorders` testa för att eliminera fel som orsakas av för tidigt slutförande av e-postfältet.

<!-- AC-10863 -->

* `StorefrontVerifyProductAfterPartialReindexOnSeveralWebsitesTest` har omarbetats för att förbättra tillförlitligheten. [GitHub-38359](https://github.com/magento/magento2/issues/38359)

<!-- ACP2E-2501 -->

* Korrigerade `AdminSimpleProductwithTextandVisualSwatch` testa genom att introducera ett extra steg som uttryckligen anger de attribut som ska användas i sökningen.

<!-- AC-9194 -->

* Korrigerat stavfel i `SortbyTest` enhetstest. [GitHub-37792](https://github.com/magento/magento2/issues/37792)

<!-- AC-9035 -->

* Referenser till klasser som inte finns i enhetstester har tagits bort. [GitHub-37636](https://github.com/magento/magento2/issues/37636)

<!-- ACP2E-2604 -->

* Förbättrade `AdminCreateOrderWithVirtualProductFromDefaultSourceWithBackorders` testa för att eliminera fel som orsakas av för tidigt slutförande av e-postfältet.

<!-- ACP2E-2202 -->

* Refactored `Magento\GraphQl\Catalog\ProductSearchTest::testFilterProductsBySingleCategoryId` testa för att hantera slumpmässig kategoriordning i `products` frågesvar.

<!-- AC-7098 -->

* Prestandaproblem med stora arrayer i `TableNameSniff` har lösts.

<!-- ACP2E-1690 -->

* Integrationstester för redigering av presentregister behöver inte längre vara befintliga enhets-ID:n. Alla data som behövs hämtas nu via korrigeringar. Tidigare `\Magento\GiftRegistry\Controller\Index\EditPostTest` misslyckades.

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` nu räknas sommartid.

<!-- ACP2E-1824 -->

* Fast meddelande om borttagning för `StorefrontDeleteItemFromRequisitionListPrintView`.

### Gränssnittsramverk

<!-- AC-10877 -->

* Filöverföringsformat dupliceras inte längre i Luma-temat. [GitHub-32373](https://github.com/magento/magento2/issues/32373)

<!-- AC-9984 -->

* Gatufält på gatufältet Kundkontots adressformulär har sparats korrekt. Dessa fält sorteras nu korrekt av de angivna tangenterna i formuläret. [GitHub-37973](https://github.com/magento/magento2/issues/37973)

<!-- AC-9107 -->

* Markörbeteendet i presentregistret har korrigerats **[!UICONTROL Message]** textfält.

<!-- AC-3001 -->

* Cumulative Layout Shift-värden (CLS) har förbättrats för produktinformationssidor. (Det här måttet anger den visuella stabiliteten för sidlayouter.)[GitHub-35410](https://github.com/magento/magento2/issues/35410)

<!-- AC-10567 -->

* Förbättrade meddelanden om fel som uppstår under mallåtergivning. Commerce visar nu ett informativt meddelande. Tidigare visade Commerce läckor i HTML när ett PHP-fel inträffade.

<!-- ACP2E-2595 -->

* Anpassade kundattribut (typ) `File attached`) fungerar nu korrekt med bilder som har tagits bort och sedan överförts. Tidigare gick det inte att spara anpassade attribut som överförts, sedan tagits bort och sedan överförts igen från butiken.

<!-- AC-9125 -->

* Ett syntaxfel i kalendermallfilen har korrigerats. [GitHub-37725](https://github.com/magento/magento2/issues/37725)

<!-- AC-6445 -->

* Administratörsanvändare kan nu ändra butikslogotypen när läget för en butik är aktiverat. Tidigare visade Commerce standardlogotypen för reserv. [GitHub-35952](https://github.com/magento/magento2/issues/35952)

<!-- ACP2E-2045 -->

* Konfigurationsvärdena för mixar är inte längre tomma, och jQuery-blandningar fungerar nu oavsett inläsningsposition. Tidigare lästes inte jQuery-mixiner in på samma sätt i olika webbläsare.

<!-- AC-8823 -->

* Lösenord visas nu som förväntat när **[!UICONTROL Show Password]** kryssrutan på inloggningssidan är aktiv.

<!-- ACP2E-2034 -->

* Adobe Commerce visar nu korrekta priser för fasta paketprodukter med specialpriser.

<!-- AC-8285 -->

* Länken till listsidan för GitHub-problem i mallfilen för butiksfoten har uppdaterats. [GitHub-37214](https://github.com/magento/magento2/issues/37214)

<!-- AC-6282 -->

* Widgeten Senast visade visar nu rätt momsbelopp i grupperade produktpriser. [GitHub-35881](https://github.com/magento/magento2/issues/35881)

<!-- AC-6636 -->

* Administratörsanvändare kan nu dra och släppa de anpassningsbara alternativ som skapats för den enkla produkten som förväntat. [GitHub-36051](https://github.com/magento/magento2/issues/36051)

<!-- AC-8345 -->

* Ordningen på attributtyperna i listrutan för produkter matchar nu ordningen på bilderna på den konfigurerbara produktsidan. [GitHub-37285](https://github.com/magento/magento2/issues/37285)

<!-- ACP2E-1969 -->

* Systemmeddelanden läses nu in snabbare. Endast de meddelanden som visas läses in. Tidigare lästes alla meddelanden in från databasen, som var tidskrävande.

<!-- ACP2E-1804 -->

* Ta bort noden för vägbeskrivningar genom att ange `remove=true` via XML-layouten tar inte längre bort sidans rubrik på kategorisidan. Om du tidigare tog bort vägbeskrivningar på det här sättet togs sidtiteln bort från kategorisidan.

<!-- ACP2E-1717 -->

* Kundregistreringsblanketten läses nu in som förväntat när den innehåller kundattribut med flera val. Tidigare inträffade följande undantag i Adobe Commerce: `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* Välkomstmeddelanden som innehåller enkla citattecken återges nu korrekt på butiken utan konsolfel. Om ett välkomstmeddelande innehöll ett enkelt citattecken lästes inte välkomstmeddelandet in vid återgivning i dispositionen. Adobe Commerce visade även konsolfel.

<!-- ACP2E-1369 -->

* Adobe Commerce genererar inte längre något fel när du försöker att snabbt ändra vyn mellan kommentarhistorik och Returer på ordersidan i Admin. Tidigare visade Adobe Commerce följande allmänna fel: `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* Administratörsanvändare med begränsad behörighet till en webbplats kan nu uppdatera webbplatsspecifika produktattribut som angetts till en `all stores view` omfång.

<!-- ACP2E-1648 -->

* Förstoringswidgeten läses nu in som väntat på produktsidan.

<!-- ACP2E-1216 -->

* Anpassningsbara alternativ för flera rader återges nu korrekt i PDF-dokument med faktura, leverans och kreditnota. Tidigare föregicks flerradig text av en oväntad sidbrytning, och om texten överskred sidan kortas texten av.

<!-- AC-7402 -->

* Administratörsanvändare kan nu lägga till en ny kundadress från administratören när kunden har skapats för en annan webbplats vars butiks-ID inte matchar webbplatsens ID. Tidigare visade Adobe Commerce detta popup-meddelande: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* Information om företagsadministratörer sparas nu som förväntat och administratörer omdirigeras korrekt när e-postmeddelanden om företagsadministratörer innehåller en `CMS Block URL` variabel.

<!-- ACP2E-1775 -->

* Felmeddelanden som är kopplade till att skicka kommentarer på sidan med orderinformation är nu mer informativa. Tidigare när en köpare klickade **[!UICONTROL Submit comment]** utan att ändra ordningsstatus eller skriva text i kommentarsområdet, visade Adobe Commerce det här meddelandet: `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* Kalenderikonen visas nu som förväntat i datumintervallfälten i Admin **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** efter att ett datum har valts för ett fält. När du tidigare har valt ett datum för ett fält visades inte kalenderikonen längre i andra fält och Adobe Commerce visade platshållartext. [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* Kundregistreringsformulär som innehåller flervalsfält har nu lästs in. Tidigare lästes inte det här formuläret in när det innehöll flervalsfält och följande fel utlöstes: `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* Om du klickar på en videominiatyr i produktgalleriets helskärmsläge visas videon som förväntat. Tidigare visades inte videon och webbläsarkonsolen visade ett JavaScript-fel. [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* En variabel som uppdateras automatiskt varje år har lagts till på copyright-raden. [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* Skjutreglaget på produktsidan fungerar nu som förväntat i mobilvyn. Tidigare visades bara den första bilden. [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### URL-omskrivningar

<!-- ACP2E-2549 -->

* URL-omskrivningar genereras nu baserat på synlighetskonfiguration på butiksnivå i distributioner av flera butiker. Tidigare genererades inte URL-omskrivningar för icke-standardbutiker när produktsynlighet var inställd på **inte synlig** under standardbutiksomfånget.

<!-- AC-10464 -->

* `Category::getUrl()` hämtar inte längre en 301-omdirigering. [GitHub-38152](https://github.com/magento/magento2/issues/38152)

<!-- ACP2E-2629 -->

* Commerce genererar inte längre produkt-URL-omskrivningar för rotkategorier och för produkter som är inställda på **[!UICONTROL Not Visible Individually]** i flerbutiksinställningar när saknade URL-omskrivningar genereras för anpassade butiker.

<!-- ACP2E-2481 -->

* Kanoniska URL-taggar återspeglar nu de ändringar som förväntas efter att kategorins URL-nyckelegenskap har uppdaterats. Tidigare användes den föråldrade kategori-URL:en, som omedelbart utlöste omdirigeringen till den nya URL:en.

<!-- AC-6728 -->

* URL-omskrivningar för kategoriprodukter genereras nu som förväntat för alla butiksvyer när en produkt läggs till i en kategori. [GitHub-32910](https://github.com/magento/magento2/issues/32910)

<!-- ACP2E-1783 -->

* Handel genererar inte längre något fel när du försöker skapa en 301/302-omdirigering för en produkt-URL när **Generera återskrivningar av kategori-/produkt-URL** är aktiverat. När en produkt skapas och tilldelas till en kategori skapas automatiska URL-omskrivningar: en för direkt URL och en för produkten via kategorisökvägen. När en ny produkt-URL-omskrivning skapas kontrolleras korrelationer mellan produkt, kategori och butik. Den här kontrollen baseras nu på korrelerade enhetsegenskaper (kategori och produkt). Tidigare utfördes den här kontrollen på befintliga URL-omskrivningar.

<!-- ACP2E-1737 -->

* Omskrivningar av kategori-URL genereras nu för alla butiksvyer när en ny kategori importeras från en CSV-fil.

<!-- ACP2E-1700 -->

* Konfigurationer av produkts-URL-suffix och kategori-URL-suffix matchar nu suffixen i `url_rewrite` tabell. Tidigare inträffade spårningsvillkor vid uppdatering av URL-suffixkonfigurationer, och de konfigurerade URL-suffixen och `url_rewrite` tabellen matchade inte.

<!-- ACP2E-1703 -->

* Adobe Commerce återger nu kategoriträdet på alla nivåer när kategorins URL-skrivningar skapas. Tidigare visades bara de tre första nivåerna av kategorier. [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1644 -->

* Nyligen skapade CMS-sidor med en underordnad nod ingår nu i marknadsföringsfilterrastret (**[!UICONTROL Marketing]** > **[!UICONTROL URL rewrites]**). Tidigare skapades inga URL-omskrivningar för dessa CMS-sidor.

<!-- ACP2E-1737 -->

* Återskrivningar av kategori-URL finns nu i CSV-filen under importen av en ny kategori.

<!-- ACP2E-1668 -->

* CMS-sidor för flera butiker utan URL-omskrivningar vidarebefordras nu som förväntat. Tidigare omdirigerades begärda CMS-sidor för flera butiker utan URL-omskrivningar till butikens hemsida, men de ursprungliga CMS-sidorna dirigerades inte.

### Visual Merchandiser

<!-- ACP2E-1363 -->

* Nu kan du använda `Categories` för Visual Merchandiser-regler. Tidigare inträffade följande undantag i Adobe Commerce: `Something went wrong while saving the category`.

### Webb-API-ramverk

<!-- AC-6980 -->

* Handel visar inte längre en `Integration not secure` varning i Admin **[!UICONTROL System]** > **[!UICONTROL Extensions]** > **[!UICONTROL Integrations]** när **[!UICONTROL Callback URL]** och **[!UICONTROL Identity link URL]** fält är tomma. [GitHub-36407](https://github.com/magento/magento2/issues/36407)

<!-- ACP2E-2483 -->

* Lagt till `taxes`, `itemized_taxes`och `additional_itemized_taxes` tilläggsattribut till  `Magento\Sales\Api\Data\OrderInterface`. Dessa attribut gör att du kan spara pålagda skatter med Order REST-anrop.

<!-- ACP2E-2610 -->

* REST API:t för nivåpriser har nu stöd för decimalkvantiteter. Tidigare tillät detta API inte decimala kvantiteter även om **[!UICONTROL Use Decimal Quantity]** inställningen aktiverades.

<!-- AC-8998 -->

* REST `V1/orders/{id}/comments` slutpunkten ändrar inte längre status för en order när den försöker lägga till en kommentar till status för en väntande order. Det ger nu ett informativt fel. Tidigare ändrade den här slutpunkten ordningsstatusen när en kommentar lades till.

<!-- ACP2E-2275 -->

* REST API `GET` och `POST V1/products/attributes` slutpunkten returnerar inte längre samma värde för `is_filterable` attribut för båda `Filterable(with results)` och `Filterable(no results)` alternativ för **[!UICONTROL Use in Layered Navigation]** alternativ. Tidigare returnerade den här slutpunkten samma värde eftersom `is_filterable` attribute property was of type `Boolean`, som inte tillät inställning av den här egenskapen till `Filterable(no results)`. [GitHub-37979](https://github.com/magento/magento2/issues/37979)

<!-- AC-9117 -->

* Saknade `media_gallery_entries` fältet har lagts till i REST `V1/configurable-products/sku/children` slutpunkt. Den här funktionen saknade tidigare kod som behövs för att lagra och visa `media_gallery_entries`. [GitHub-37607](https://github.com/magento/magento2/issues/37607)

<!-- ACP2E-1986 -->

* REST `V1/carts/mine/estimate-shipping-methods` validerar nu alla nivåer av nyttolastfältdata och returnerar en 400 HTTP-kod för ogiltiga data. Tidigare validerades endast den första nivån av API-nyttolast, och om ogiltiga data returnerades i icke-validerade nivåer av nyttolasten returnerade Commerce en 500-statuskod.

<!-- ACP2E-2053 -->

* Asynkrona REST API-åtgärder i bulk för att uppdatera produkter med nivåpriser och olika attributuppsättningar har nu slutförts. Tidigare gick det inte att uppdatera produkter med olika attributuppsättningar på det här sättet och det här felet visades i Commerce: `The product was unable to be saved. Please try again`.

<!-- AC-7002 -->

* The `POST /V1/products/tier-prices` slutpunkten returnerar nu ett mer informativt felmeddelande när ett ogiltigt kundgruppsnamn används när nivåpriset skapas. Tidigare returnerade Adobe Commerce ett fel som detta: `Notice: Undefined index: XXXXX in ~/public_html/vendor/magento/module-catalog/Model/Product/Price/Validation/TierPriceValidator.php on line 474"`. [GitHub-36431](https://github.com/magento/magento2/issues/36431)

<!-- ACP2E-1776 -->

* Du kan nu köra en auktoriserad asynkron bulk-API-begäran för att skapa kunder med ett icke-standard grupp-ID. Tidigare återställdes grupp-ID:t av dessa begäranden till standardvärdet.

<!-- ACP2E-1543 -->

* Kunder som har skapats med API:t Bulk får nu e-post om kundregistrering på det språk som har konfigurerats på deras tilldelade webbplats. Tidigare skickades alla e-postmeddelanden till standardspråkområdet, inte till språkområdet på den webbplats som kunden är tilldelad.

<!-- ACP2E-1339 AC-7577-->

* The `POST V1/guest-carts` anrop skickar inte längre gästorder när **[!UICONTROL Allow Guest Checkout]** är inaktiverat.

<!-- ACP2E-1336 -->

* Nu kan du öppna en beställning från administratören med statusen `Received` när `AsyncOrder` är inte aktiverat. Tidigare gick det inte att öppna orderdetaljsidan från administratören när orderstatusen ändrades av `POST V1/orders`.

<!-- ACP2E-1526 -->

* Adobe Commerce returnerar nu `content` attribute (base64 image code) in `GET V1/products/sku/media` API-svar för produktmedia. The `content` attribut visades inte tidigare i svaret.

### Önskningslista

<!-- ACP2E-1784 -->

* Commerce visar nu ett meddelande som anger att ett objekt redan har lagts till i en önskelista när en kund försöker lägga till samma objekt i en önskelista flera gånger. Tidigare under dessa villkor ökade Commerce produktkvantiteten i önskelistan.

<!-- AC-8610 -->

* Adobe Commerce har nu lagt till produkter med nödvändiga överförda anpassningsbara alternativfiler i önskelistan. Tidigare lade Commerce till två produkter i önskelistan, inte en. [GitHub-37437](https://github.com/magento/magento2/issues/37437)

## Kända fel

Följande kända fel kommer att åtgärdas i Adobe Commerce 2.4.7 GA:

**Problem**: AWS Cloud-tjänsterna är inte kompatibla med PHP 8.3. Kompatibilitet med PHP 8.3 kommer att införas i Adobe Commerce 2.4.7 GA. <!-- AC-11395 -->

**Problem**: Kategorierna är inte synliga för kunder i butiker där cacheminnet är inställt på Fast CDN (**[!UICONTROL Caching Application=Fastly CDN]**). Detta påverkar både gästkunder och registrerade kunder.  <!-- AC-11411 -->

**Problem**: En produkt tas inte bort som förväntat från mini-vagnen efter att den delade katalogen som den är tilldelad till har tagits bort från produkten. <!-- AC-8935 -->

## Systemkrav

Vår teknikstack bygger på PHP och MySQL. Mer information finns i [Systemkrav](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Installations- och uppgraderingsanvisningar

Du kan installera Adobe Commerce 2.4.7 beta3 med [Disposition](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
