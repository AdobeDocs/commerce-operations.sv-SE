---
title: Versionsinformation om Adobe Commerce 2.4.5
description: Läs om nya funktioner, förbättringar, felkorrigeringar och kända fel i Adobe Commerce version 2.4.5.
exl-id: fafcd266-fb69-450f-8c4f-047109ba8b50
source-git-commit: 95ea96a566b0579a22b2ba738bd4a4bceef8cd9c
workflow-type: tm+mt
source-wordcount: '9380'
ht-degree: 0%

---

# Versionsinformation om Adobe Commerce 2.4.5

Adobe Commerce har förbättrat plattformskvalitet, betalningsmetoder, GraphQL cachelagring och tillgänglighet. Den innehåller uppdateringar av integrerade Google-moduler och verktyget för kompatibilitetsuppgradering och introducerar stöd för Live Search B2B.

Den här versionen innehåller över 400 kvalitetskorrigeringar och förbättringar.

{{bics}}

## Annan versionsinformation

Även om koden för de här funktionerna paketeras med kvartalsversioner av Adobe Commerce kärnkod kommer flera av dessa projekt (till exempel B2B, Page Builder och Progressive Web Application (PWA) Studio) också att släppas oberoende av varandra. Felkorrigeringar för dessa projekt beskrivs i den separata, projektspecifika versionsinformation som finns i dokumentationen för varje projekt.

### Programfixar som ingår i den här versionen

Adobe Commerce 2.4.5 innehåller lösningar på alla problem som har åtgärdats i följande snabbkorrigeringar, som tillhandahölls för Adobe Commerce:

* `Braintree_disabled_partial_capture_for_applepay_googlepay.zip`. Den här korrigeringen åtgärdar oförmågan hos användare att skapa partiella fakturor när de använder Apple Pay eller Google Pay via Braintree som betalningsmetod. Se artikeln [Adobe Commerce 2.4.4: Det går inte att skapa partiella fakturor](https://support.magento.com/hc/en-us/articles/4487952754957-Adobe-Commerce-2-4-4-Unable-to-create-partial-invoices) i kunskapsbasen.

* `AC-2655_2.4.4.patch.zip`. Den här korrigeringen åtgärdar ett problem där kunderna inte kan lägga till en produkt i kundvagnen när alternativet Tillåt länder inte är markerat. Se [Användare kan inte lägga till produkter i kundvagnen om inget har valts i artikeln Tillåt länder](https://support.magento.com/hc/en-us/articles/5377681213325-Users-not-able-to-add-product-to-cart-if-nothing-selected-in-Allow-Countries) i kunskapsbasen.

## Adobe Commerce 2.4.5 - i korthet

Leta efter följande högdagrar i den här versionen.

### Säkerhetsförbättringar

Den här versionen innehåller 20 säkerhetskorrigeringar och plattformssäkerhetsförbättringar. Säkerhetsuppdateringen har säkerhetskopierats till Adobe Commerce 2.4.3-p3 och Adobe Commerce 2.3.7-p4.

Inga bekräftade attacker relaterade till dessa problem har inträffat hittills. Vissa säkerhetsluckor kan dock utnyttjas för att få tillgång till kundinformation eller ta över administratörssessioner. De flesta av dessa problem kräver att en angripare först får åtkomst till administratören. Därför påminner vi dig om att vidta alla nödvändiga åtgärder för att skydda din administratör, inklusive men inte begränsat till dessa åtgärder:

* IP-tillåtelselistning
* [Tvåfaktorautentisering](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* Användning av ett VPN
* Använd en unik plats i stället för `/admin`
* Bra lösenordshygien

I [Säkerhetsbulletin för Adobe](https://helpx.adobe.com/se/security/products/magento/apsb22-38.html) finns den senaste informationen om dessa åtgärdade problem.

#### Ytterligare säkerhetsförbättringar

Säkerhetsförbättringar för den här versionen förbättrar efterlevnaden av de senaste bästa säkerhetsrutinerna, inklusive:

* Stöd för reCAPTCHA har lagts till i formulären Önsklistedelning, Skapa nytt kundkonto och Presentkort. <!-- AC-1144-->

* ACL-resurser har lagts till i lager. <!-- AC-1622-->

* Säkerheten för lagermallar har förbättrats.

* Filtret `MaliciousCode` har uppgraderats för att använda biblioteket `HtmlPurifier`. <!-- AC-1498-->

### Förbättringar av plattformen

* **Adobe Commerce lokala distributioner**: Adobe Commerce 2.4.5 har testats och bekräftats vara kompatibelt med Elasticsearch 7.17 (~7.17.0 med begränsning). Merchants som är värd för Adobe Commerce lokalt kan använda antingen Elasticsearch eller OpenSearch 1.2. <!-- AC-2425-->

* **Adobe Commerce molnbaserade distributioner**: Elasticsearch 7.11 eller senare stöds inte i Adobe Commerce 2.4.5-molnbaserade distributioner. OpenSearch är standardsökmotorn för Adobe Commerce 2.4.5-molndistributioner.

Adobe Commerce 2.4.5 stöder nu

* Composer 2.2 <!-- AC-2033-->

* TinyMCE (5.10.2). I tidigare versioner av TinyMCE (v5.9.2 eller tidigare) kunde godtycklig körning av JavaScript utföras när en URL som skapats för ändamålet eller en bild med en URL som skapats för ändamålet uppdaterades. <!-- AC-2039 1784 1789-->

* jQueryUI (1.13.1) <!-- AC-2544-->

* `PHPStan` (^1.5.7 med begränsning) [GitHub-35315](https://github.com/magento/magento2/issues/35315)<!-- AC-2876-->

DHL-integreringsschemat har uppdaterats från v6.0 till v6.2. Uppgraderingen kommer inte att leda till någon förändring av produktens beteende.  <!-- AC-3022-->

Inaktuella JavaScript-bibliotek har uppdaterats till de senaste versionerna och inaktuella beroenden har tagits bort. Dessa ändringar är bakåtkompatibla. <!-- AC-2036-->

#### Uppdateringar av sammanställningsberoenden

<!-- AC-2876 2744 2912 2577-->

Följande Composer-beroenden har uppdaterats till de senaste versionerna med begränsningen:

* `colinmollenhour/credis` (1.13.0)? <!-- AC-2732-->
* `guzzlehttp/guzzle` (^7.4.2)
* `laminas/laminas-captcha` (uppdaterad med begränsningen ^2.12) <!-- AC-2625-->
* `laminas/laminas-db`   (^2.15.0)
* `laminas/laminas-di` (^3.7.0)
* `laminas/laminas-escaper` (~2.10.0)
* `laminas/laminas-eventmanager` (^3.5.0)
* `laminas/laminas-feed`   (^2.17.0)
* `laminas/laminas-mail` (^2.16.0)
* `laminas/laminas-mvc` (^3.3.3)
* `laminas/laminas-server` (^2.11.1)
* `laminas/laminas-servicemanager` (^3.11.0)
* `laminas/laminas-validator` (^2.17.0)
* `league/fly` (2.4.3) <!-- AC-2744-->
* `monolog/monolog` (^2.5)
* `phpmd/phpmd`   (^2.12.0)
* `phpstan/phpstan` (^1.5.7)
* `phpunit/phpunit` (~9.5.20)
* `php-cs-fixer` (^3.4.0) <!-- AC-2259-->
* `webonyx/graphql-php` (14.11.6)

Beroenden `laminas/laminas-session`, `laminas/laminas-text` och `laminas/laminas-view` har tagits bort. <!-- AC-2598-->

#### Andra uppgraderingar och ersättningar

* DHL-integreringsschemat har uppdaterats från v6.0 till v6.2. <!-- AC-3022-->

* Gatewayens standardwebbadress för USPS-leverans har uppdaterats så att den använder `https` i stället för `http`. <!-- AC-2426-->

* Biblioteket `Froogaloop` har ersatts med biblioteket Vimeo `Player.js` (2.16.4). <!-- AC-2527 2262-->

* Biblioteket `grunt-eslint` (NPM) har uppgraderats till den senaste versionen. <!-- AC-2700-->

* Biblioteken `jQuery Storage` har ersatts med `julien-maurel/js-storage`. <!-- AC-2627-->

* De statiska verktygen `php-cs-fixer` och `phpcs` för kodanalys är nu kompatibla med PHP 8.x. <!-- AC-2259-->

* `glob.js`-beroende (uppgraderat med begränsning till ~7.2.0) <!-- AC-2547-->

* `serve-static.js`-beroende (uppgraderat med begränsning ~1.14.2) <!-- AC-2548-->

* `underscore.js` beroende (NPM) (1.14.2) <!-- AC-2546 2549-->

* `moment-timezone-with-data.js` (0.5.34) <!-- AC-2545-->

* Biblioteket `jquery/jquery-cookie` har ersatts med `js-cookie/js-cookie`. <!-- AC-2626-->

* Biblioteken `jarallax.js` och `jaralax-video.js` har uppdaterats för att använda den senaste versionen av Vimeo REST API. <!-- AC-2590-->

### Prestanda- och skalbarhetsförbättringar

#### Optimering av prisindexerare

Prestanda för primärt index har förbättrats genom att minska antalet primära index från 3 till 1 för tabellen `catalog_product_index_price_tmp`. Den här förbättringen minskade antalet poster som skapades i prisindexet genom att reducera eSKU-multiplikationen som resulterade i delade kataloger. Indexeringstiden har reducerats avsevärt. <!-- MCP-653 MC-43342-->

### Tillgänglighetsuppdateringar

Fokus på den här versionen har varit att skapa en butiksupplevelse på Venia (PWA) som är mer överskådlig, användbar, förståelig och robust. Bland dessa förbättringar finns:

* Sammanfattningsinformation om sökresultat har nu meddelats skärmläsaranvändare
* Skärmläsare informeras nu när en ny sidvy läses in
* Kontrast och tangentbordstillgänglighet har förbättrats

### Adobe Sign

Merchants kan nu låta kunder elektroniskt signera anpassade avtal, som garantidokument, inköpsavtal och villkor, under Adobe Commerce utcheckning.

### Adobe Commerce-integrering med Adobe IMS

Adobe Commerce-handlare som har en Adobe ID och vill ha en smidig inloggning på Adobe Commerce och Adobe Business-produkter kan integrera Commerce-autentisering med Adobe IMS-autentiseringsarbetsflödet. När den här integreringen har aktiverats för din Commerce Store måste varje Admin-användare använda sina inloggningsuppgifter för Adobe, inte sina Commerce-uppgifter, för att kunna logga in.  Se [Integreringsöversikt för Adobe Identity Management-tjänsten (IMS)](https://experienceleague.adobe.com/docs/commerce-admin/start/admin/ims/adobe-ims-integration-overview.html?lang=sv-SE).

### Varumärkesförändringar och formatförändringar

Administratören har uppdaterats för att överensstämma med Adobe strategi. Ändringarna påverkar sidhuvuden, sidfötter, färguppdateringar för datarutnät och navigeringselement.

### B2B

Vi har optimerat de normaliserade databasdata som behövs för att implementera funktionen för delade kataloger. Den här minskningen av eSKU-multiplikationen resulterar i en prestandaökning eftersom färre databasrader måste lagras. Tidigare duplicerade Adobe Commerce alla SKU:er i katalogen för varje delad katalog. Adobe Commerce skapar nu unika eSKU:er för dem som är direkt tilldelade till en delad katalog.

Om du aktiverar det nya konfigurationsalternativet **Aktiverad delad katalog för direkt produktpristilldelning** förbättras också produktprisindexerarens prestanda. <!-- MCP-946-->

Den här versionen innehåller flera felkorrigeringar. Se [Versionsinformation för B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html?lang=sv-SE).

### Google Analytics

Google har uppdaterat spårnings- och integreringsmekanismerna i AdWords och Analytics i webbapplikationer genom integrering med GTag. Integreringen av Google-funktionalitet på webbsidor ger möjligheter att spåra och hantera innehåll via Google Services. Adobe Commerce har en uppsättning inbyggda moduler som Google AdWords, Analytics, Optimizer och TagManager som utnyttjar det tidigare API:t för integrering med Google tjänster.  I den här versionen har vi implementerat om den här integreringen med GTag-metoden. &#x200B; Se [Migrera från analytics.js till gtag.js (Universal Analytics)](https://developers.google.com/analytics/devguides/migration/ua/analyticsjs-to-gtagjs).

### GraphQL

GraphQL prestandaförbättringar omfattar:

* Utvecklare och administratörer upplever att det går snabbare att återskapa det enhetliga GraphQL-butiksschemat vid driftsättning eller vid ändring av produktionsattribut. Shoppare får också betydligt snabbare sidladdningshastighet när GraphQL-schemat måste byggas om av någon anledning.

* Tillagd möjlighet att förbruka förfallodatum/tid för auktoriseringstoken genom användning av JSON Web Tokens (JWT) i GraphQL API.

* Med kommandot `bin/magento config:set graphql/session/disable 1` kan handlare helt inaktivera skapandet av sessionscookies för alla GraphQL-åtgärder. Som standard skapar Adobe Commerce dessa cookies och förlitar sig på dem för auktorisering, vilket påverkar prestandan. Vi rekommenderar att du använder variabler som den enda typen av behörighet för GraphQL-begäranden. Vi rekommenderar inte att du använder sessionscookies separat eller tillsammans med auktoriseringstoken. Se [GraphQL Authorization](https://developer.adobe.com/commerce/webapi/graphql/usage/authorization-tokens/). <!-- B2B-2204 -->

* Sessionscookies startas nu i GraphQL-åtgärder med hjälp av klassproxies endast vid behov. <!-- B2B-2217 -->

* Sessionsanvändningen har tagits bort från `http` huvudprocessorer i GraphQL, t.ex. butik, kund eller valuta. <!-- B2B-2224 -->

Mer information om dessa förbättringar finns i [GraphQL Developer Guide](https://developer.adobe.com/commerce/webapi/graphql/).

### Lager

Säkerheten för lagermallar har förbättrats.

### Live Search

Den här versionen innehåller stöd för B2B-kundgrupper och anpassade priser. Live Search respekterar nu produkttilldelningar för kundgrupper och de priser som ställs in för en viss kundgrupp/delad katalog.

### Page Builder

Page Builder v.1.7.2 är kompatibelt med Adobe Commerce 2.4.5.

Page Builder-kolumnlayouten innehåller följande förbättringar: <!-- PB-547-->

* Kolumner visas nu, vilket gör att användarna kan styra kolumninställningarna i butiken.

* Kolumnstorleksändring har nu stöd för kapsling som utlöses av användaråtgärder.

### Betalningar

Apple Pay är nu tillgängligt för alla handlare som kör distributioner med Betalningstjänster aktiverat. Den här betalningsmetoden kräver inte att kunderna anger sina kortuppgifter. Apple Pay finns på informationssidan, i kundvagnen, kundvagnen och i kassan. Marknadsförare kan aktivera den här funktionen.

#### PayPal

* Merchants in Spain and Italy can now offer PayPal Pay Later later to shoppers.  <!-- AC-2521-->

* Knapparna PayPal, Credit och Pay Later finns nu tillgängliga i Admin för utchecknings-, mini-kundvagns-, kundvagns- och produktsidorna. Förhandsvisningar visar hur dessa knappar ser ut när de är aktiverade och återgivna på butiken.

#### Braintree

* Braintree har upphört med integreringen av KOUNT:s bedrägeriskydd. Den har tagits bort från Adobe Commerce-kodbas.

* Alternativet **Föreslå alltid 3DS** har lagts till i administratören.

### PWA Studio

PWA Studio v.12.5.x är kompatibel med Adobe Commerce 2.4.5.

Nya funktioner i den här versionen är:

* Uppgifter om köpbeteenden samlas in på PWA Studio store för webbanalystjänster.  Merchants kan nu prenumerera och utöka dessa event efter behov.

* Handlare kan nu välja en tjänst att distribuera från Admin (Google Tag Manager).

Mer information om förbättringar och felkorrigeringar finns i [PWA Studio-utgåvor](https://github.com/magento/pwa-studio/releases). I [Versionskompatibilitet](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) finns en lista över PWA Studio-versioner och deras kompatibla Adobe Commerce grundversioner.

### Kompatibilitetsverktyg för uppgradering

Förbättringarna är bland annat:

* Validering av metodsignaturer identifierar nu inkompatibla ändringar i en metod eller en konstruktorsignatur. <!-- AC-2632-->

* Databasschemavalidering identifierar nu schemaändringar och inkompatibiliteter. <!-- AC-58-->

* Verifiering av DI-konfiguration verifierar nu referenser till borttagna eller inaktuella klasser som inte är API i `di.xml` och inställningar för huvudklasser och gränssnitt.  <!-- AC-438-->

* UCT identifierar nu borttagningar av kod och ger specifika rekommendationer för att lösa varje problem.  <!-- AC-3147-->

## Åtgärdade problem

Vi har åtgärdat hundratals problem i Adobe Commerce 2.4.5 Core-koden.

### Installation, uppgradering, driftsättning

<!-- ACP2E-49-->

* Nu kan du byta namn på en datakorrigering och lägga till det gamla klassnamnet som alias i databastabellen `patch_list`. Adobe Commerce kontrollerar nu om det redan finns aliasen för datakorrigering i databasen innan korrigeringen tillämpas. Tidigare uppstod ett fel under dessa förhållanden i Adobe Commerce.

<!-- AC-3036-->

* Adobe Commerce genererar inte längre något undantag när du försöker ändra Admin URL till en anpassad URL från Admin. Tidigare gick det inte att logga in efter att du ändrat Admin URL. [GitHub-35416](https://github.com/magento/magento2/issues/35416)

<!-- AC-1480-->

* Merchants kan nu uppgradera från en Adobe Commerce 2.4.2-distribution med Klarna till Adobe Commerce 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- AC-2905-->

* Vägen till Adobe Commerce Analytics är inte längre hårdkodad. Tidigare ledde den här hårdkodade sökvägen till konflikter när flera Adobe Commerce-instanser installerades på en server. [GitHub-29373](https://github.com/magento/magento2/issues/29373)

### Tillgänglighet

<!-- AC-2786-->

* Knappen **Kundvagn** ger nu en programmatisk eller textbaserad indikation om dess tillstånd. Användare av skärmläsare informeras om att andra typer av innehåll utökas eller komprimeras när du klickar på den här knappen. Tidigare gav den här knappen ingen programmatisk eller textmässig indikation på dess tillstånd.

<!-- AC-2496-->

* Betalningsinformation: textelement eller bilder av text med kreditkort uppfyller nu WCAG 2.0-kravet på minsta färgkontrastförhållande på 4,5:1 för standardtext på 18 pt (24 px) eller 14 pt (19 px) om de är i fet stil. Tidigare uppfyllde de inte det förväntade kontrastförhållandet.

<!-- AC-2483-->

* **Adressbok** > **Kommunikation** > **Kontoinformation** anpassade fokusindikatorer ger nu ett kontrastförhållande på minst 3:1 mot bakgrundsfärgen.

<!-- AC-2486-->

* Knapptexten **Filter** och **Sortera** uppfyller nu det lägsta färgkontrastförhållandet på 4,5:1 för standardtext på 18 pt (24 px) eller 14 pt (19 px) om den är blixtad. Navigeringsknapparna för karuseller uppfyllde tidigare inte dessa krav på minsta kontrast.

<!-- AC-2499-->

* Skärmläsare annonserar ordet &quot;Venia&quot; endast en gång vid navigering till Venias sidhuvuden och sidfötter. Tidigare har samma ord annonserats två gånger i följd.

<!-- AC-2585-->

* Knappar som aktiverar listrutor ger nu information till skärmläsare som anger deras expanderade eller komprimerade lägen och hjälpmedelsnamn.

<!-- AC-2482-->

* Användare av skärmläsare informeras om när en ny sidvy återges. Tidigare, när en sidtitel ändrades, tillkännagavs inte namnändringen.

### Adobe Stock

<!-- AC-2926-->

* Användare kan nu logga ut från Adobe Stock.

### Paketprodukter

<!-- ACP2E-465-->

* Du kan nu använda slutpunkten `PUT /V1/products` för att uppdatera produktprisattributen för en specifik webbplats. Tidigare gick det inte att uppdatera ett prisattribut för produkten i samma butiksvy om vissa produktattribut åsidosattes för en viss butiksvy.

<!-- ACP2E-780-->

* Adobe Commerce beräknar nu kundvagnssumman för en paketprodukt korrekt när produktdelurvalsregeln tillämpas.

### Cache

<!-- ACP2E-684-->

* Cacheminnet för hela sidor visas inte längre som inaktiverat i administratören när Adobe Commerce-cacheminnet tömts och `use_stale_cache` är aktiverat.

<!-- AC-2410-->

* New Relic distributionsmarkörer fungerar nu som väntat när cachen tömts. [GitHub-32649](https://github.com/magento/magento2/issues/32649)

### Kundvagn och kassan

<!-- ACP2E-455-->

* Popup-fönstret för adresssökning i faktureringssteget i arbetsflödet för utcheckning orsakar inte längre DOM-fel.

<!-- ACP2E-368-->

* mutationen `addProductsToCart` fungerar nu korrekt med flera produkter. Tidigare returnerade den här frågan den första produkten med en korrekt delsumma, men returnerade delsumman 0 för andra produkter.

<!-- ACP2E-245-->

* Behörighetsundantag hanteras nu för begränsade produkter som läggs till av SKU. Kunderna får nu ett lämpligt meddelande i butiken och kvantitetsfältet i feltabellen är inaktiverat. Tidigare inträffade ett undantag i Adobe Commerce: `There has been an error processing your request`.

<!-- ACP2E-148-->

* Den SQL-fråga som uppdaterar påverkade citattecken efter att en kundprisregel inaktiverats har optimerats för att undvika att låsa hela citattabellen.

<!-- ACP2E-98-->

* Köpare med global kontodelning behöver inte längre logga in igen till en sekundär webbplats i en multisitedistribution när gästutcheckning är inaktiverad. Kunddata läses nu in när kunden navigerar till underdomänen. Köparen ombeds inte längre logga in igen och det föregående kundvagnsinnehållet visas.

<!-- ACP2E-94-->

* Listrutevärdena för adresser i arbetsflödet för utcheckning ändras inte längre för de återstående objekten i en offert när ett adressobjekt med en enskild kvantitet tas bort i en utcheckning med flera adresser. När en produkt togs bort från en offert vid utcheckning av flera adresser, ändrades listvärdet för adresser till standardvärdet för alla produkter.

<!-- ACP2E-42-->

* `cart`-frågan returnerar inte längre null-svar när en produkt inte finns i lager. Ett nytt `errors`-element som innehåller felmeddelandet introducerades i svaret. Tidigare visade Adobe Commerce ett `null`-värde under avsnittet `items` i svaret när du körde en fråga med en produkt som inte fanns i lager. Se [kundvagnsfråga](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/queries/cart/).

<!-- ACP2E-38-->

* Leveransmetoder är nu tillgängliga som förväntat när en gästkund skapar ett konto efter att ha lagt till en produkt i kundvagnen innan han eller hon går vidare till kassan. När en gäst lade till en produkt i kundvagnen innan ett konto skapades fanns det inga leveransmetoder tillgängliga vid utcheckningen. När du lagt till andra produkter i vagnen blev leveransmetoder tillgängliga.

<!-- AC-2564-->

* Köpare kan nu lägga till produkter i sina kundvagnar när inga alternativ har valts i fältet **Tillåt länder**.

<!-- AC-2622-->

* Kundvagnens innehåll och inloggningsstatus läses nu in på nytt som förväntat efter en sessionstidsgräns när **Enable Persistence** är inställt på **Yes**. [GitHub-35182](https://github.com/magento/magento2/issues/35182)

<!-- AC-428-->

* Delsummor för Mini cart uppdateras nu korrekt när en kund navigerar från leveranssidan till kundvagnssidan i kassaflödet för en order med flera leveransadresser. Tidigare fördubblades delsumman.

<!-- AC-2619-->

* Minivagnen visar nu tidigare tillagda produkter efter en sessionstimeout när **Aktivera beständighet** är aktiverat. [GitHub-35183](https://github.com/magento/magento2/issues/35183)

<!-- ACP2E-707-->

* Affärsmän kan nu skapa en kreditnota där **återfakturerade leveranser (inkl. Skatt)** är inställt på -0,01 och kan nu ange det här beloppet till 0. Tidigare gick det inte att skapa kreditnotan på dessa villkor.

### Kundprisregel

<!-- ACP2E-680-->

* Attributomfånget `Parent Only` används nu korrekt i villkoret för kundvagnsregel.

### Katalog

<!-- ACP2E-758-->

* Produkt-URL-nycklarna förblir nu oförändrade när produktnamnet uppdateras via `PUT /V1/products/` för en butiksvy. Tidigare genererades en ny URL-nyckel baserat på det nya produktnamnet och tilldelades produkten, som åsidosatte URL-nyckeln i butiksvyn.

<!-- ACP2E-712-->

* Regelbaserade merförsäljningsprodukter visas inte längre två gånger på produktsidan.

<!-- ACP2E-703-->

* När du lägger till en produkt i en kategori från produktwidgeten i Page Builder till karusellläget aktiveras inte längre en sidomladdning.

<!-- ACP2E-685-->

* Produkter som är inställda på **Inte synliga enskilt** visas inte längre i katalogernas avancerade sökresultat.

<!-- ACP2E-679-->

* Dynamiska paketattribut uppdateras nu korrekt på sidan för uppdatering av masattribut. Tidigare var attributet **Dynamic SKU** fortfarande inställt på **Yes** trots att det var inaktiverat på sidan för Massuppdatering.

<!-- ACP2E-673-->

* Katalogregler tillämpas nu korrekt med inkrementella indexerare i stället för med ett fullständigt omindexeringsvärde.

<!-- ACP2E-657-->

* Du kan nu växla mellan list- och rutnätsvyer för flersidiga produktlistor. Tidigare, när du navigerade till den sista sidan i en flersidig produktlistvy innan du växlade till stödrastervyn, visade Adobe Commerce följande fel: `Unfortunately there are no products in this category on our website currently`.

<!-- ACP2E-635-->

* Administratörens åtgärdsloggrapporter visar nu uppdaterade produkt-ID:n och uppdaterad statusinformation som förväntat.

<!-- ACP2E-633-->

* Utlösare återställs nu som förväntat för tabellen `catalogrule_product_price` efter en fullständig indexering. Tidigare togs utlösare bort från tabellen `catalogrule_product_price` efter ett fullständigt indexvärde på `catalogrule_rule` eller `catalogrule_product`.

<!-- ACP2E-629-->

* Kategoriregler som används för att tilldela produkter till kategorier ändras inte längre slumpmässigt.

<!-- ACP2E-522-->

* Adobe Commerce genererar inte längre något fel när en kategoriregel tilldelar en produkt till en kategori som sedan sorteras i en multisitedistribution.

<!-- ACP2E-516-->

* Kategorier kan inte längre uppdateras globalt av en administratör med begränsade scope-behörigheter. Tidigare ändrades produkturvalet även för andra butiker när flera webbplatser använde samma kategori men olika produkter, och en administratör med begränsad behörighet till en butik ändrade produkter i kategorin.

<!-- ACP2E-508-->

* På sidan med produktinformation visas nu korrekt pris när en annan valuta än standardvalutan för ett visst språkområde används. Tidigare var siffror inte lokaliserade som förväntat på butiken.

<!-- ACP2E-468-->

* Produkter kan nu aktiveras med en schemalagd uppdatering.

<!-- ACP2E-392-->

* Samma felmeddelande visas nu av API:t och i butiken när du försöker hämta nivåpriserna för en produkt med dubblettposter. Tidigare returnerade `PUT /V1/products/tier-prices` ett felaktigt felmeddelande.

<!-- ACP2E-345-->

* Nu visas valideringsfelmeddelanden i Adobe Commerce när du försöker lägga till en produkt-URL-nyckel med ett avslutande bindestreck. Det finns även informativ knappbeskrivningstext.

<!-- ACP2E-267-->

* Det nya fältet `ConfigurableWishlistItem.configured_variant` har ersatt fältet `ConfigurableWishlistItem.child_sku`. Det senare fältet utlöste ett internt fel när en kunds önskelista innehöll en okonfigurerad konfigurerbar produkt.

<!-- ACP2E-84-->

* URL-omskrivningar genereras nu endast för de valda butikerna under uppdateringen av massattributet för att ändra produktsynlighet. Tidigare skapade massattributsuppdateringen en URL-omskrivning för fel butik.

<!-- ACP2E-39-->

* När inställningen `Synchronize widget products with backend storage` är aktiverad lägger Adobe Commerce till nyligen visade produktdata i databastabellen `catalog_product_frontend_action`. Det innehåller kund- eller besökar-ID när poster läggs till. Avsnittet `recently_viewed_product` i svaret är nu tomt om kund-ID och besökar-ID är null. När Ajax-begäran `customer/section/load` skickas kan Adobe Commerce därför filtrera nyligen visade produkter baserat på kund- eller besökar-ID korrekt. Tidigare innehöll svaret alla data som var tillgängliga i databastabellen `catalog_product_frontend_action` eftersom det inte fanns någon kontroll över ett tomt kund- eller besökar-ID.

<!-- ACP2E-28-->

* Kategoriregler med ett `Quantity`-attribut för konfigurerbara produkter fungerar nu korrekt när mellanlagring implementeras. Tidigare, när produkter hade olika värden för `row_id` och `entity_id` i tabellen `catalog_product_entity` på grund av mellanlagringsuppdateringar, så filtrerades produkterna inte korrekt av funktionen **Matcha produkten enligt regel** i Visual Merchandiser.

<!-- ACP2E-13-->

* Administratörer kan nu ändra konfigurerbara produktalternativ i kundvagnen från panelen Admin slide. Tidigare fungerade inte bildrutepanelen korrekt.

<!-- AC-1705-->

* Sidcachen rensas nu som förväntat för den konfigurerbara överordnade produkten när ändringar i en underordnad produkt sparas. Eftersom cachen inte rensades markerades inte ändringarna på butikskonfigurationens produktsida. [GitHub-34508](https://github.com/magento/magento2/issues/34508)

<!-- AC-711-->

* Produktlistor återges nu korrekt i Admin. Tidigare återgavs inte produktlistan och följande fel visades i Adobe Commerce: `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145)

<!-- AC-1214-->

* Produktpriserna är nu desamma på produktinformationssidan och i butikssökningar i distributioner med flera butiker efter att Catalog Price Scope ändrats från **webbplats** till **global**. Tidigare visades priset för **global** på sidan Katalogsökresultat och produktinformationssidan visade priset för **webbplatsen**. [GitHub-34074](https://github.com/magento/magento2/issues/34074)

<!-- ACP2E-316-->

* I lagernavigering visas nu produkter med de högsta priserna som förväntat när **Beräkning av prisnavigeringssteg** är inställt på **Manuell**.

<!-- ACP2E-711-->

* Du kan nu ändra produktgränsen per sida som visas i en kategori när **Kom ihåg kategorisidnumrering** är aktiverat. Tidigare skiljde sig cookien `form_key` och användargränssnittet `form_key` och Adobe Commerce visade följande fel: `Invalid Form Key. Please refresh the page`.

<!-- ACP2E-807-->

* EAV-indexeraren bearbetar nu produkt-ID:n som typen `int` för att förhindra eventuella prestandaproblem.

<!-- AC-2597-->

* En ny produktcache genereras nu när du har lagt till en ny bild med namnet .  till en produkt, spara produkten och rensa bildcachen. [GitHub-32699](https://github.com/magento/magento2/issues/32699)

<!-- AC-1205-->

* Adobe Commerce visar nu ett felmeddelande som förväntat när du försöker skapa ett attribut från produktsidan utan att fylla i fältet Admin. [GitHub-33099](https://github.com/magento/magento2/issues/33099)

* Produktklassificeringar är nu korrekta på alla katalogproduktlistor när hemsidan innehåller flera kataloglistor. [GitHub-33867](https://github.com/magento/magento2/issues/33867)

### CMS content

<!-- ACP2E-106-->

* Marknadsförare kan inte längre redigera en aktiv schemalagd uppdatering från entitetens redigeringssida.

<!-- ACP2E-65-->

* En administratör med begränsade behörigheter kan nu visa en CMS-sida i CMS-hierarkin efter en schemalagd uppdatering.

### Konfigurerbara produkter

<!-- ACP2E-687-->

* Adobe Commerce visar nu korrekt produktpris för en konfigurerbar produkt med ett valt alternativ efter att ha ändrat dess kvantitet på sidan med produktinformation. Tidigare återställdes priset till det ursprungliga värdet efter att kvantiteten ändrades.

<!-- ACP2E-461-->

* Frågan `products` hämtar nu priser för konfigurerbara produkter som korrekt återspeglar konfigurationsinställningen **Visa utanför lager**. Tidigare returnerade frågan inte korrekta priser.

<!-- ACP2E-412-->

* Konfigurerbara alternativ är nu länkade till konfigurerbara produkter som har skapats i administratören med `POST /V1/configurable-products/configurable1/child`.

<!-- ACP2E-360-->

* Flervalsattribut sparas nu korrekt vid redigering av produkten. Tidigare sparade Adobe Commerce standardalternativet för icke-markerade attribut samt valda attribut när en produkt sparades.

<!-- ACP2E-55-->

* Adobe Commerce visar nu konfigurerbara attribut som förväntat när globala `select`-attribut skapas via ett korrigeringsskript. Tidigare var giltiga globala attribut dolda.

<!-- AC-2521-->

* mutationen `addConfigurableProductsToCart` kan nu användas för att lägga till konfigurerbara produkter med anpassade alternativ. Tidigare inträffade följande fel i Adobe Commerce: `Magento 2.3.4 graphql Notice: Undefined index: option_value in /var/www/html/mg234/vendor/magento/module-configurable-product-graph-ql/Model/Resolver/ConfigurableCartItemOptions.php on line 62`. [GitHub-28860](https://github.com/magento/magento2/issues/28860)

<!-- ACP2E-43-->

* Adobe Commerce visar nu korrekt en konfigurerbar produkts lagerstatus, tillgängliga konfigurationer och pris när tillgängligheten för en av den konfigurerbara produktens underordnade produkter ändras i en schemalagd uppdatering. När en konfigurerbar produkt hade två underordnade och tillgängligheten för en underordnad produkt inaktiverades med en schemalagd uppdatering visades den överordnade produktens Stock-status felaktigt som **Utanför Stock** när uppdateringen var aktiv, när uppdateringen slutfördes, visades det visade priset och tillgängligheten för dess konfigurationer felaktigt.

* Du kan nu ändra beställning på konfigurerbara produkter med valfria anpassade alternativ. Tidigare misslyckades omsorteringsförsök, vilket innebar att felet `Some of the selected options are not currently available` visades. [GitHub-35409](https://github.com/magento/magento2/issues/35409)

<!-- AC-959-->

* mutationen `addConfigurableProductsToCart` fungerar nu som förväntat med flera produkter. Tidigare returnerades felaktig produktinformation eller så returnerades ett ogiltigt felmeddelande. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

### Kund

<!-- ACP2E-390-->

* Adobe Commerce visar nu fördefinierade EAV-systemattribut korrekt enligt webbplatsinställningarna på butiken. Tidigare visades kundattribut på webbplatsnivå som var aktiverade för en webbplats och inaktiverade för en annan som aktiverade för båda webbplatserna.

### Kundsegment

<!-- ACP2E-473-->

* Kundsegmentspecifika relaterade produktregler fungerar nu som förväntat. Problemet har åtgärdats genom att en metod anropas för att lägga till en relation mellan besökare och segment för en viss webbplats. Tidigare hämtades endast segmenten för den här regeln utifrån registrerade kunder och webbplatser.

### Nedladdningsbar

<!-- MC-40675-->

* Nu kan du ta bort exempellänkar och filer från en nedladdningsbar produkt. [GitHub-31887](https://github.com/magento/magento2/issues/31887)

### E-post

<!-- ACP2E-717-->

* Systemutfärdade e-postmeddelanden skickas nu till mottagare med &quot;.-&quot; i deras e-postadress.

<!-- ACP2E-184-->

* Kunderna får nu påminnelser via e-post om sina övergivna varukorgar enligt rätt schema. Den nya SQL-funktionen `TIMESTAMPDIFF(DAY, ,)` har ersatt funktionen `TO_DAYS()` och beräknar skillnaden i tidsstämplar utifrån datum och tid. Tidigare skickades inga e-postpåminnelser per schema på grund av en felaktig beräkning av två datum-/tidsvärden för kundvagnsövergivning (en tidszon) och servertid (UTC).

<!-- AC-776-->

* Adobe Commerce visar nu ett felmeddelande på sidan Leverans när en kund anger ett ogiltigt e-postformat efter att användaren har klickat på **Placera beställning**. Tidigare visades felmeddelandet på betalningssidan. [GitHub-33590](https://github.com/magento/magento2/issues/33590)

### Ramverk

<!-- ACP2E-658-->

* Kommandot `bin/magento setup:config:set` åsidosätter inte längre redan angivna cache-ID-prefix i `app/etc/env.php`.

<!-- ACP2E-517-->

* Kommandot `bin/magento setup:static-content:deploy -s compact` innehåller nu format från underordnade teman som förväntat. Tidigare fanns inga CSS-temafiler på butiken efter distributionen.

<!-- AC-1999-->

* En ny sniff har lagts till för att kontrollera om avslutande snedstreck används i `void`-element.

<!-- AC-2896-->

* Adobe Commerce genererar inte längre ett SQL-fel när en ny källa har tilldelats en produkt och dess kvantitet har ändrats. [GitHub-35262](https://github.com/magento/magento2/issues/35262)

<!-- AC-401-->

* Attributsorteringsordningen fungerar nu som den anges i filen `di.xml` efter uppdateringen.

<!-- AC-1716-->

* Funktionen `updateCartCurrency` anger nu en sträng i stället för ett objekt inuti vagnobjektet. Tidigare lästes inte ett citattecken in med `getQuote` eftersom funktionen `updateCartCurrency` angav ett objekt i stället för en sträng inuti cart-objektet. [GitHub-34199](https://github.com/magento/magento2/issues/34199)

<!-- AC-2428-->

* Undertryckningsmeddelanden förekommer inte längre i enhetstester på grund av `\DateTimeFormatter::formatObject()`. Den här metoden fungerar nu som förväntat med numeriska värden för `$format`.

<!-- AC-2893-->

* Adobe Commerce visar inte längre ett `preg_replace()`-fel i Admin. Det tredje argumentet (`$subject`) är nu av typen `array|string` i stället för `bool`.

<!-- AC-2583-->

* Metoden `isFreeShipping` returnerar nu ett heltal i stället för ett booleskt värde.[GitHub-35164](https://github.com/magento/magento2/issues/35164)

<!-- AC-2855-->

* Adobe Commerce genererar inte längre följande fel när du skapar ett plugin-program för någon metod i klassen `vendor/magento/module-backend/Model/Menu.php`: `Error: Call to undefined method ReflectionUnionType::getName()`. [GitHub-35292](https://github.com/magento/magento2/issues/35292)

<!-- AC-1518-->

* Adobe Commerce returnerar nu ett 404-fel i stället för ett 500-fel när du navigerar till `/checkout/sidebar/updateItemQty/?item_qty=error` i butiken. Tidigare uppstod det här felet: `Warning: A non-numeric value encountered in /vendor/magento/module-checkout/Controller/Sidebar/UpdateItemQty.php on line 69`. [GitHub-34380](https://github.com/magento/magento2/issues/34380)

<!-- ACP2E-847-->

* Adobe Commerce utlöser inte längre ett `trim(): Passing null to parameter #1 ($string) of type string is deprecated`-fel när AMPQ-anslutningen har konfigurerats utan SSL-konfiguration.

<!-- AC-2414-->

* Databasdefinitionen `longblog` har korrigerats till `long blob`. [GitHub-35108](https://github.com/magento/magento2/issues/35108)

<!-- AC-1526-->

* Blockerad text som innehåller enkla citattecken kan nu översättas. [GitHub-34319](https://github.com/magento/magento2/issues/34319)

<!-- AC-2505-->

* En `TypeError` i `magento2/app/code/Magento/Security/Model/AdminSessionsManager.php` har korrigerats från `int` till `string`.  [GitHub-34415](https://github.com/magento/magento2/issues/34415)

<!-- AC-2511-->

* `.htpasswd` har lagts till på bannlysta platser i konfigurationsfilen `nginx`. [GitHub-35150](https://github.com/magento/magento2/issues/35150)

<!-- AC-2013-->

* Inläsningstiden för sidor i kategoriproduktlistan har förbättrats genom att `Magento_Ui/js/core/app` har lagts till som `deps` i `app/code/Magento/Ui/view/frontend/requirejs-config.js`. [GitHub-34847](https://github.com/magento/magento2/issues/34847)

<!-- AC-2101-->

* Metoden `ProductRepository.php:get` returnerar nu cachenycklar en gång. Tidigare returnerades de två gånger. [GitHub-34958](https://github.com/magento/magento2/issues/34958)

<!-- AC-2507-->

* Ett felmeddelande har lagts till i ett nytt undantag som skapades i undantagshanteraren för cron-jobb. [GitHub-34941](https://github.com/magento/magento2/issues/34941)

<!-- AC-2247-->

* Viktigt-filerna för `GraphQl-GroupedProductGraphQl`-modulerna har uppdaterats. [GitHub-34951](https://github.com/magento/magento2/issues/34951)

<!-- AC-2079-->

* På sidorna för butiksutskrift/faktura/kreditnota visas inte längre Luma-logotypen som standard i stället för den logotyp som har angetts för visning på webbplatsen. [GitHub-34942](https://github.com/magento/magento2/issues/34942)

### Allmänna korrigeringar

<!-- AC-2883-->

* Administratören loggas inte längre ut om den maximala sessionsstorleken anges till 0 (Admin **Store** > **Settings** > **Configuration - Advanced**). [GitHub-35312](https://github.com/magento/magento2/issues/35312)

<!-- ACP2E-675-->

* Konfigurationsinställningarna för kundadressattribut läses nu in korrekt baserat på den webbplats som kunden tilldelas när du lägger till en ny kundadress från administratören som är tilldelad en icke-standardwebbplats.

<!-- ACP2E-630-->

* Kategoriskapande blockeras nu för en begränsad administratör på både sidan Kategori och sidan för produktredigering. Tidigare blockerades skapande av kategori på kategorisidan, men det gick fortfarande att göra det på sidan för produktredigering.

<!-- ACP2E-448-->

* Adobe Commerce genererar inte längre något undantag när du lägger till en paketprodukt via Page Builder.

<!-- ACP2E-427-->

* Kategorier kan nu väljas från kategoriträdet som villkor för ett kundsegment.

<!-- ACP2E-381-->

* Nu kan du skapa ett kundkonto på en iOS-enhet med den lutande apostrofen (&#39;) i första, mellersta eller sista namnet. Tidigare tilläts bara den raka apostrofen, och om du använde standardapostrofen iOS 11+ resulterade det i ett `Name is not valid!`-fel.

<!-- ACP2E-378-->

* Frågan `products` returnerar nu produktinformation som korrekt återspeglar konfigurationen Visa relaterade produkter. Fälten `related_products`, `upsell_products` och `crosssell_products` i GraphQL ProductInterface har nu lösts enligt Visa relaterade produkter, Visa merförsäljningsprodukter respektive Visa korsförsäljningsprodukter.

<!-- ACP2E-234-->

* Attributet **Ange produkt som ny från datum** visar nu korrekt datum när attributet **Ange produkt som ny** anges via en massproduktgruppsuppdatering. Tidigare visades **Ange produkt som ny från datum** som **1 januari 1970**.

<!-- ACP2E-277-->

* Användare med begränsade roller får inte längre automatiskt åtkomst till nya moduler.

<!-- ACP2E-50-->

* Målregler som baseras på kategorier visar bara produkter från den kategori som deklareras i regeln. Tidigare visade relaterade produktregler produkter från kategorier som var tilldelade till produkten och inte definierade i regeln.

<!-- ACP2E-16-->

* Relaterade produktregelvillkor fungerar nu som förväntat med produkter som innehåller `multiselect` attribut.

<!-- AC-2719-->

* Merchants kan nu lägga till ett skiktprisattribut (`tier_price`) i produktjämförelser. Tidigare kraschade produktjämförelsesidan när inställningen **Comparable on storefront** för det här attributet aktiverades. [GitHub-35244](https://github.com/magento/magento2/issues/35244)

<!-- AC-2441-->

* Adobe Commerce visar nu ett felmeddelande när du anger en ogiltig cookie-domän (**Store** > **Konfigurationer** > **Webb** > **Cookie-standardinställningscookie-domän**). Tidigare kraschade webbplatsen. [GitHub-35048](https://github.com/magento/magento2/issues/35048)

<!-- AC-2765-->

* Adobe Commerce genererar inte längre något fel när en administratör med roller som omfattar en enda webbplats lägger till produkten i Content Elements med PageBuilder. Tidigare uppstod ett SQL-fel i Adobe Commerce.

<!-- AC-197-->

* Valideringen har lagts till på den andra raden i gatuadressen på redigerings- och adresssidorna. Minsta och högsta textlängd som anges på den andra används nu.

<!-- ACP2E-798-->

* Adobe Commerce genererar inte längre följande fel när en katalogregel skapas i Admin efter uppgraderingen: `A technical problem with the server created an error. Try again to continue what you were doing. If the problem persists, try again later`.

<!-- AC-2445-->

* Adobe Commerce genererar inte längre något fel när du aktiverar kryssrutan **Markera här för att länka en RSS-feed till din önskelista** innan du klickar på **Dela önskelista**. [GitHub-34998](https://github.com/magento/magento2/issues/34998)

<!-- AC-2019-->

* Titeln på kryssrutan **Visa lösenord** (kundinloggning, kundregistrering, kundredigering (avsnittet Ändra lösenord) och formulär för kundinställning av nytt lösenord) kan nu översättas. [GitHub-34857](https://github.com/magento/magento2/issues/34857)

<!-- ENGCOM-9062-->

* Etiketter och kommentarbeskrivningar i `app/code/Magento/NewRelicReporting/etc/adminhtml/system.xml` har uppdaterats. [GitHub-31947](https://github.com/magento/magento2/issues/31947)

<!-- ENGCOM-8600-->

* `csp_whitelist.xml` filer som inte behövs har tagits bort. [GitHub-30607](https://github.com/magento/magento2/issues/30607)

### Presentkort

<!-- AC-560-->

* `products` frågor returnerar nu korrekt produktdata som innehåller presentkortsprodukter med en `gift-card` URL-nyckel.

### GraphQL

<!-- AC-2361-->

* Ett saknat `price_range`-attribut har lagts till i GraphQL `BundleItemOption`-typen. [GitHub-35010](https://github.com/magento/magento2/issues/35010)

<!-- AC-2367-->

* Frågan `products` returnerar inte längre attribut som en aggregering när inställningen **Använd i sökresultat** för navigering i lager är inaktiverad. [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-1760-->

* Ett `price_including_tax`-fält har lagts till i `CartItemPrices`. [GitHub-29057](https://github.com/magento/magento2/issues/29057)

<!-- AC-2520-->

* `new_from_data` och `new_to_datefields` i `ProductInterface` är inte längre föråldrade. [GitHub-34783](https://github.com/magento/magento2/issues/34783)

<!-- AC-2364 1456-->

* `categories`-frågan genererar inte längre ett undantag när en lista med kategorier som den ena innehåller en bild som inte kan hittas i filsystemet hämtas. Tidigare inträffade följande undantag i Adobe Commerce: `Category image not found`. [GitHub-34266](https://github.com/magento/magento2/issues/34266)

<!-- AC-2368-->

* `products`-frågan returnerar nu `category_uid` som en aggregering som förväntat. [GitHub-32557](https://github.com/magento/magento2/issues/32557)

<!-- AC-2373-->

* mutationen `updateCartItems` tar nu bort produkter som förväntat när produktlagret har nått den maximala lagermängden. [GitHub-30220](https://github.com/magento/magento2/issues/30220)

<!-- AC-2366 734 MC-42964 -->

* Frågan `urlResolver` löser nu sökvägsavgränsaren (/) korrekt när flera hemsidor har samma identifierare. Tidigare löste frågan inte avgränsaren och returnerade null. [GitHub-33615](https://github.com/magento/magento2/issues/33615)

<!-- AC-1881-->

* `customer` frågor hämtar nu flervalsalternativ för paketprodukter som förväntat vid beställning. [GitHub-34717](https://github.com/magento/magento2/issues/34717)

<!-- AC-1668-->

* Adobe Commerce-sessioner avslutas inte längre när en GraphQL-förfrågan har gjorts. Tidigare loggade plugin-programmet `ClearCustomerSessionAfterRequest` ut till shopparen. [GitHub-34550](https://github.com/magento/magento2/issues/34550)

<!-- AC-818-->

* `products`-frågan returnerar inte längre `price_range`-värden för konfigurerbara produkter som påverkas av inaktiverade varianter. [GitHub-33629](https://github.com/magento/magento2/issues/33629)

<!-- ACP2E-634-->

* Konfigurerbart produktprisintervall i `products` frågesvar beräknas nu korrekt när konfigurationsinställningen **Visa utanför Stock-produkter** är aktiverad. Tidigare beaktades inaktiverade alternativ vid beräkningen av lägsta och högsta pris.

<!-- ACP2E-531-->

* Frågan `products` returnerar nu korrekt filtrerade flera kategorier vid sortering efter position.

<!-- ACP2E-499-->

* `setShippingAddressesOnCart` begäranden har nu validerat region-ID:n. Tidigare uppstod ett fel i Adobe Commerce när du använde region-ID i stället för regionkod.

<!-- ACP2E-470-->

* `products` frågor returnerar nu bara de kategorier som är associerade med arkivet som skickades i begäran.

<!-- ACP2E-363-->

* `categoryList`-frågan returnerar nu resultat som avspeglar det frågade arkivets rotkategori när arkivet anges i huvudet. Tidigare inkluderades kategorier från standardrotkategorin i resultaten även om en annan butik angavs i huvudet.

<!-- AC-1955-->

* Frågan `products` returnerar inte längre attribut som en aggregering när inställningen **Använd i sökresultatens lagernavigering** är inaktiverad. [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-2365-->

* Frågan `cart` returnerar nu bara en betalningsmetod för kostnadsfria order. Tidigare returnerades alla aktiva betalningsmetoder i frågesvaret. [GitHub-34036](https://github.com/magento/magento2/issues/34036)

<!-- AC-210-->

* Ett plugin-program har lagts till före anropet `collectQuoteTotals` för att säkerställa att butikskrediter inte används flera gånger.

<!-- ACP2E-636-->

* `generateCustomerTokenAsAdmin`-mutationen hämtar nu kundtoken som förväntat. Tidigare returnerades inte tokens och följande fel returnerades: `Customer email provided does not exist`.

<!-- AC-2371-->

* GraphQL-schemat är nu giltigt när ett anpassat `type`-produktattribut har definierats. Tidigare var schemat ogiltigt eftersom attributet `type` för produkttyper skrevs över av det anpassade attributet `type`. [GitHub-34929](https://github.com/magento/magento2/issues/34929)

<!-- AC-2797-->

* Kunder som har lagts till eller uppdaterats med mutationen `createCustomer`, `createCustomerV2`, `updateCustomer` eller `updateCustomerV2` har nu lagts till med aktiva prenumerationer på nyhetsbrev. Tidigare avbröt kunderna prenumerationen på nyhetsbrev även när begäran innehöll korrekta indataparametrar. [GitHub-33599](https://github.com/magento/magento2/issues/33599)

<!-- AC-1883-->

* `products`-frågan för en viss butiksvy returnerar nu bara kategorier som finns i den specifika webbplatsens rotkategori i flersidesdistributionen. Tidigare returnerade frågan kategorier från rotkategorierna för andra webbplatser. [GitHub-34570](https://github.com/magento/magento2/issues/34570)

<!-- AC-2712-->

* Frågan `products` returnerar nu endast underkategorin för det angivna kategori-ID:t. Tidigare returnerades alla kategorier. [GitHub-35220](https://github.com/magento/magento2/issues/35220)

<!-- AC-2794-->

* `customerOrders`-frågan svarar nu som förväntat när `gift_message`-objektet anges i svaret, men det finns inget presentationsmeddelande. Tidigare returnerade frågan följande meddelande: `Can't load gift message for order is returned`. [GitHub-28957](https://github.com/magento/magento2/issues/28957)

<!-- AC-2515-->

* Korrigerade ett fel med indexeraren `catalog_category_product` som gjorde att `products`-frågan returnerade kategorier från en annan butik. [GitHub-31253](https://github.com/magento/magento2/issues/31253)

<!-- AC-2063-->

* `generateCustomerToken`-mutationen skapar nu en post i `customer_log` som förväntat efter generering av en kundtoken. [GitHub-33378](https://github.com/magento/magento2/issues/33378)

### Google Analytics

<!-- AC-2574 2685-->

* Google Tag-modulen har lagts till i kodbasen som stöder övergången till Google Analytics 4 i juli 2023.  För närvarande kan ni använda och samla in nya data i era Google Universal Analytics-egenskaper, men Google Universal upphör i juli 2023. [GitHub-35204](https://github.com/magento/magento2/issues/35204), [GitHub-35376](https://github.com/magento/magento2/issues/35376)

### Bild

<!-- ACP2E-71-->

* Bilder på produktinformationssidor flimrar inte längre och bilderna förblir centrerade som förväntat. Tidigare ändrades bilden nedåt när en produktinformationssida hade lästs in.

### Importera/exportera

<!-- ACP2E-676-->

* Relaterad produktposition, merförsäljning och korsförsäljning i den exporterade CSV-filen är nu korrekt efter att en korsförsäljningsprodukt har tagits bort från administratören innan CSV-filen genereras om. Tidigare omberäknades inte korsförsäljningsproduktpositioner efter att en korsförsäljningsprodukt tagits bort och produktpositionsordningen var felaktig.

<!-- ACP2E-632-->

* Adobe Commerce söker nu efter en anpassad vy innan kolumner filtreras när rapporter exporteras. Tidigare tog inte exporterade rapporter hänsyn till anpassade vyer, och de exporterade kolumnerna var felaktiga.

<!-- ACP2E-502-->

* Adobe Commerce kan nu importera bilder med långa filnamn. Tidigare importerades inte bilden av Adobe Commerce och följande fel uppstod: `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s):`.

<!-- ACP2E-294-->

* Kategori-ID-attribut är nu tillgängliga i schemalagda exportfilter.

<!-- ACP2E-59-->

* Paketprodukter som innehåller ett frågetecken (?) i alternativtiteln kan nu importeras på grund av förbättringar i frågeverktyget i metoden `populateExistingOptions`. Alternativtiteln visas också korrekt. Tidigare, efter den inledande importen, ledde efterföljande import till ett skadat beteende och fördubblade alternativ. Shopparna kunde inte heller lägga produkten i varukorgen.

<!-- ACP2E-766-->

* Lagt till validering för kategorinamn under import. Tidigare validerades inte kategorinamn av Adobe Commerce, vilket leder till fel när kategorinamn överskrider 255 tecken.

<!-- AC-2096-->

* Befintliga poster i tabellen `catalog_url_rewrite_product_category` tas nu bort innan nya poster infogas. Tidigare inträffade följande fel vid import av produkter från flera butiker: `SQLSTATE[23000]: Integrity constraint violation`. [GitHub-34210](https://github.com/magento/magento2/issues/34210)

### Infrastruktur

<!-- ACP2E-2039-->

* Ett inaktuellt plugin-program för snabbmeny har tagits bort från plugin-listan.

<!-- ACP2E-2039-->

* TinyMCE-redigerarens verktygsfältsrelaterade logik i Page Builder-modulen har uppdaterats som ett resultat av introduktionen av `delayedRender`-logik för verktygsfältet i TinyMCE.

<!-- MC-42655-->

* Ansiktsvillkoren avbryter inte längre skapandet av händelseavlyssnaren `contentUpdated`. [GitHub-32068](https://github.com/magento/magento2/issues/32068)

<!-- AC-3044-->

* Funktionen `getTypeID` returnerar nu produkttyp-ID:t, inte produkt-ID:t. [GitHub-35458](https://github.com/magento/magento2/issues/35458)

<!-- AC-2911-->

* Gränssnittsreglaget för jQuery och mappningen av `SelectMenu` har korrigerats i `vendor/magento/module-theme/view/base/requirejs-config.js`.

* Observatörer som placerats på `sales_order_state_change_before` har nu stöd för hämtning av data från orderobjektet. Argumentet `sales_order_state_change_before` `event` har uppdaterats. [GitHub-26789](https://github.com/magento/magento2/issues/26789)

<!-- AC-2239-->

* `indexer:reset` har omarbetats för att anropa `$indexer->invalidate()`. [GitHub-34988](https://github.com/magento/magento2/issues/34988)

<!-- AC-2055-->

* Du kan nu använda kolonsymbolen i ett `htmlClass`-attributvärde, som har stöd för användning av ytterligare komponenter som gränssnittet för spaltblåsning. [GitHub-34430](https://github.com/magento/magento2/issues/34430)

### Loggning

<!-- ACP2E-203-->

* Kund-, kundadress- och orderåtgärder loggas nu korrekt i åtgärdsrapporten för administratör. Tidigare loggade inte Adobe Commerce åtgärder om hanteraren `postDispatch` inte hade angetts i konfigurationsinställningarna.

### MFTF

#### Åtgärdsgrupper

Upprepande åtgärder har ersatts med åtgärdsgrupper i dessa tester:

`AdminConfigurableProductChildrenOutOfStockTest` [GitHub-32378](https://github.com/magento/magento2/issues/32378)
`AdminCreateStoreViewTest` [GitHub-34631 ](https://github.com/magento/magento2/issues/34631)

#### Nya tester

`AdminUnlockAdminUserEntityTest` [GitHub-34836](https://github.com/magento/magento2/issues/34836)

`StorefrontNewsletterSubscriptionWithEnabledNeedToConfirmConfigTest` [GitHub-33344](https://github.com/magento/magento2/issues/33344)

#### Refrakterade tester

`AdminCancelTheCreatedOrderWithCashOnDeliveryPaymentMethodTest` [GitHub-33692](https://github.com/magento/magento2/issues/33692)

### Nyhetsbrev

<!-- ACP2E-35-->

* Inloggade kunder är inte längre markerade som gäster i Admin > **Marknadsföring** > **Prenumeranter på nyhetsbrev**.

<!-- AC-2102-->

* E-postmeddelandet med prenumerationsbekräftelsen för nyhetsbrevet har nu rätt, butiksspecifik e-postadress i fältet **Från** om kunden har tilldelats en butik som inte är standard och prenumererar eller avbeställer från administratören. Tidigare fick kunden ett e-postmeddelande med standardmeddelandet i huvudet **From**. [GitHub-34963](https://github.com/magento/magento2/issues/34963)

<!-- AC-2509-->

* Avbeställnings-URL:en i nyhetsbrevets e-postmall fungerar nu som förväntat. [GitHub-33310](https://github.com/magento/magento2/issues/33310)

### Beställning

<!-- ACP2E-550-->

* Du kan nu skapa en ny kund utifrån en ny order med anpassade kundattribut som är dolda från butiken. Tidigare sparade Adobe Commerce inte rätt värden för det anpassade kundattributet.

<!-- ACP2E-279-->

* Gästkundens information sparas nu när en beställning har redigerats. Tidigare gick viss kundinformation förlorad, inklusive `customer_firstname` och `customer_lastname, x_forwarded_for`.

<!-- ACP2E-92-->

* Handlare kan inte längre skapa en kreditnota med en total decimalkvantitet när **Decimalkvantitet** är inaktiverad på en produkt eller global inställningsnivå. Tidigare kunde handlarna skapa en kreditnota för total decimalkvantitet där den inte var tillämplig.

<!-- ACP2E-56-->

* Filtrera efter datum fungerar nu korrekt för fakturor, leveranser, kreditnotor, CMS-sidor och CMS blockrutnät när den tidszon som angetts i inställningarna skiljer sig från den tidszon som angetts på en lokal dator. Tidigare parsades datumet felaktigt och de filtrerade resultaten innehöll data utanför det angivna datumintervallet.

<!-- AC-1536-->

* Adobe Commerce ändrar inte längre anpassade e-postadresser som är tilldelade order när du ändrar kundens huvude-postadress på redigeringssidan för administratörskontot. Tidigare, när du redigerade huvudadressen för en kund, tilldelades den nya e-postadressen till alla order som skapades för den kunden. [GitHub-34397](https://github.com/magento/magento2/issues/34397)

<!-- AC-2664-->

* Adobe Commerce visar nu poster från den begärda butiken på kreditnotsrastersidan i distributioner som kör PHP 7.4. Tidigare inträffade följande fel i Adobe Commerce när du skapade en kreditnota och försökte visa den: `The store that was requested wasn't found. Verify the store and try again`.

<!-- AC-2442-->

* Adobe Commerce visar nu kreditnotor på kreditnotsrutnätssidan för order som skapats från butiksvyer vars namn är prepended with numbers. Tidigare visades felet: `The store that was requested wasn't found. Verify the store and try again. Exception in /var/www/html/vendor/magento/module-store/Model/StoreRepository.php:75`. [GitHub-35122](https://github.com/magento/magento2/issues/35122)

<!-- ACP2E-31-->

* Adobe Commerce visar nu kostnadsfri frakt (0) på sidorna Admin och Butiksfaktura. Tidigare, när leveransen var noll för en order, visade Adobe Commerce inte det totala fraktbeloppet på fakturasidans leveranssumma.

<!-- ACP2E-740-->

* Adobe Commerce visar nu korrekt orderstatus vid utcheckning när kundbutikskrediten används.

<!-- AC-1778-->

* Kolumnen `increment_id` i tabellen `sales_order` har ökats. Tidigare sparade tredjepartsmoduler som antog att `sales_order.increment_id` hade en längd på 50 tecken bara de första 32 tecknen i en `increment_id`. [GitHub-34521](https://github.com/magento/magento2/issues/34521)

### Betalningsmetoder

<!-- ACP2E-25-->

* Administratörer kan nu göra en beställning på administratören med betalningsmetoden PayPal PayflowPro. Tidigare visade Adobe Commerce följande fel: `No such entity with cartId = 0`.

<!-- AC-2093-->

* Betalningsgranskningssidan i utcheckningsarbetsflödet visar nu korrekt namn på betalningsmetod när betalning görs med Venmo, PayPal Senare eller PayPal.

<!-- AC-1195-->

* Frågan `cart` returnerar inte längre alla aktiva betalningsmetoder för kostnadsfria order. [GitHub-34036](https://github.com/magento/magento2/issues/34036)

#### Braintree

<!-- BUNDLE-3088-->

* Handlare kan nu lämna in en delåterbetalning för beställningar som gjorts med Apple Pay via Braintree. Detta var ett känt fel i Adobe Commerce 2.4.4.

#### PayPal

<!-- ACP2E-296-->

* Adobe Commerce visar nu rätt kundnamn i en gästbeställning som du betalat för med PayPal. Tidigare visades kundnamnet som Gäst.

<!-- AC-2606-->

* Matcharen för mutationen createPaypalExpressToken har uppdaterats för att korrekt använda det värde som anges i indatafältet use_paypal_credit. Tidigare försökte det använda ett ogiltigt `paypal_credit`-fält. [GitHub-35180](https://github.com/magento/magento2/issues/35180)

### Prestanda

<!-- ACP2E-474-->

* Prestandan för dynamisk blockinläsning har förbättrats. Tidigare cachelagrades inte besökarsegment per webbplats vilket ledde till redundanta frågor till databasen för samma data.

<!-- ACP2E-52-->

* Hanteringen av Redis-cachen har förbättrats genom att TTL (utgångsdatum) har lagts till för tillhörande produktcacheminnen för konfigurerbara produkter. Tidigare har dessa cacheminnen inte avlägsnats på grund av att TTL-värden saknas om Redis-nyckelns avhämtningspolicy har konfigurerats till en volatil avhämtningspolicy.

<!-- ACP2E-464-->

* Det nya attributet `Grid Filter Condition Type` för kund/kund-adress styr hur ett attributfilter matchas mot attributvärdena i databasen, alternativen omfattar `Partial Match`, `Prefix Match` och `Full Match`.

<!-- AC-1136-->

* Fulltextindexeraren för katalogsökning har flyttats utanför butiksloopen, vilket effektiviserar omindexering. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-2508-->

* Korrigerat problem med `array_merge` i loopar. [GitHub-33929](https://github.com/magento/magento2/issues/33929)

### Priser

<!-- ACP2E-445-->

* Prisattribut som inte har något värde i standardomfånget (men som definieras på butiksvynivå) indexeras nu korrekt. Tidigare tog de SQL-uttryck som hämtar prisattributvärden från EAV-tabellen inte hänsyn till scenariot där värdet inte definierades i standardomfånget.

<!-- ACP2E-313-->

* Priset som anges på produktinformationssidan är nu detsamma som priset som anges i arbetsflödet för utcheckning av nivåpriser som skiljer sig åt utifrån vald kvantitet (t.ex. en produkt som prissätts på olika sätt baserat på inköp av två artiklar jämfört med fem artiklar). Tidigare återspeglade utcheckningspriset priset för den lägsta produktkvantiteten.

### Erbjudanden

<!-- ACP2E-690-->

* Värdet **Antal använda gånger** för en rabatt ökas inte längre två gånger när en gästkund gör en beställning med rabatt och sedan registrerar ett konto.

### ReCAPTCHA

* Knappen **Skicka** på sidorna Inloggning och Skapa ett konto är nu inaktiv tills ReCaptcha har lästs in helt.

### Return Merchandise Authorizations (RMA)

<!-- MC-40432-->

* Slutpunkten `GET /V1/returnsAttributeMetadata` fungerar nu korrekt när ID:t för entitetens standardattributuppsättning skiljer sig från standard-ID:t för installation. `rma_item` Tidigare returnerade den här slutpunkten ett tomt resultat om dessa ID:n skiljer sig åt.

<!-- ACP2E-247-->

* Kryssrutan **Använd standard**, som används för att aktivera RMA på produktredigeringssidan, fungerar nu som förväntat för standardlagring. Tidigare raderades kryssrutan omedelbart efter att produkten sparats.

### Belöningar

<!-- ACP2E-433-->

* Belöningspoäng kan nu återbetalas när butikskreditfunktionen är inaktiverad.

<!-- ACP2E-757-->

* Utcheckningsprestanda har förbättrats när belöningspunkter används. När `entity` är null kommer databasfrågan inte att köras eftersom frågan till tabellen `magento_reward_history` inte är obligatorisk under omständigheterna.

<!-- ACP2E-674-->

* Kreditnotor för gästorder kontrollerar inte längre för `customer_id`, vilket innebär att frågor om databastabellen `magento_reward_history` för belöningspoäng inte längre besvaras. Den här förändringen har förbättrat prestandan.

### Roller

* På sidan **Butik** > **Konfiguration** > **Tjänster** visas nu Adobe Commerce Web API-information som förväntat när resursåtkomst är inställd på **Anpassad** på fliken Rollresurser. [GitHub-35506](https://github.com/magento/magento2/issues/35506)

### Sök {#search-heading}

<!-- ACP2E-645-->

* När du filtrerar produkter efter färgruta i lagernavigeringen visas rätt bild för produkterna efter korrigeringen.

<!-- ACP2E-615-->

* Elasticsearch-frågor fungerar nu som förväntat när `int` har konfigurerats som ett sökbart serverdelsattribut `type`. Tidigare utlöste Adobe Commerce ett `Elasticsearch\Common\Exceptions\BadRequest400Exception`-undantag.

<!-- ACP2E-99-->

* Nu kan du använda söksynonymer tillsammans med parametern **Minimala termer för att matcha** i Elasticsearch-frågor. Tidigare returnerades inga resultat om den här parametern angavs i inställningarna och söktermerna lades till för specifika nyckelord.

<!-- ACP2E-72-->

* Adobe Commerce visar nu ett korrekt antal sökresultatförslag i butiken i distributioner där sökförslag och inställningen **Visa resultatantal för varje förslag** är aktiverad. Tidigare var antalet som visades bredvid nyckelorden noll.

<!-- AC-700-->

* Produkter som sorterats efter anpassade attribut på katalogsidan visas nu i den förväntade ordningen. Tidigare sorterades produkterna efter deras attributalternativvärde-ID, som återspeglar i vilken ordning de lades till i attributet. [GitHub-33810](https://github.com/magento/magento2/issues/33810)

<!-- AC-645-->

* När du filtrerar produkter efter färgruta i navigeringen i lager visas nu rätt produktbilder. Tidigare innehöll navigeringsnyckeln `PageCache` i flera lager inga filterparametrar för konfigurerbara produkter.

<!-- AC-2051-->

* PHP-fel på `catalogsearch/advanced/result` och  `catalogsearch/advanced/index` sidor.  Tidigare visades det här felet i Adobe Commerce när en matris skickades i en avancerad söksträng: `Warning: trim() expects parameter 1 to be string, array given | magento/module-catalog-search`. [GitHub-33586](https://github.com/magento/magento2/issues/33586)

### Leverans

<!-- AC-2052-->

* Adobe Commerce genererar inte längre något fel vid inläsning av UPS-fraktsatser om inga tillåtna leveransmetoder har valts. Tidigare visades inga andra leveransmetoder när en kund angav en leveransadress i arbetsflödet för utcheckning under dessa förhållanden, och Adobe Commerce visade ett fel i butiken. [GitHub-34411](https://github.com/magento/magento2/issues/34411)

<!-- AC-2621-->

* Priser för virtuella produkter ingår nu inte i leveransbelopp för beräkningsregisterpris. Tidigare beräknades inte fraktkostnaderna för dessa produkter korrekt.[GitHub-35185](https://github.com/magento/magento2/issues/35185)

<!-- ACP2E-209-->

* Fraktsatser med nollpris visas nu korrekt i arbetsflödesarbetsflödets ordersammanfattning för order som har en rabattkupong. Tidigare visades inte leveransmetoden.

### Mellanlagring

<!-- ACP2E-404-->

* Adobe Commerce rensar inte längre helsidescachen efter att ha tillämpat en mellanlagringsuppdatering för en försäljningsregel där de cachelagrade sidorna förblir oförändrade.

<!-- ACP2E-304-->

* Kontrollpanelen för innehållstagning visar inte längre inaktiva permanenta uppdateringar.

<!-- ACP2E-257-->

* Om du ändrar slutdatumet för en mellanlagringsuppdatering från mellanlagringspanelen tillämpas nu dessa ändringar på mellanlagringsuppdateringen och dess enheter. (En kö har lagts till för att bearbeta ändringar av mellanlagringsuppdateringar.)

<!-- ACP2E-238-->

* Handlare kan nu ta bort ett slutdatum för en schemalagd uppdatering eller ta bort och återskapa en uppdatering. Tidigare, när ett slutdatum togs bort, var en enhet schemalagd för den tiden. Adobe Commerce tar nu bort den gamla uppdateringen för borttagen återställning.

<!-- ACP2E-149-->

* Aktiva schemauppdateringar för en CMS-sida visas nu som förväntat i avsnittet Schemalagda ändringar på CMS-sidan.

<!-- ACP2E-81-->

* Attributvärdet `custom_design_to` uppdateras nu som förväntat när en schemalagd uppdatering ändras. Tidigare behandlades två separata uppdateringar av kategoridesignen utan sluttid som en. När en av de schemalagda uppdateringarna togs bort medan den första kördes, blev tidsvärdet `custom_design_from` större än tidsvärdena `custom_design_to` i nästa schemalagda uppdatering.

<!-- ACP2E-58-->

* Forms fylls nu i med data som förväntat efter att en schemalagd uppdatering har redigerats.

<!-- ACP2E-18-->

* Datapatchen `vendor/magento/module-catalog-staging/Setup/Patch/Data/MigrateCatalogProducts.php` misslyckas inte längre när databasen innehåller en produkt med anpassade alternativ och attributet `special_from_date` har angetts.

<!-- ACP2E-741-->

* Ändringarna sparas nu under en andra schemalagd uppdatering när ändringarna läggs till av den aktuella uppdateringen. Tidigare sparades inte ändringarna och handlarna behövde ange och spara ändringarna igen.

<!-- ACP2E-21-->

* Loggen för gruppåtgärder visar nu information om de `to be moved` schemalagda uppdateringarna som misslyckades. Tidigare fanns endast information om dessa fel i filen `cron.log`.

<!-- ACP2E-420-->

* Handelsföretag är nu begränsade till att använda kommaavgränsade priser när de redigerar ett produktpris i en schemalagd uppdatering oavsett språkområde. Tidigare delades priserna som innehöll kommatecken i en schemalagd uppdatering med 1000 beroende på språkområde.

<!-- AC-3214-->

* Problem med DHL:s inrikes leverans i distributioner som kör PHP 8.1 har lösts genom krav på dutiable-taggar endast för internationella leveranser.

### Moms

<!-- ACP2E-735-->

* FPT (Fixed Product Tax) visas nu korrekt för produkter i kundvagnen. Tidigare, om flera produkter i kundvagnen hade **FPT (Fixed Product Tax)** och **Apply Tax To FPT** aktiverats, tilldelades alla FPT till den sista produkten i kundvagnen och återställdes för andra produkter.

<!-- ACP2E-350-->

* FPT-summan (Fixed Product Tax) för ordersammanfattningsavsnittet i utcheckningsarbetsflödet har nu beräknats korrekt.

<!-- ACP2E-291-->

* Adobe Commerce uppdaterar nu priset exklusive moms för en enkel produkt på produktsidan som förväntat efter att kvantiteten av den enkla produkten har ändrats.

<!-- ACP2E-182-->

* Validering har lagts till på butikens konfigurationssida för att verifiera om det valda landet i listrutan finns i listan över EU-länder. Knappen **Validera momsregistreringsnummer** visas nu bara för EU-länder. Tidigare var knappen synlig för alla länder, inklusive Storbritannien.

<!-- ACP2E-45-->

* Nivåpriset beräknas nu korrekt när **Visa produktpriser i katalog** är inställda på antingen **Utesluta skatt** eller **Inkludera och exkludera skatt**. Tidigare visade sidan med produktinformation nivåpriser med skatter trots inställningen.

<!-- AC-1925-->

* Skatter tillämpas nu korrekt för beställningar till alla giltiga adresser i butiker med den portugisiska språkversionen. [GitHub-34271](https://github.com/magento/magento2/issues/34271)

<!-- AC-1084-->

* `cart`-frågan innehåller inte längre moms när `subtotal_with_discount_excluding_tax` returneras. [GitHub-33905](https://github.com/magento/magento2/issues/33905)

<!-- ACP2E-651-->

* Webb-API-begäranden för orderdata (`GET /V1/orders/`) returnerar inte längre negativa värden för radsummor.

### Testa

<!-- AC-2004-->

* Fel med `Magento.GraphQl.CatalogGraphQl.ProductSearchTest.testSearchSuggestions` har korrigerats vid körning med AWS Elasticsearch-konfiguration.

<!-- AC-1113-->

* Integrationstestet `testCreateProductOnStoreLevel` orsakar inte längre en kapslad transaktion i databasen.

* Följande undantag inträffar inte längre när WebAPI-tester körs för funktionen Skicka vän när produktbilden inte har angetts för PHP 8.1: `exception main.ERROR: /var/www/html/lib/internal/Magento/Framework/DataObject.php:131 strpos(): Passing null to parameter #1 ($haystack) of type string is deprecated`. [GitHub-34864](https://github.com/magento/magento2/issues/34864)

### Översättningar och språkinställningar

<!-- ACP2E-537-->

* Nu kan du använda verktyget Översätt infogad för att redigera samma element mer än en gång. Tidigare ingick endast den första ändringen som gjordes med det här verktyget.

<!-- ACP2E-437-->

* Vyväljaren för butiken blockerar inte längre översättningsrutan när du redigerar text eller etiketter för administratörer. Du kan nu redigera de här funktionerna från översättningsrutan och i gränssnittet visas dessa ändringar när du klickar på **Skicka**.

<!-- ACP2E-362-->

* Administratörens datum- och tidsformat för portugisiska (Brasilien) och franska är nu giltigt.

<!-- ACP2E-785-->

* En grav accent [\`] har lagts till i namnvalideraren så att kundkontot kan skapas för för för- eller efternamn som innehåller den här accenten.

<!-- ACP2E-682-->

* Texten på knappen **Lägg till i kundvagnen** på sidan Produktinformation förblir nu översatt till det språk som har angetts i det associerade språket. Översättningsfiler konverteras nu till motsvarande JavaScript-filer baserat på områden, teman och språkområden när `translate_strategy=embedded`. Tidigare återgick texten till engelska efter att produkten hade lagts till i varukorgen.

<!-- ACP2E-752-->

* Söksynonymer uppfyller nu det tilldelade butiksomfånget. Tidigare gick det att söka efter en synonym som tilldelats en viss butik i vilken annan butik som helst.

<!-- AC-1178-->

* Problem med filipino-språket (Filippinerna) har åtgärdats. [GitHub-33996](https://github.com/magento/magento2/issues/33996)

### UI

<!-- ACP2E-557-->

* Långa produktnamn i rutnätet **Katalog** > **Produkter** ordomsluts nu i stället för att visas på en enda rad.

<!-- ACP2E-347-->

* Det minimala och maximala datumintervallet sparas nu som en korrekt tidsstämpel och konverteras sedan från en giltig tidsstämpel till ett giltigt datumformat.

<!-- ACP2E-280-->

* Om `magento.com` inte är tillgängligt orsakar det inte längre prestandaproblem vid administratörsinloggning. En tidsgräns har lagts till för begäran om att hämta ett frisläppningsmeddelande.

<!-- ACP2E-88-->

* Resultatet av Admin-beställningen, -kunden och produktrutnätsfiltren visas nu som förväntat när de visas i Chrome webbläsare.

<!-- AC-2750-->

* Du kan nu skapa en kund från administratören när `Magento_LoginAsCustomerAdminUi` är aktiverat och **butiksvyn till inloggningsinformation** är inställd på manuellt val. Tidigare inträffade följande fel i Adobe Commerce: `(Magento\Framework\Exception\LocalizedException): Unable to get Customer ID`. [GitHub-33096](https://github.com/magento/magento2/issues/33096)

<!-- AC-2076-->

* Nästa-pilen är nu inaktiverad som förväntat när en kund når den sista miniatyrbilden i produktbildgalleriet.

<!-- AC-2060-->

* Indatafältet **Sök efter nyckelord** har nu ett `aria-label`-element i stället för en platshållare på sidan **Katalog** > **Produkt**.

<!-- AC-3058-->

* Länken Sekretesspolicy i sidfoten för administratörer är nu länkad till den nya integritetspolicyn för Adobe.

<!-- AC-2880-->

* Administratörer har nu åtkomst till Admin-menyalternativen när JavaScript-paketering är aktiverat i produktionsläge.  [GitHub-35325](https://github.com/magento/magento2/issues/35325)

<!-- AC-2851-->

* Administratörer kan nu ange den aktuella användarens förfallodatum som är senare än 2038 och spara användaren. Tidigare kunde användaren vars förfallodatum ändrades inte logga in igen efter utloggning.

<!-- AC-751-->

* Adobe Commerce visar nu ett informativt felmeddelande när en administratör försöker spara en adress med för många gatulinjer i Admin **Store** > **Attribut** > **Kundadress**.  Administratören kan nu ta bort den extra adressinformationen och spara adressen. Tidigare implementerade Adobe Commerce de extra raderna men sparade inte data.

<!-- ACP2E-546-->

* Konfigurationen av produktlistvyn i databasen och den lokala lagringen har uppdaterats. Anpassade stödrastervyer sparas nu när sidan läses in igen och när du visar ändringar.

<!-- ACP2E-747-->

* Nu kan du växla mellan butiksvyer när webbplatsbegränsningar är aktiverade. Tidigare var det problem med butiksvyväljaren som gjorde att det inte gick att växla mellan butiksvyer.

<!-- AC-2042-->

* Överföringsformuläret för favoritikonen har nu stöd för `.ico` filtyper. Tidigare, när du försökte överföra en favoritikonfil med den här tilläggstypen i Admin, visade Adobe Commerce följande fel: `Warning: imagecreatefromstring(): one parameter to a memory allocation multiplication is negative or zero, failing operation gracefully in /var/www/html/vendor/magento/module-media-storage/Model/File/Validator/Image.php on line 64`. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

<!-- AC-3122-->

* Korrigerade visningsproblem med den nedrullningsbara Välj-menyn i Admin-stödrastret. [GitHub-35386](https://github.com/magento/magento2/issues/35386)


### URL-omskrivningar

<!-- AC-2535-->

* URL:er för en produkt i en viss butiksvy tas nu bort från tabellen `url_rewrite` och administratören efter att synlighetsstatusen för attributkoden för den specifika butiksvyn har ändrats till **Inte synlig enskilt**.  Tidigare togs alla URL:er bort för produkten i tabellen `url_rewrite`. [GitHub-34937](https://github.com/magento/magento2/issues/34937)

### Video

<!-- ACP2E-485-->

* Nu kan du använda YouTube URL-parametrar med Page Builder för att lägga till en ny video. Tidigare togs dessa parametrar automatiskt bort från URL:en.

<!-- AC-2251-->

* Du kan nu ange att en Vimeo-video ska köras i bakgrunden i ett `banner`-element när CSP är inställt på `restrict mode`. Tidigare inträffade ett JavaScript-fel i Adobe Commerce.

### Webb-API-ramverk

<!-- ACP2E-694-->

* Mutex har implementerats för order för att förhindra konkurrensförhållanden under uppdatering på grund av samtidiga förfrågningar. Tidigare resulterade tävlingsvillkoren under samtidiga REST API-anrop i en överskrivning av leveransstatusinformation i tabellen Beställda administratörsobjekt.

<!-- ACP2E-677-->

* Arv av produktavbildningsroller bevaras nu, såvida de inte uttryckligen definieras i nyttolasten när en produkt uppdateras i en viss butiksvy via REST API.

<!-- AC-2231-->

* Swagger-schemat (`/rest/schema`) använder nu unika åtgärds-ID:n.

<!-- AC-2845-->

* De kundprisregler som skapas via slutpunkten `POST /V1/salesRules/` behåller nu befintliga kupongkodsvärden efter att statusen har ändrats från inaktiverad till aktiverad. [GitHub-35298](https://github.com/magento/magento2/issues/35298)

<!-- AC-2764-->

* Kundprisregler som skapats via slutpunkten `POST /V1/salesRules/` innehåller nu giltiga värden för `from_date` och `to_date`. [GitHub-35265](https://github.com/magento/magento2/issues/35265)

<!-- AC-2522-->

* `CartItemInterface` innehåller nu `customizable_options`. [GitHub-31180](https://github.com/magento/magento2/issues/31180)

<!-- AC-2898-->

* REST API-satsvisa PUT och DELETE fungerar nu som väntat när modulen `Magento_ReCaptchaWebapiRest` är aktiverad. [GitHub-35348](https://github.com/magento/magento2/issues/35348)

<!-- AC-763-->

* API:t för massåterställning fungerar nu med alternativet `bySku` för konfigurerbara produkter. Tidigare returnerade den ett 500-fel.

<!-- AC-1169-->

* Slutpunkten `/V1/products/base-prices` fungerar nu som förväntat med **Katalogprisläge - webbplats**. [GitHub-30132](https://github.com/magento/magento2/issues/30132)

<!-- AC-441-->

* Det går nu som förväntat att skapa ett nytt särskilt prisschema med slutpunkten `POST /V1/products/special-price`. Tidigare returnerade slutpunkten följande fel: `Future Update already exists in this time range. Set a different range and try again`.

### Önskningslista

<!-- ACP2E-459-->

* När du uppdaterar en artikelkvantitet från önskelistsidan uppdateras nu kvantiteten på produktinformationssidan som förväntat. Adobe Commerce hämtar nu det uppdaterade värdet från produkt-URL:en och fyller i `qty`-fältets produktinformationssida från önskelistan.

## Kända fel

**Utgåva**: Etiketter för mellanlagrade försäljningsregler kan inte matchas efter en uppgradering till Adobe Commerce 2.4.6 eller senare från versioner före 2.4.5. **Tillfällig lösning**: Använd ACSD-50625_2.4.5-P1.patch under uppgraderingen före steget Uppdatera metadata. Se artikeln [salesRules label issues when upgrade from versions &lt; 2.4.5](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/salesrule-label-issues-when-upgrade-from-versions-under-2.4.5.html?lang=sv-SE) Knowledge Base.

Allmänna åtgärder för att lösa problemet:

1. Ladda ned patchen. Se artikeln [salesRules-etiketter när du uppgraderar från version &lt; 2.4.5](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/salesrule-label-issues-when-upgrade-from-versions-under-2.4.5.html?lang=sv-SE) i kunskapsbasen.
2. Följ uppgraderingsstegen som beskrivs i hanteringsfasen för paket i uppgraderingsprocessen [Utför en uppgradering](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html?lang=sv-SE).
3. Använd den här korrigeringen under uppgraderingen efter pakethanteringsfasen och före metadatafasen för uppdatering.Se [Använda en kompositkorrigering från Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html?lang=sv-SE) .
4. Slutför uppgraderingsprocessen.

**Utgåva**: Administratörsanvändare kan inte skapa en beställning eller ombeställa för kunder från administratören när Braintree är aktiverat. När administratören klickar på antingen **Beställning** eller **Ändra ordning** skickar inte Adobe Commerce ordern och `system.log` visar följande fel: `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.  **Tillfällig lösning**: `BUNDLE-3137-composer.patch` är nu tillgänglig. Läs artikeln [Admin kan inte skapa order/ändra ordning när Braintree-betalning har aktiverats](https://support.magento.com/hc/en-us/articles/8322266352525) i kunskapsbasen om du vill veta mer om problemet och få tillgång till korrigeringen. Molnhandlare bör hämta molnkorrigeringar för Commerce v1.0.18. En fix kommer också att ingå i Adobe Commerce 2.4.5-p1. <!-- AC-6222-->

**Problem**: [!DNL RabbitMQ] Infrastrukturelement (utbyten, köer) kanske inte initieras efter en ny installation (inte uppgradering) av Adobe Commerce 2.4.5. Den felaktiga konfigurationen av [!DNL RabbitMQ] kan resultera i ett allvarligt fel när asynkrona åtgärder körs eller när en prestandaprofil genereras. Molndistributioner påverkas inte. **Tillfällig lösning**: Handlare som utför en ny installation av Adobe Commerce 2.4.5 lokalt ska köra `bin/magento setup:upgrade --keep-generated` efter att ha använt `bin/magento setup:config:set` för att konfigurera [!DNL RabbitMQ] eller installera Adobe Commerce genom att skicka [!DNL RabbitMQ] konfigurationsalternativ till kommandot `setup:install`. Se [[!DNL RabbitMQ]](../../../installation/prerequisites/rabbitmq.md).

## Bidrag från gemenskapen

Vi är tacksamma mot den bredare Magento Open Source-communityn och vill tacka för deras bidrag till denna release.

Community Engineering-teamet [Magento Contributors](https://magento.biterg.io/app/kibana) har en lista över de mest bidragsgivande personerna och partnerna per månad, kvartal och år. På den Contributors-sidan kan du följa länkar till deras sammanslagna PR på GitHub.

### Partnerbidrag

I följande tabell visas partnerernas bidrag. I den här tabellen visas den partner som har bidragit med pull-begäran, det externa pull-begärandenumret och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-5-partner.md}}

### Individuella bidrag

Följande tabell visar bidragen från våra communitymedlemmar. I den här tabellen visas den community-medlem som har bidragit med pull-begäran, det externa pull-begärandenumret och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-5-issues.md}}

## Systemkrav

Vår teknikstack bygger på PHP och MySQL. Mer information finns i [Systemkrav](../../../installation/system-requirements.md).

## Installations- och uppgraderingsanvisningar

Du kan installera Adobe Commerce 2.4.5 med [Composer](../../../installation/composer.md).
