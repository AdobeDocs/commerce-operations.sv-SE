---
title: Versionsinformation om Adobe Commerce 2.4.3
description: Läs om nya funktioner, förbättringar, felkorrigeringar och kända fel i Adobe Commerce version 2.4.3.
exl-id: 34b1248f-a44e-489b-94ae-945d31abecea
source-git-commit: 16feb8ec7ecc88a6ef03a769d45b1a3a2fe88d97
workflow-type: tm+mt
source-wordcount: '15110'
ht-degree: 0%

---

# Versionsinformation om Adobe Commerce 2.4.3

Adobe Commerce 2.4.3 innehåller förbättringar av prestanda och säkerhet samt betydande plattformsförbättringar. Säkerhetsförbättringarna omfattar bland annat utvidgning av reCAPTCHA-täckning och inkludering av inbyggd hastighetsbegränsning. Beroenden för Core Composer och tredjepartsbibliotek har uppgraderats till de senaste versionerna som är kompatibla med PHP 8.x.

Den här versionen innehåller över 370 nya korrigeringar av kärnkod och 33 säkerhetsförbättringar. Alla kända fel som identifierats i versionsinformationen för Adobe Commerce 2.4.2 har åtgärdats i den här versionen.

{{bics}}

Se [Versionsinformation för Adobe Commerce 2.4.2-p2](../security/2-4-2-patches.md) för mer information om Adobe Commerce 2.4.2-p2.

## Annan versionsinformation

Även om koden för de här funktionerna paketeras med kvartalsvisa utgåvor, kommer flera av dessa projekt (till exempel B2B, Page Builder och Progressive Web Applications (PWA) Studio) också att släppas oberoende av varandra. Felkorrigeringar för dessa projekt beskrivs i den separata, projektspecifika versionsinformation som finns i dokumentationen för varje projekt.

## Använd MC-43048__set_rate_limits_2.4.3.patch för att åtgärda problem med API-hastighetsbegränsning

Den här snabbkorrigeringen ger en lösning på problemet där webb-API:er inte kan behandla begäranden som innehåller mer än 20 objekt i en array. Detta berör distributioner som kör Magento Open Source 2.4.3, Adobe Commerce 2.4.3 eller 2.3.7-p1. Den inbyggda hastighetsbegränsningen lades till i de här versionerna för att förhindra DoS-attacker (Denial of Service) och standardmaxvärdet angavs till 20. Den här korrigeringen återställer standardgränsen till ett högre värde. Om du misstänker att butik drabbas av en DoS-attack rekommenderar Adobe att standardinmatningsgränserna sänks till ett lägre värde för att begränsa antalet resurser som kan begäras. Se [Webb-API:t kan inte bearbeta begäranden med fler än 20 objekt i en ](https://support.magento.com/hc/en-us/articles/4406893342093) kunskapsbasartikel.

## Använd AC-384__Fix_Incompatible_PHP_Method__2.4.3_ce.patch för att åtgärda allvarliga PHP-fel vid uppgradering

Följande allvarliga fel kan uppstå vid uppgradering till Adobe Commerce 2.4.3:

```
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

Det här felet beror på att funktionen `str_contains`, som är en PHP 8.x-funktion, används. Adobe Commerce 2.4.3 stöder inte PHP 8.x. Den här snabbkorrigeringen ersätter den här funktionen med en PHP 7.x-funktion som stöds. Läs artikeln [Adobe Commerce upgrade 2.4.3, 2.3.7-p1 PHP Fatal error Hotfix](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) i kunskapsbasen.

## Använd `AC-3022.patch` om du vill fortsätta erbjuda DHL som fraktfirma

DHL har introducerat schemaversion 6.2 och kommer inom kort att föråldra schemaversion 6.0. Adobe Commerce 2.4.4 och tidigare versioner som stöder DHL-integration stöder endast version 6.0. Merchants som distribuerar dessa releaser ska tillämpa `AC-3022.patch` så snart som möjligt för att fortsätta erbjuda DHL som fraktfirma. Information om hur du hämtar och installerar korrigeringsfilen finns i [Använd en korrigeringsfil för att fortsätta erbjuda DHL som fraktfirma](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier).

## Högdagrar

Leta efter följande högdagrar i den här versionen.

### Betydande säkerhetsförbättringar

Den här versionen innehåller 33 säkerhetskorrigeringar och plattformssäkerhetsförbättringar. Många av dessa säkerhetskorrigeringar har säkerhetskopierats till 2.4.2-p2 och 2.3.7-p1.

#### 33 säkerhetsförbättringar som kan åtgärda säkerhetsluckor som gör det möjligt att köra fjärrkod (RCE) och utföra korsskriptning mellan webbplatser (XSS)

Inga bekräftade attacker relaterade till dessa problem har inträffat hittills. Vissa säkerhetsluckor kan dock utnyttjas för att få tillgång till kundinformation eller ta över administratörssessioner. De flesta av dessa problem kräver att en angripare först får åtkomst till administratören. Därför påminner vi dig om att vidta alla nödvändiga åtgärder för att skydda din administratör, inklusive men inte begränsat till dessa åtgärder: IP-tillåtelselistning, [tvåfaktorsautentisering](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), användning av ett VPN, användning av en unik plats i stället för `/admin` och god lösenordshygien. Se [Adobe säkerhetsbulletin](https://helpx.adobe.com/security/products/magento/apsb21-64.html) för en diskussion om dessa åtgärdade problem.

#### Ytterligare säkerhetsförbättringar

Säkerhetsförbättringar för den här versionen förbättrar efterlevnaden av de senaste bästa säkerhetsrutinerna, inklusive:

* Ett **nytt Composer-plugin** hjälper till att förhindra beroendeförväxling och identifierar skadliga paket med samma namn som interna paket i databasen med offentliga paket. Se blogginlägget [Adobe Releases New Composer Plugin with 2.4.3 Release](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) .

* **Hastighetsbegränsningen är nu inbyggd i API:er** för att förhindra DoS-attacker (Denial-of-Service). Webb-API:er har nu begränsningar för storlek eller antal resurser (standardvärdet är 20 och kan konfigureras till ett annat värde baserat på affärsbehov) som kan begäras av en klient. Mer information om hur du konfigurerar dessa begränsningar finns i [Hastighetsbegränsning](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- MC-35358-->

* **ReCAPTCHA-täckning har utökats** till att omfatta:

   * Webb-API:er med motsvarande HTML-sidor täcks av ReCAPTCHA. (Detta utesluter webb-API:er som är tillgängliga för integreringar.) ReCAPTCHA-täckning skyddar slutpunkter från skräppostattacker. När webb-API:er används av en integreringstjänst från tredje part som använder OAuth, inaktiveras ReCAPTCHA.<!-- MC-34472-->

   * Startsidan för platsbeställning och betalningsrelaterade webb-API:er. ReCAPTCHA-skydd för dessa sidor är inaktiverat som standard och kan aktiveras från administratören. Den här täckningen lägger till en antibrun kraftmekanism som skyddar butikerna från att koda attacker.

{{cve-notice}}

### Förbättrade infrastrukturer

Den här versionen innehåller förbättringar som förbättrar ramverkets kvalitet och följande funktionsområden:

* Kundkonto

* Katalog

* CMS

* OMS

* Importera/exportera

* Kampanjer och målinriktning

* Kundvagn och kassan

* B2B

* Mellanlagring och förhandsvisning

**PayPal Pay Later stöds nu** i distributioner som inkluderar PayPal. Med den här funktionen kan kunderna betala för en beställning varannan vecka i stället för att betala hela beloppet vid köptillfället. <!-- MC-40556-->

**Nytt `use_application_lock` indexeringsläge**. I `use_application_lock`-läget kan du aktivera omindexering antingen med hjälp av miljövariabler eller genom att konfigurera filen `app/etc/env.php`. Du behöver inte längre återställa indexeraren manuellt efter ett fel med det här läget aktiverat. Se [Använda programlåsläge för omindexeringsprocesser](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Förbättringar av plattformen

Version 2.4.3 är ännu inte kompatibel med PHP 8.x, men med följande plattformsuppgraderingar kommer vi närmare kompatibilitet med PHP 8.x.

* Core Composer-beroenden och tredjepartsbibliotek har uppgraderats till de senaste versionerna som är kompatibla med PHP 8.x. <!-- MC-39514-->

* LibraryJS-biblioteket har uppgraderats till v3.5.1 (den senaste versionen). <!-- MC-40694-->

* Det inaktuella TinyMCE v3-biblioteket har tagits bort. Modulen `Magento_Tinymce3Banner` och MFTF-testerna för TinyMCE v3.x har tagits bort från Adobe Commerce. <!-- MC-42199 42170 -->

* Version 2.4.3 har testats och bekräftats vara kompatibel med Redis 6.0.12. (version 2.4.x är fortfarande kompatibel med Redis 5.x)

* Laminas-biblioteksberoenden har uppgraderats till PHP 8.x-kompatibla versioner. Vissa redundanta beroenden har tagits bort från filen `composer.json`. **Adobe Commerce 2.4.3 använder Laminas 3.4.0**. <!-- MC-39513-->

### Prestandaförbättringar

Den här versionen innehåller förbättringar som minskar indexeringstiden för indexerare för produktpriser och katalogregler. Handlare kan nu utesluta en webbplats från en kundgrupp eller delad katalog, vilket minskar antalet poster för indexering och förbättrar indexeringstiden.

### Live Search

[Live Search](https://experienceleague.adobe.com/en/docs/commerce/live-search/overview) från [Adobe Sensei](https://www.adobe.com/sensei.html) ger en intuitiv sökupplevelse genom att använda artificiell intelligens och maskininlärningsalgoritmer för att utföra en djupgående analys av samlade besöksdata. Se [Versionsinformation för Live Search](https://experienceleague.adobe.com/docs/commerce/live-search/release-notes.html).

### GraphQL

I den här versionen har GraphQL stöd för följande funktioner lagts till:

* **Delade kataloger**<!-- PWA-1294-->

* **Önsklistorna**. [mutationen addWishlistItemsToCart](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/add-items-to-cart/) flyttar objekt från den angivna önskelistan till kundens kundvagn. <!-- magento/partners-magento2ee#449-->

* **Presentregister**. De uppgifter som omfattas är: <!-- PWA-1290-->

   * Använd [presentRegistry-frågan](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/gift-registry/) för att returnera innehållet i kundens presentregister.

   * Sök efter presentregister efter [typ](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/type-search/), [e-post](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/email-search/) eller [ID](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/id-search/).

   * [Skapa](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/create/), [uppdatera](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/update/) eller [ta bort](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/remove/) presentregister.

   * [Uppdatera](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/update-items/) eller [ta bort](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/remove-items/) objekt från ett presentregister.

   * [Flytta alla artiklar](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/move-cart-items/) från vagnen till presentregistret. <!-- ENGCOM-9082 9087-->

   * [Lägg till](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/add-registrants/), [uppdatera](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/update-registrants/) eller [ta bort](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/remove-registrants/) registranter från ett presentregister.

   * [Dela](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/share/) ett presentregister med inbjudna.

* **Förhandlingsbara citattecken**. Se [`negotiableQuote`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/queries/quote/)- och [`negotiableQuotes`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/queries/quotes/)-frågorna. <!-- PWA-1292-->

  Nya mutationer:

   * [`requestNegotiableQuote`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/request/)

   * [`setNegotiableQuoteShippingAddresses`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/set-shipping-address/)

   * [`updateNegotiableQuoteQuantities`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/update-quantities/)

   * [`removeNegotiableQuoteItems`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/remove-items/)

   * [`closeNegotiableQuotes`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/close/)

   * [`deleteNegotiableQuotes`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/delete/).

* **Delade vägar**. [routningsfrågan](https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/route/) och [RoutableInterface](https://developer.adobe.com/commerce/webapi/graphql/schema/products/interfaces/routable/) har stöd för routningsbegäranden på produkt-, kategori- och CMS-sidor. Frågan `urlResolver` har tagits bort och dess funktioner har ersatts av frågan `route`.

Mer information om dessa förbättringar finns i [GraphQL Developer Guide](https://developer.adobe.com/commerce/webapi/graphql/).

### B2B

Version 2.4.3 innehåller B2B v1.3.2. Den här versionen innehåller flera felkorrigeringar. Se [Versionsinformation för B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### Page Builder

Page Builder finns nu som paketerat tillägg i Magento Open Source. Det är nu standardverktyget för innehållsredigering i Adobe Commerce 2.4.3 och Magento Open Source 2.4.3. Den kan ersätta WYSIWG-redigeraren med en tredjepartsmodul.

Page Builder ersätter TinyMCE-redigeraren i följande administrationsområden:

* CMS Page
* CMS Block
* Kategoribeskrivning
* Produktbeskrivning

Allt innehåll som skapats i TinyMCE har migrerats till Page Builder som HTML.

### PWA Studio

Mer information om förbättringar och felkorrigeringar finns i [PWA Studio-utgåvor](https://github.com/magento/pwa-studio/releases). Se [kompatibilitet](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) för en lista över PWA Studio-versioner och deras kompatibla versioner.

### Kompatibilitetsverktyg för uppgradering

Omfånget för [uppgraderingskompatibilitetsverktyget](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html) har utökats baserat på feedback från communityn. Gå med i vår [#upgrade-compatibility-tool](https://magentocommeng.slack.com/archives/C019Y143U9F) Slack-kanal för att få support från Adobe produktteam och communityn, samt för att få hjälp med den framtida inriktningen på verktyget.

### Uppdateringar om hanterade tjänster i molnet

Den här versionen innehåller förbättringar av stödet för molntjänsterna Amazon Simple Storage Service (AWS S3) och Amazon Aurora. Det har certifierat stöd för AWS ElastiCache, AWS Elasticsearch och AWS Managed Queues (Rabbit MQ). (Vi har testat funktionaliteten, prestandan och integreringen av dessa tjänster med Adobe Commerce.)

### Adobe Stock Integration

Den här versionen innehåller Adobe Stock Integration v2.1.1.

### Tillägg som utvecklats av leverantör

I följande avsnitt finns information om uppdateringar av funktioner och ändringar för den här versionen:

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html). Amazon Pay har tagits bort och tas bort i en senare version av 2.4.x. Version 2.4.3 och senare kommer endast att innehålla uppdateringar för kompatibilitet och korrigeringar för större fel.

* [Braintree](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree)

* [dotdigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [Klarna](https://marketplace.magento.com/klarna-m2-klarna.html)

* [Vertex Cloud](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Produktrecensioner för Yotpo](../../../upgrade/modules/upgrade.md)

## Åtgärdade problem

Vi har åtgärdat hundratals problem i kärnkoden för 2.4.3.

### Installation, uppgradering, driftsättning

<!-- MC-41154-->

* Kommandot `bin/magento setup:db:status` returnerar nu ett meddelande som anger att allt är uppdaterat efter en lyckad uppgradering. Tidigare visade programmet följande fel: `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* Konfigurationsvärden bevaras nu vid omladdning av formulär när det inte går att skapa en ny konfigurerbar produkt. Tidigare gick värden förlorade när formuläret lästes in på nytt och följande fel visades i programmet: `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* Programmet genererar inte längre ett undantag när du kör `bin/magento setup:upgrade` för att uppgradera från en Magento Open Source-distribution med Redis till Adobe Commerce.

<!-- MC-34453-->

* Kundprisregler som skapats tidigare visas nu på kontrollpanelen för Content Staging när en distribution har uppgraderats från Magento Open Source till Adobe Commerce.

<!-- ENGCOM-8508 -->

* Distributioner som körs på Galera Cluster har nu stöd för fler kunder. [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* Administratörer kan nu logga in på en distribution när programmet har installerats med alternativet `—use-rewrites=0` eller med `web/seo/use_rewrites` inställt på 0 i `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* `sortOrder`-inläsningen för `AsyncCssPlugin` har uppdaterats. Programmet läser nu in `AsyncCssPlugin` före `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` kontrollerar nu visningssökvägen för att avgöra om ett element finns, och om det har en konfigurationssökväg används sökvägen `config.xml` i stället för att valideras. [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* Om du kompilerar färre filer med Grunde eller med kompilering på serversidan får du nu samma resultat. Tidigare. `.abs- styles`, som utökar andra `.abs- styles` i `_extends.less`, kunde inte skrivas ut korrekt vid kompilering med Grunt. Detta resulterade i skillnader mellan produktions- och utvecklingsdistributioner. [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### AdminGWS

<!-- MC-40703-->

* Admin GWS använder nu `int`-värden för SQL-villkoret `website_id` i Admin-samlingar för administratörer med anpassade behörigheter.

### Adobe Stock Integration

<!-- MC-39754-->

* Programmet visar nu ett informativt meddelande och en länk till sidan Admin **Lagrar** > **Konfiguration** > **Avancerat** > **System** på sidan Sök efter Adobe Stock när **API-nyckel (klient-ID)** och **Klienthemlighet** inte har angetts. Tidigare visades följande fel i programmet: `We couldn't find any records` och ingen länk.

### Backend

<!-- MC-40389-->

* Administratörer med begränsad åtkomst (till exempel som endast tilldelats åtkomst till en webbplats) kan inte längre redigera kategorier som angetts som global omfattning.

<!-- MC-39037-->

* Den genererade systemrapporten (**System** > **Support** > **Systemrapport**) återges nu korrekt. Tidigare var rapportinnehållet feljusterat.

<!-- MC-30152 ENGCOM-8625-->

* Programmet stänger nu av valideringen i fältet **Price** som förväntat när inställningen **Dynamic price** aktiveras när paketprodukter skapas. Tidigare uppstod ett valideringsfel i programmet när du tog bort ett värde från fältet **Price** när inställningen **Dynamic price** aktiverades. [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* Oändliga omdirigeringar inträffar inte längre när Admin URL skiljer sig från standardwebbplatsens URL i distributioner där programmet är konfigurerat att vara tillgängligt från två URL:er.

### Paketprodukter

<!-- MC-41810-->

* Du kan nu använda mutationen `addProductsToCart` för att lägga till en paketprodukt med mer än ett kryssrutealternativ i en kundvagn.

<!-- MC-41614-->

* Prisindexering av paketprodukter utförs nu med temporära tabeller, vilket gör att databastabeller inte kan låsas. Tidigare användes fysiska tabeller i programmet, vilket resulterade i låsta tabeller.

<!-- MC-41177 magento/magento2#32594-->

* Priset för ett paketobjekt kan nu anges till 0,00. Tidigare returnerades priset till standardvärdet när du återgick till redigeringssidan efter att ha angett priset till 0,00. [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* Beställningsinformation för order som innehåller paketprodukter visar nu korrekt pris för paketprodukterna om priset ändrades innan ordern lades.

<!-- MC-40035-->

* Bundle-produktlagerstatus uppdateras nu baserat på lagerstatusen för dess underordnade produkter. Tidigare visades paketprodukter som lager när ett alternativ togs bort från produkten och paketprodukten hade två alternativ med samma SKU.

<!-- MC-39276-->

* En administratör kan nu ändra värdet för en paketprodukts `Shipment Type`-attribut efter att den har flyttats till en annan attributgrupp. Tidigare sparades det här attributet alltid med ett `Together`-värde om det flyttades till en annan attributgrupp än standardgruppen i attributuppsättningen.

<!-- MC-38900-->

* GraphQL `setGuestEmailOnCart`-mutationen uppdaterar nu gästmeddelandet korrekt. Tabellerna för offert- och offertadresser uppdaterades inte tidigare.

<!-- MC-37719-->

* När du lägger till, tar bort eller uppdaterar en underordnad produkt till en paketprodukt via REST API-anrop utlöses nu omindexering som förväntat. Tidigare utlöste dessa åtgärder inte omindexering och därför ändrades inte paketproduktens lagerstatus förrän manuell omindexering utfördes.

<!-- MC-35725 ENGCOM-8568-->

* Programmet visar nu korrekt prisintervall för paketprodukter med nivåpriser. [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* Programmet visar nu samma totalpris som väntat på kundvagnssidan och i leveranssteget i arbetsflödet efter att priset på ett paketalternativ har ändrats.

<!-- MC-32617-->

* Du kan nu konfigurera en paketprodukt genom att gå till den från en kundvagn. Tidigare lästes sidan Konfigurera produkt aldrig in helt och du kunde inte spara inställningarna.

<!-- MC-30317 ENGCOM-7141-->

* Merchants kan nu tilldela ett unikt pris för en paketprodukt i varje butiksvy för en multibutiksdistribution. Webbplatsspecifika priser sparas i tabellen `catalog_product_bundle_selection_price`. Tidigare baserades inte en produkts pris på webbplatsomfång i programmet, även när **Lagrar** > **Konfiguration** > **Katalog** > **Katalog** > **Pris** > **Katalogprisomfång** hade angetts till `Website`. Inga webbplatsspecifika priser sparades i `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* Fakturor för paketprodukter visar nu korrekt kvantitet för associerade enkla produkter när **Dynamisk prissättning** är inaktiverat. Tidigare hade enkla produkter som var kopplade till paketprodukten samma kvantitet som huvudprodukten, inte paketprodukten). [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* mutationen `updateProductsInWishlist` uppdaterar nu objekt som tillhör en paketprodukt i önskelistan. I stället för att uppdatera önskelisteobjektet tog denna mutation bort objektet och skapade en ny som ändrade objekt-ID.

<!-- MC-38575-->

* Du kan nu ange attributen `required_options` och `has_options` bundle som förväntat när du skapar eller uppdaterar en paketprodukt med slutpunkten `POST /V1/product/:sku`. Tidigare var dessa anpassade attribut inställda på 0 (noll) trots försök att ställa in det på 1 (ett).

<!-- MC-38483-->

* Paketet med produktdata som tidigare saknades ingår nu i mellanlagringsprocessen. Detta åtgärdar inkonsekvenser i produktbeteendet när kunderna köpte en paketprodukt från produktlistsidan istället för att lägga till den direkt från en produktsida.

### Cache

<!-- ENGCOM-8554-->

* Filen `varnish6.vcl` har uppdaterats för att kringgå cachelagring av kundsidan.

### CAPTCHA

<!-- MC-41572-->

* CAPTCHA validerar nu data från en kund korrekt, och CAPTCHA-fält visas nu som väntat efter att en kund har misslyckats med flera försök att checka ut med PayPal Payflow Pro.

<!-- MC-41281-->

* CAPTCHA-validering misslyckas inte längre slumpmässigt på betalningssidan i arbetsflödet för utcheckning.

<!-- MC-41001-->

* Programmet visar nu CAPTCHA-fält som förväntat efter att du har överskridit antalet misslyckade slutförandeförsök. Tidigare visade inte programmet CAPTCHA-fälten, trots att du uppmanades att försöka köra CAPTCHA-utmaningen igen.

<!-- MC-40359-->

* CAPTCHA fungerar nu som väntat på utcheckningssidan. När en kund hade svarat korrekt på en CAPTCHA-utmaning slutfördes aldrig inläsaren på utcheckningssidan och programmet visade följande fel: `captchaData[formId] is undefined`. (Det här felet uppstod bara när användaren använde samma webbläsare som användaren tidigare hade använt en distribution med version 2.3.5-p1 från.)

<!-- ENGCOM-8630-->

* `_.isEmpty()` checkar in filen `defaultCaptcha.js` har slutförts. Tidigare slutfördes inte dessa kontroller och därför gick det inte att läsa in utcheckningssidan efter uppgraderingen. [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### Kundvagn och kassan

<!-- MC-41911-->

* Programmet tar nu hänsyn till språkområdesspecifika decimallokaliserare när produktkvantiteten konverteras och uppdateras i kundvagnen.

<!-- MC-41574-->

* Beställningar utelämnar inte längre ett angivet kundnamn med en leveransadress. Tidigare har namn utelämnats eftersom flaggan `same_as_billing` inte sparades i databasen.

<!-- MC-40946-->

* Länkar till presentregister finns nu kvar som förväntat när du redigerar en produkt i kundvagnen. Tidigare försvann länkarna när du klickade på knappen **Uppdatera kundvagn**.

<!-- MC-40696-->

* Alla kömeddelanden för konsumenten `quoteItemCleaner` ändrar nu status till `complete` som förväntat efter att flera produkter har tagits bort. Tidigare har bara ett meddelande för den här konsumenten ändrat sin status till `complete` och resten ändrat status till `in progress`.

<!-- MC-40657-->

* Programmet visar nu valideringsmeddelandet Terms and Conditions i det relevanta blocket endast när en kund klickar på knappen **Placera order** . Tidigare visades det här meddelandet i blocket Använd rabattkod när en kund ändrade betalningsmetod i utcheckningsarbetsflödet: `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-40271 magento/partners-magento2ee#476-->

* Du omdirigeras nu till utcheckningssidan som förväntat efter att du lagt till en paketprodukt i kundvagnen från en förhandsgranskning av Schemauppdatering och klickat på kundvagnen. [GitHub-447](https://github.com/magento/partners-magento2ee/issues/447)

<!-- MC-39581-->

* Programmet ignorerar nu ändringar i faktureringsadressformuläret i betalningssteget för utcheckning om kunden inte klickar på knappen **Uppdatera** och återgår till leveranssteget.

<!-- MC-39517  magento/partners-magento2ee#460-->

* Programmet visar nu ett informativt felmeddelande och uppdaterar inte produktkvantiteten när en kund lägger till en ogiltig produktkvantitet och klickar på knappen **Uppdatera artiklar och kvantiteter** på sidan Hantera kundvagn. Tidigare uppgraderades produktkvantiteten i programmet och inget felmeddelande visades. [GitHub-459](https://github.com/magento/partners-magento2ee/issues/459)

<!-- MC-37807 ENGCOM-8530-->

* Produkter med det anpassningsbara alternativet `(File)` innehåller nu aktiva länkar som förväntat under utcheckningsprocessen för flera leveranser. Tidigare saknades den här länken. [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* I kundvagnen för administratörer visas nu produktpriser i rätt valutor för butiker som stöder flera valutor. Tidigare konverterades priserna till den angivna valutan mer än en gång - först när produkterna lades till i varukorgen från butiken och sedan igen när ordern senare gjordes i Admin.

<!-- MC-36703  magento/partners-magento2ee#439-->

* Programmet tömmer shoppingvagnen som väntat när en administratör har slutfört en beställning från administratören som har skapats av en kund i butiken. Tidigare, när kunden loggade in igen efter att administratören slutfört ordern, innehöll kundvagnen fortfarande orderinnehåll. [GitHub-30262](https://github.com/magento/magento2/issues/30262)

<!-- MC-35640-->

* Köpare kan nu lägga till en produkt i kundvagnen vars lägsta kampanjpris (MAP) överstiger det normala produktpriset.

<!-- MC-35289-->

* Köpare kan nu ändra sin faktureringsadress i arbetsflödet vid utcheckning med flera adresser.

<!-- MC-29335-->

* Alla betalda betalningstransaktioner som skapas av gäster sparas nu i databasen och visas i administratören som förväntat. Tidigare sparades endast en liten delmängd av samtidiga order i databasen, och de flesta order gick förlorade på grund av timeout som beror på databaslås. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989 magento/magento2#32251 -->

* Programmet visar nu korrekt infogade välkomstmeddelanden som innehåller specialtecken när en gäst placerar en produkt i minivagnen. Tidigare lade programmet inte till produkten i mini-vagnen och inget välkomstmeddelande visades. [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* Utcheckningsarbetsflödets utcheckningssida läses nu in när leverans i butik är aktiverat. Tidigare uppstod ett JavaScript-fel i programmet och utcheckningssidan för leverans renderades inte fullständigt.

<!-- ENGCOM-9006-->

* Argumentet `itemResolvers` har lagts till i katalogfilen `di.xml`. Detta innebär att utcheckningen inte längre fungerar om konfigurerbara och grupperade produktmoduler är inaktiverade. [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* Programmet visar nu alternativknapparna i avsnittet **Betalnings- och leveransinformation** som förväntat under arbetsflödet för administratörens ombeställning. [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* Programmet tillämpar nu kundvagnsprisregler korrekt med fast kundvagnsrabatt när vagnen innehåller en paketprodukt med flera alternativ. Tidigare tillämpades inte kundvagnsprisregeln fullständigt på ordern. [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* Knappen **Lägg till i kundvagnen** i kategorilistvyn fungerar nu som förväntat. [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* Du kan nu använda POST `/V1/carts/mine/items` för att lägga till en anpassad kvantitet grupperade produkter i en kundvagn. [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* Faktureringsadressområdet i arbetsflödet fylls inte längre i med leveransadressen. När fältet **Delstat/provins** för faktureringsadressen var tomt och leverans- och faktureringsadresserna inte var desamma fylldes faktureringsadressen i fältet **Delstat/provins** med information från leveransadressen. [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### Katalog

<!-- MC-36787-->

* Massuppdatering av attributen **Aktivera Qty Increments** och **Qty Increments** fungerar nu som förväntat. [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41801-->

* Du kan nu duplicera en delad katalog som innehåller endast numeriska SKU:er. Tidigare uppstod ett fel i programmet när du försökte duplicera en delad katalog eftersom klassen `\Magento\Catalog\Model\ProductIdLocator` inte fungerade korrekt med SKU:er som bara innehåller siffror.

<!-- MC-41575-->

* Programmet genererar inte längre något JavaScript-fel när du har aktiverat synkronisering av nyligen använda produkter med administratören. Tidigare visade programmet följande JavaScript-fel: `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* Uppdateringar av anpassad temalayout används nu som förväntat. Tidigare ignorerades uppdateringar av anpassad temalayout.

<!-- MC-41499-->

* Produktkategoricachen rensas nu som förväntat av `cron` under körningen av `indexer_update_all_views`. Tidigare var antalet produkter på kategorisidan efter omindexering felaktigt.

<!-- MC-41422-->

* Attributvärdena ändras nu inte om inget attribut anges i en REST API-begäran för en butiksvy. Tidigare återställdes attributvärdet till standardvärdet för omfånget om inget attribut angavs.

<!-- MC-41284-->

* Rutnätet för administratörsprodukter (Admin **Katalog** > **Produkter**) visar nu rätt produktantal när produkter filtreras efter SKU.

<!-- MC-40873-->

* Programmet visar nu korrekt lagerstatus när en produkt läggs till på en CMS-sida när kategoribehörigheter är aktiverade och förhindrar att priset visas för den angivna kundgruppen. Tidigare visades alla produkter vara utom lagret oavsett lagerstatus.

<!-- MC-40859-->

* Indatafältet för blockpris för kundgrupp för avancerade priser har nu en minsta bredd på fem siffror. Tidigare var bara två symboler synliga i det här fältet på skärmar med låg upplösning.

<!-- MC-40825-->

* Programmet tar nu bort en produktmediabild när en produkt har tagits bort. Tidigare fanns produktmediabilden kvar i mappen efter att produkten tagits bort.

<!-- MC-40811 magento/magento2#32042-->

* Sidlayouten uppdateras nu som väntat när du skapar eller redigerar en produkt i administratören och sedan skapar en schemalagd designuppdatering. [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* Ett anpassat produktattribut med värdet noll kan nu sparas som tomt. Tidigare uppdaterades inte värdet till tomt.

<!-- MC-40736 ENGCOM-8789-->

* Anpassade kategorilayoutuppdateringsfiler gäller nu för produkter som förväntat. Tidigare matchade inte uppdateringsfilreferensen (`catalog_category_view_*`) produktreferensen. [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* Sortering har inaktiverats för kolumnen FPT (Fixed Product Tax) i Admin-produktlistan. Tidigare gick det inte att läsa in sidan Produkter igen efter att FPT-kolumnen hade sorterats.

<!-- MC-40443-->

* Förhandsgranskningen av Page Builder-produktwidgeten fungerar nu som väntat i en flerwebbplatsdistribution när matchande produkter har olika pris på varje webbplats.

<!-- MC-40344 ENGCOM-8629-->

* Sortering efter position vid produktsökning med GET `/rest/V1/products/?searchCriteria[filterGroups]` fungerar nu som förväntat. Tidigare hade produktsamlingen inte något fält `position`-värde för sortering. [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* Administratörsanvändare kan nu se dubbla blanksteg i fälten **Namn** och **SKU** i produktstödrastret. Tidigare komprimerades flera blanksteg till ett enda.

<!-- MC-39869-->

* Produkterna visas nu som lagrade utanför lagret när den säljbara kvantiteten på Admin är 0. Tidigare listades de här produkterna som i lager i butiken och programmet visade en aktiv **Lägg till i kundvagnen**. [GitHub-3117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* Administratörer kan nu lägga till produkter med anpassningsbara alternativ `(File)` i artikelrutnätet från avsnittet Kundvagn (kundens aktivitetskolumn) på sidan Administratörskund. Tidigare lade programmet inte till objektet i listan eftersom värdet inte var korrekt formaterat innan det infogades i `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* Programmet uppmanar inte längre kunderna att välja ett produktalternativ för en paketerad produkt som bara har ett alternativ.

<!-- MC-39617-->

* Programmet visar nu alla underkategorier i layoutuppdateringar (ankarpunktskategorier och icke-ankarpunktskategorier) när en ny widget skapas.

<!-- MC-39481-->

* Frågan `product` skriver inte längre över standardvärden för alla butiksvyer i en distribuering med flera lager när ett produktnamn uppdateras endast för en butiksvy. [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* Adobe Commerce uppdaterar det totala antalet sidor som förväntat när du ändrar värdet per sida för listan Administratörsrelaterade produkter, merförsäljning och korsförsäljning. [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* Administratörer kan nu lägga till produkter med två eller flera anpassningsbara alternativ `(File)` i en beställning per SKU.

<!-- MC-39140-->

* Programmet genererar inte längre något fel när en administratör med begränsad behörighet lägger till en produktwidget på en CMS-sida i Admin. Tidigare uppstod det här felet i programmet när administratören klickade på knappen **Spara**: `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* Produktinformationssidor öppnas nu med datumanpassningsalternativet ifyllt med datumet från föregående order när **Använd JavaScript-kalender** är aktiverat. Värdematcharen för det anpassade datumalternativet återgår nu till ett alternativt format om värdet inte formateras baserat på den aktuella konfigurationen. Tidigare var det anpassade datumalternativet tomt.

<!-- MC-39104-->

* Programmet visar nu bara ett fel i kundvagnen när produkten inte finns i lager. Tidigare visades överflödiga meddelanden i programmet. [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-35717  magento/partners-magento2ee#427-->

* Administratörer kan nu lägga till en produkt med ett anpassningsbart alternativ, `(File)`, i en beställning från SKU. [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* Du kan nu spara en produkt och ett pris utan att ange `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* Gruppprodukter är nu tillgängliga i butiken som förväntat när en REST `PUT /V1/products/:sku/links`-begäran används för att associera en ny underordnad produkt med en ny gruppprodukt. Tidigare indexerades produkter inte korrekt efter att `bin/magento cron:run` kördes.

<!-- ENGCOM-9010 8947-->

* Du kan inte längre skapa en produkt med ett `NULL` SKU-värde. Tidigare kunde du skapa en produkt utan SKU-värde via en anpassad importör eller direkt i databasen, men när du försökte redigera den från administratören genererades ett fel i programmet. [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* Om du lägger till nödvändiga anpassade alternativ till en enkel produkt tas den inte längre bort från överordnade sammansatta produkter utan förvarning. Programmet visar nu en informativ varning och sparar inte produkten.  Tidigare sparade programmen produktändringarna och ingen varning visades. [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### Katalogregel

<!-- MC-39896-->

* Frågan `products` returnerar nu aktuella värden när en katalogprisregel gäller för ett objekt. [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* Tillfälliga tabeller som börjar med `catalogrule_product__temp` tas nu bort som förväntat när omindexering misslyckas efter att en vagn- eller katalogregel har upphört att gälla, inaktiverats eller blir inaktiv. [GitHub-2273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* Tidszoner används nu på samma sätt i `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` och `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### CMS content

<!-- MC-41471-->

* Storleken på stora bilder ändras nu som förväntat under överföringen när konfigurationsinställningen **Aktivera storleksändring för sidslut** är aktiverad.

<!-- MC-40663 ENGCOM-8883-->

* Korrigerade felhanteringen för CMS Page Save Controller. Tidigare, när ett `Error`-objekt kastades på händelsen `cms_page_prepare_save`, skickade programmet objektet till funktionen `addExceptionMessage` och bröt kontraktet eftersom funktionen förväntar sig `Exception`. Detta löstes genom att ett felmeddelande lades till med funktionen `addErrorMessage`. [GitHub-30149](https://github.com/magento/magento2/issues/30149)

<!-- MC-33490 magento/partners-magento2ee#435 -->

* Du kan nu tilldela flera noder en ny sida på fliken Redigera sidhierarki i CMS. Tidigare inträffade en unik överträdelse av begränsningen när du försökte tilldela sidan till en nod. [GitHub-363](https://github.com/magento/partners-magento2ee/issues/363)

### Konfigurerbara produkter

<!-- MC-40719-->

* Programmet duplicerar inte längre produktminiatyrer i en produkts bildgalleri när du klickar på en produkts konfigurerbara alternativ.

<!-- MC-37418-->

* Popup-fönstret för konfiguration som visas när du redigerar en konfigurerbar produkt från en önskelista stängs nu som förväntat när du klickar på knappen **OK**.

<!-- MC-39878  magento/magento2#31472-->

* Programmet genererar nu fakturor korrekt för order som bara innehåller en konfigurerbar produkt. [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* Köpare kan nu lägga till konfigurerbara produkter i kundvagnen från en icke-standardbutiksvy. Tidigare visades följande fel i programmet när användaren i en icke-standardbutiksvy försökte lägga till en konfigurerbar produkt: `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### Säkerhetsprincip för innehåll (CSP)

<!-- ENGCOM-8577-->

* Säkerhetsprincipen för innehåll stöder nu inläsning av base64-kodade bilder och teckensnitt via `data: scheme`.

### cron

<!-- MC-30804-->

* Kronrensningsfrågor har omarbetats för att reducera eller eliminera följande prestandaproblem: `cron` jobb har fastnat i ett väntande läge, blir allt långsammare MySQL-frågor och CPU-användningen har ökat. [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` som har varit i status `running` i mer än 24 timmar ändras nu automatiskt till status `error`.  Det innebär att en ny instans av jobbet kan köras igen och du behöver inte ändra jobbstatus manuellt när ett jobb fortfarande har statusen `running` felaktigt. Tidigare, om `cronjob` hade fastnat i status `running`, hindrade programmet nya instanser av samma jobb från att starta och du var tvungen att ändra jobbstatus manuellt. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` jobb har nu slutförts som förväntat och orsakar inte längre det här serialiseringsfelet: `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views` cron-jobb körs nu som förväntat efter ett tidigare fel. Den misslyckade körningen markeras som ett fel i `cron_schedule schedule` och den efterföljande körningen misslyckas inte automatiskt. Tabellen `cron_schedule` fylldes tidigare med väntande jobb och `indexer_update_all_views` cron-jobbet kördes inte. [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` dödlägen inträffar inte längre på grund av att `cron` försöker låsa stora distributioner där grupper överlappar. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` dödlägen inträffar inte längre i tabellen `cron_schedule` efter att endast ett fåtal `cron` jobb har körts. [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### Anpassade kundattribut

<!-- MC-41611-->

* Fältet **Läge** i adressboken för kundkontot på butiken läses nu in som och förblir ett nedrullningsbart sidelement. Knappen **Skicka** är nu inaktiverad tills alla sidelement har lästs in helt. Tidigare lästes det här fältet in som en textruta innan det renderades som ett nedrullningsbart element och användaren kunde ange och spara värden i textfältet, vilket senare orsakade ett fel vid utcheckningen.

<!-- MC-40906 magento/partners-magento2ee#509-->

* Programmet visar nu korrekt anpassade kundadressattribut på både butiks- och administratörsordersidor. Tidigare saknades det valda alternativet för attributet dropdown i avsnittet Adressinformation, och värdet för indataattributet innehöll attributkoden. [GitHub-508](https://github.com/magento/partners-magento2ee/issues/508)

<!-- MC-40329-->

* Programmet genererar inte längre något fel när du sparar ett kundadressattribut med en bifogad fil i fältet Admin - Kundadress när du överför filer. Detta inträffade på grund av att en retursats saknas i kontrollenhetsåtgärden. Tidigare uppstod följande fel i programmet: `Something went wrong while saving the file`.

<!-- MC-39354-->

* REST GET Cart API-anrop returnerar nu korrekta anpassade attributvärden för fakturerings- och leveransadresser. Tidigare visades anpassade adressattribut felaktigt på sidan med orderinformation på sidan My account storefront och i Admin.

<!-- MC-24495-->

* Programmet hanterar nu filer som innehåller kundadressattribut med indatatypen `file (attachment)`. Tidigare uppstod det här felet i programmet vid överföring av den bifogade filen: `Something went wrong while saving the file`.

### Kund

<!-- MC-41216-->

* Butikskreditmejl tar nu hänsyn till det valda omfånget och skickas från rätt e-postadress.

<!-- MC-40579-->

* Filtrering efter datum då kontot skapades ger nu resultat som överensstämmer med konfigurerade tidszonsinställningar och som fångar in alla relevanta skapade konton.

<!-- MC-40502-->

* Kundstödrasterfiltret använder nu ett korrekt webbplatsalternativ för en begränsad användare om data tidigare cachelagrades. Tidigare hämtades webbplatsparametrar från cacheminnet av kundrutnätsfiltret och felaktiga data togs med för begränsade användare.

<!-- MC-39189-->

* Programmet genererar inte längre ett undantag på sidan Administratörskunder när en webbplats tas bort i en distribution med flera webbplatser. Tidigare visades inte alla kunder i programmet när en administratör försökte komma åt den omfattande kundlistan och följande fel visades: `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* Administratörer med tillstånd kan nu omtilldela kunder till olika webbplatser från kundens kontoinformationsflik.

<!-- MC-39852-->

* Du kan nu överföra en fil när du skapar ett kundadressattribut med indatatypen `(File)`. Tidigare inträffade följande fel när du försökte överföra och spara en fil: `Something went wrong while saving the file`.

### Kundsegment

<!-- MC-40999-->

* Programmet visar nu relaterade produkter baserat på kundsegment i butiken som förväntat. Tidigare visades inte det här avsnittet när en relaterad produktregel skapades för specifika kundsegment.

<!-- MC-40503-->

* Dynamiska block visas nu för registrerade kunder i kundvagnen när motsvarande kundsegment används för både gäster och registrerade kunder. Tidigare visades blocket endast för gäster.

<!-- MC-40385-->

* Kundsegment uppdateras nu automatiskt efter att en beställning har gjorts från administratören. Tidigare var administratörsanvändaren tvungen att manuellt uppdatera relaterade segmentdata genom att navigera till relaterade kundsegment och klicka på knappen **Uppdatera segmentdata** efter att ha skapat en administratörsordning.

<!-- MC-39490-->

* Programmet visar nu dynamiska block i kundvagnen för alla kunder i de relevanta kundsegmenten. Tidigare såg gästerna inget block även när kundsegmentet innehöll både gäster och registrerade kunder.

<!-- MC-39464-->

* Problem med databasprestanda som beror på kundsegmenteringsregler som använder villkoret `Product was Ordered` har lösts.

<!-- MC-38895-->

* En händelseobservatör för kundsegment för REST/SOAP API har lagts till. Detta resulterar i att kundsegment nu uppdateras automatiskt som förväntat om de kriterier som definieras i segmenten matchas när beställningar görs via REST/SOAP API.

<!-- MC-38346-->

* En händelseprocessor för kundsegment har lagts till för GraphQL-begäranden. Tidigare tillämpades inte rabatter i kundvagnen när ett kundsegment användes i ett kundprisregelvillkor. [GitHub-371](https://github.com/magento/partners-magento2ee/issues/371)

### Katalog

<!-- MC-39520-->

* Programmet genererar inte längre ett undantag när en kund anger ett ogiltigt postnummer under avsnittet för leverans i arbetsflödet för utcheckning. [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### Nedladdningsbar

<!-- MC-35779-->

* Programmet visar nu länkar till nedladdningsbara produkter i e-postmeddelandet Ny beställning när beställningen innehåller både en nedladdningsbar produkt och en konfigurerbar produkt med ett nedladdningsbart alternativ. Tidigare visade programmet länken till den fristående nedladdningsbara produkten, men inte länken till den konfigurerbara produkten med ett nedladdningsbart alternativ.

### Dynamiskt block (tidigare banner)

<!-- MC-40327-->

* Dynamiska block visas nu bara på den angivna sidan. Tidigare visades alla banderoller som tilldelats widgeten på alla sidor om inga dynamiska block hade angetts.

<!-- MC-39839-->

* Nu kan du spara dynamiska block med tomt innehåll.

### EAV

<!-- MC-41756-->

* Datumvärden för kundadressattribut sparas nu i fyrsiffrigt format i stället för i tvåsiffrigt format.

### E-post

<!-- MC-39757-->

* Länken för återställning av lösenord på sidan för återställning av lösenord för administratör fungerar nu som förväntat. Tidigare visades det här meddelandet när en administratör klickade på länken i e-postmeddelandet när en anpassad mall användes för att återställa administratörslösenordet: `Your password reset link has expired`. Detta inträffade eftersom den anpassade e-postmallen innehöll fel variabel för användar-ID:t.

<!-- MC-41588-->

* Att skicka e-post från kunden från administratören fungerar nu korrekt när det är aktiverat på butiksvisningsnivå. Tidigare skickade inte programmet e-post till kunder när e-postaviseringsinställningarna aktiverades på butiksvisningsnivå, men inte på global nivå.

<!-- MC-40950-->

* Programmet skickar nu e-post som förväntat i distributioner på flera platser där inte alla webbplatser har aktiverat asynkron e-postsändning. Tidigare, om minst en webbplats hade den här inställningen inaktiverad, skickades inte e-post från någon webbplats, även om den var aktiverad. Faktura-, utleverans- och kreditnotsmeddelanden hade liknande problem. Beställningskommentarer, fakturakommentarer, utleveranskommentarer och kreditnotskommentarer har dock skickats. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-34323 magento/partners-magento2ee#505-->

* E-postmeddelandet som programmet skickar när du delar ett presentregister från administratören innehåller nu en giltig länk till registerplatsen. Tidigare inträffade ett 404-fel när den här länken togs. [GitHub-504](https://github.com/magento/partners-magento2ee/issues/504)

<!-- MC-30127 magento/magento2#31455-->

* Fakturor och PDF-fakturafiler inkluderar nu samma priser för paketprodukter som förväntat. Tidigare innehöll PDF-fakturafiler ett felaktigt pris för paketprodukter. [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* Strängdatatypsbyte har lagts till i e-postmallens filtermetod för att säkerställa att returvärdet är `string`. Tidigare returnerade programmet ett `phrase`-objekt när ett undantag fångades upp utan att vara i utvecklarläget. Detta utlöste i sin tur ett oåterkalleligt `Uncaught TypeError`. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* Beställningsbekräftelsemeddelanden skickas nu som förväntat när asynkron sändning är aktiverat (**Butiker** > **Konfiguration** > **Försäljning** > **E-post för försäljning** > **Allmänna inställningar** > **Asynkron sändning**) på en webbplats i en distribuering med flera platser. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* Programmet loggar nu ett fel som förväntat när ett undantag inträffar när en kund försöker skicka ett e-postmeddelande från formuläret Kontakta oss. [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### Ramverk

<!-- MC-41712-->

* Överordnade klasser i Admin kontrolleras nu för dokumentblockanteckning tillsammans med den ursprungliga klassen och ärvda gränssnitt. Tidigare uppstod ett fel när överordnade klasser inte kontrollerades och eventuella kundrelaterade åtgärder i administratören som utlöste en händelse utfördes. Programmet loggade det här felet i undantagsloggen: `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* Programmet genererar inte längre ett allvarligt fel när Redis-servern stoppas i en distribution där Redis-sidcache är aktiverat.

<!-- MC-40739-->

* Programmet stöder nu inställningen **Uteslut mediamapp från säkerhetskopiering** när säkerhetskopiering är aktiverad med `bin/magento config:set system/backup/functionality_enabled 1`. Tidigare säkerhetskopierades mediamappen trots den här inställningen eftersom sökvägen till `/magento` inte hade formaterats korrekt med dubbel //.

<!-- MC-40654 ENGCOM-8881-->

* Programmet översätter nu alla översättningsbara strängar som förväntat för Admin Cart-sidan. Tidigare inträffade översättningsbelastningen för sent och alla observatörer som prenumererade på åtgärder före utsändning hoppades över. [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* Formulärvalidering på sidan Skapa nytt kundkonto fungerar nu när tilläggsinställningen **Logga in som kund** är inaktiverad. Tidigare uppstod ett JavaScript-fel i programmet.

<!-- MC-39537-->

* `bin/magento setup:db-schema:split-sales` för att flytta databastabeller fungerar nu som förväntat. Tabeller skapas och fylls i korrekt med data. Tidigare, eftersom kontrollen av tabellförekomst var felaktig, utlöstes `SQLSTATE` fel i programmet när du körde `bin/magento setup:db-schema:split-sales`.

<!-- MC-39193-->

* Undantagshantering för underordnade processer som `ProcessManager` har förgrenats har förbättrats. När ett undantag inträffar nu avslutas huvudprocessen och ett felmeddelande visas bara en gång. Tidigare loggades flera indexeringsfel och flera meddelanden visades. [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* Globala Adobe Commerce-plugin-program (till exempel `webapi_rest` och `graphql` ) aktiveras inte längre för en ny anpassad områdestyp när `di.xml` för den här områdesfilen inte innehåller några registrerade plugin-program.

<!-- MC-38770-->

* Undantag som inträffar under initieringen cachelagras inte längre och utlöser nu en svarskod på 500.

<!-- MC-33179  magento/partners-magento2ee#431-->

* Handlare kan nu tilldela eller ta bort en bild till och från en kataloghändelse per butiksvy. När du tidigare ändrade butiksvyn när du redigerade en kataloghändelse var kryssrutan **Ta bort bild** inte aktiv och programmet visade följande fel: `Uncaught ReferenceError: toggleValueElements is not defined at HTMLInputElement.onclick`. [GitHub-364](https://github.com/magento/partners-magento2ee/issues/364)

<!-- ENGCOM-8232-->

* Den senaste hanteraren som sammanfogats i en `communication.xml`-fil åsidosätter inte längre alla hanterare som skapats tidigare. [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### Allmänna korrigeringar

<!-- MC-41194-->

* Programmet visar nu korrekt antal stjärnor på sidan Mina produktrecensioner och på sidan Mitt konto nyligen granskade. Tidigare använde programmet bara granskningsstjärnor på den första granskningen och lämnade de andra granskningarna på sidan utan start.

<!-- MC-40653-->

* Kontolänkar i rubriker följer nu WCAG-standarder. Tidigare innehöll kontolänkar i rubriker duplicerade ID:n, vilket gjorde att WCAG-valideringen misslyckades.

<!-- MC-40528-->

* Programmet sparar nu kataloghändelsedatum i UTC-tidszoner. Tidigare sparade program kataloghändelser i användarens tidszon.

<!-- MC-39765-->

* Programmet genererar inte längre systemloggsfel när en gästkund använder en ogiltig adress. Tidigare visades det här felet ibland i programmet i stället för att sidan skulle återges: `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* Storleksändringen av bilden upphör inte längre att gälla för bilder i ett format som inte stöds. Tidigare när `catalog:images:resize` påträffade ett bildformat som inte stöds stoppades processen och programmet visade följande fel: `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* Stöd för WEBP och AVIF för logotypbilder har lagts till i administratören. [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* Du kan inte längre ändra omfattningen för attributet `media_gallery`. När du tidigare ändrade omfånget för attributet `media_gallery` till `global` genererades ett fel i programmet.

<!-- MC-36818  magento/partners-magento2ee#470-->

* Relaterade produkter som lagts till som en schemalagd uppdatering visas inte längre på en butiksproduktsida efter uppdateringens slutdatum. [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-34489 magento/partners-magento2ee#491-->

* Programmet visar nu ett korrekt och informativt meddelande när du klickar på **Hantera objekt** på sidan för register för presentationer på Mitt konto och registerprodukterna är inte i lager. Tidigare uppstod följande fel i programmet: `Error: Call to a member function getId() …`. [GitHub-490](https://github.com/magento/partners-magento2ee/issues/490)

<!-- MC-33667-->

* Nu kan du lägga till en CMS-sida från sidan Lägg till ny sida i webbplatsens rothierarki som du vill.

<!-- MC-33499 magento/partners-magento2ee#446-->

* Filtrering fungerar nu som väntat i listan över schemalagda exporter när entitetstypen har valts. Tidigare fungerade inte filtret och ett JavaScript-fel uppstod. [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* Kategoribilder kopieras nu som förväntat från katalogen `catalog/tmp/category` till katalogen `catalog/category` när kategorier sparas med databaslagringsmetoden. Bildraden i tabellen `media_storage_file_storage` har nu även rätt `directory_id`. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* Handlare meddelas nu om ogiltiga cacheminnen som förväntat efter att de har skickat in ändringar i CMS-hierarkin. Tidigare var cacheminnen inte ogiltiga när CMS-hierarkin sparades.

<!-- MC-24725-->

* Antalet överflödiga förfrågningar från AJAX till kundvagnen har reducerats. Tidigare lästes inte vagnsdelsumman in på rätt sätt, vilket ledde till att vagnen lästes in igen.

<!-- MC-23740-->

* Lagt till validering för URL-adresser för att förhindra att reserverade ord inkluderas i URL-nycklar. Se [Definiera välkända URI:er ](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* På distributioner som kör PHP 7.4 returnerar programmet nu ett 404-fel när inställningen **Generate &quot;category/product&quot; URL Rewrites** är inställd på **No** och en kund försöker få åtkomst till en kategorisökväg som inte finns. Tidigare returnerade programmet ett 500-fel med värdet: `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- MC-32257 magento/partners-magento2ee#507-->

* Du kan nu redigera en produkt som har skapats med en attributuppsättning från vilken **grupper för designgrupper och schemauppdatering** har tagits bort.  Tidigare uppstod ett allvarligt fel när du försökte redigera en produkt som skapats från den attributuppsättningen. [GitHub-44](https://github.com/magento/partners-magento2ee/issues/44)

<!-- ENGCOM-8901-->

* `nowdoc` har ersatt `heredoc` i `Magento_Backend`-butiksväxlaren. [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8539-->

* Administratörer omdirigeras nu direkt till den begärda administratörssidan efter inloggning.  När en administratör loggade in omdirigerades de tidigare till Admin Dashboard (eller den sida som konfigurerats som startsida) och var tvungna att navigera manuellt till sitt mål. [GitHub-31042](https://github.com/magento/magento2/issues/31042)

<!-- ENGCOM-8685-->

* Argentina, Bolivia, Chile, Ecuador, Guyana, Paraguay, Peru, Suriname och Venezuela har lagts till i tabellen `directory_country_region`. [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* Albanien, Danmark, Grekland, Island, Portugal och Sverige har lagts till i tabellen `directory_country_region`. [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* Meddelanden flaggas nu som fel i MysqlMQ-meddelandekön när undantag inträffar. [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* Programmet refererar nu till rätt klassobjekt vid inläsning av skatteinformation för administratörskreditnotan och fakturasidorna. [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* Integrering med Click &amp; Drop i Royal Mail fungerar nu som förväntat. Tidigare uppstod det här felet i programmet när du försökte aktivera den här integreringen: `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* Programmet visar nu ett informativt felmeddelande när en felaktig leverans-, kreditnota- eller faktura-ID skickas i en URL. Tidigare uppstod ett allvarligt fel i programmet. [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* Rekursionen på platsen för statiska filer har tagits bort.  Programmet visar nu en 404-sida i stället för ett 500-fel. Tidigare ledde ett fel i standard-NGINX-konfigurationen till oändlig rekursion. [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* Namnet på filen `cms_index_noroute.xml` har korrigerats till `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* Filen `.editorconfig` har omarbetats för att korrigera den automatiska formateringen av `db_schema_whitelist.json`-filer. [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* När du ändrar storlek på ett webbläsarfönster utlöses inte längre dubbletter av förstoringshändelser för bindning. [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* Programmet genererar inte längre ett SQL-undantag vid filtrering av `Magento\Users\Model\ResourceModel\Users\Collection` med `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### Presentkort

<!-- MC-40412-->

* Väntande betalningsavgifter tas nu bort från ett presentkort som förväntat när ett presentkort annulleras. Tidigare uppstod ett fel när `cron` kördes efter att presentkortet tagits bort.

<!-- MC-37658-->

* Köpare kan nu ta bort presentkort från en beställning på sidan Granska beställning vid utcheckning med flera adresser. Tidigare tog programmet inte bort presentkortet från beställningen när användaren markerade kortet och sedan klickade på **Ta bort**.

<!-- MC-34407-->

* Programmet visar nu det nya priset på ett presentkort i kundvagnen när du ändrar värdet på presentkortet efter att du lagt till det i kundvagnen.

<!-- MC-32651-->

* Valideringslogiken för prisintervall har lagts till på sidan där presentkortet skapades. Tidigare kunde en administratör skapa ett kort med ett minimivärde som överskred maxvärdet. [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* Frågan `addRequisitionListItemsToCart` returnerar nu det förväntade beloppet för ett anpassat presentkort när begäran inte innehåller något värde för `allow_open_amount`.

<!-- MC-32373-->

### Presentmeddelande

<!-- MC-38655-->

* `setGiftOptionsOnCart`-mutationen skapar nu presentmeddelanden korrekt. [GitHub-388](https://github.com/magento/partners-magento2ee/issues/388)

### Presentregister

<!-- MC-33057 magento/partners-magento2ee#467-->

* Värdena för **Händelsedatum** är nu desamma i butiken och administratören när presentregistret skapas eller redigeras. Tidigare justerade programmet **Event date** en dag bakåt på både storefront och Admin varje gång du redigerade och sparade presentregistret. [GitHub-466](https://github.com/magento/partners-magento2ee/issues/466)

<!-- MC-32587  magento/partners-magento2ee#511-->

* Programmet visar inte längre inaktiverade produkter i presentregister. Tidigare, om en produkt inaktiverades efter att ha lagts till i ett presentregister, visades det här meddelandet när en kund kom åt registret: `Error: Call to a member function getId() …`. [GitHub-510](https://github.com/magento/partners-magento2ee/issues/510)

### Presentomslutning

<!-- MC-38260-->

* Översättning av figursetiketter för butiksvyer fungerar nu som förväntat.

<!-- MC-36749-->

* Presentomslutning används nu som förväntat på order som skickas till flera adresser.

<!-- MC-34820-->

* Programmet tar nu bort kostnaden för att omsluta presenter från kundvagnen när alla produkter har tagits bort.

<!-- MC-32259 magento/partners-magento2ee#500-->

* Summor för kreditnota är nu korrekta när kreditnotan innehåller presentkort och konfigurerbara produktavgifter. Tidigare inkluderades inte alltid presentmomsbeloppet i den totala kreditnotan. [GitHub-34](https://github.com/magento/partners-magento2ee/issues/34)

### Google Analytics

<!-- ENGCOM-8450-->

* Programmet genererar inte längre något fel när en administratör försöker läsa in en sida i butiken när Google Analytics är aktiverat. En CSP-post för `connect-src` har lagts till för att tillåta AJAX-begäranden to www.google-analytics.com. [GitHub-30880](https://github.com/magento/magento2/issues/30880)

### Google Tag Manager

<!-- MC-39072-->

* UI-komponenten för faktureringsadressen på betalningssidan i kassaarbetsflödet använder nu offertadressen korrekt när Google Tag Manager är aktiverat. Tidigare inträffade ett JavaScript-fel på betalningssidan.

### GraphQL

<!-- MC-41885-->

* GraphQL `products`-frågan returnerar nu attributalternativ som är sorterade i samma sorteringsordning som på attributredigeringssidan.

<!-- MC-41473-->

* Svaret på GraphQL-begäran `{ category(id: 2){ children { name children { name } } } }` innehåller nu ett korrekt sorterat kategoriträd.

<!-- MC-41030-->

* Objektet `CartItemPrices` innehåller nu det nya GraphQL-fältet `fixed_product_taxes`, som returnerar en matris med fasta produktskatter som tillämpas på ett varukorgsobjekt. Tidigare ingick inte fasta produktskatter som tillämpades på en kundvagnsartikel i kundvagnsfrågan.

<!-- MC-40920-->

* Tomma förfrågningar till GraphQL genererar nu svarskod 200 i stället för 500. Tidigare genererades ett undantag i GraphQL-parsern innan frågeresultatet genererades.

<!-- MC-40867 magento/partners-magento2ee#532 -->

* mutationen `applyRewardPointsToCart` uppdaterar nu kundvagnens totalsumma för att korrekt återge värdet för de extrapoäng som dras av. [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* Inaktiverade produkter ingår inte längre i GraphQL svar när GraphQL används för att länka merförsäljningsprodukter.

<!-- MC-40262-->

* Handlare kan nu använda GraphQL `setShippingAddressesOnCart`-metoden för att ange fakturerings- och leveransadresser för en kundvagn när gästutcheckning är inaktiverad.

<!-- MC-39508-->

* Frågan `categoryList` genererar inte längre ett undantag när den innehåller flera fragment för objektet `CategoryTree`. [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* GraphQL `product`-frågan returnerar nu rätt kundgruppspriser.

<!-- MC-38822-->

* GraphQL `products`-frågesvaret sorterar nu aggregeringar efter produktattributspositionen.

<!-- ENGCOM-8462-->

* Programmet genererar inte längre typfel under GraphQL-frågor när produkt- och kategori-URL-suffix innehåller null-värden. [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* Objektet `CustomizableDateValue` innehåller nu attributet `type`. Dess värde är en uppräkning som kan ställas in på DATE, DATE_TIME eller TIME.

<!--  magento/partners-magento2ee#421-->

* [`dynamicBlocks`-frågan ](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/dynamic-blocks/) returnerar innehållet i dynamiska block som matchar de angivna filtren.

<!-- ENGCOM-8603-->

* POST `V1/products/special-price-delete`-begäran tar nu endast bort priset med en angiven `store_id` som förväntat. Tidigare togs alla specialpriser för den angivna SKU:n bort från alla butiker. [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* Korrigerade ett fel med attributet `country_code` i mutationen `createGiftRegistry`.

<!-- magento/partners-magento2ee#280 -->

* Korrigerade problem med attributet `giftRegistryUid` för mutationen `updateGiftRegistryItems`.

<!-- magento/partners-magento2ee#280 -->

* En extra kontroll har lagts till för att förhindra att mutationen `updateGiftRegistryRegistrants` används för att lägga till slumpmässiga personer som registranter i ett presentregister.

<!-- magento/magento2#31380 -->

* `addConfigurableProductsToCart`-mutationen returnerar nu rätt miniatyrbild av den angivna produkten. Tidigare returnerades miniatyrbilden för den överordnade produkten.

<!-- ENGCOM-8477-->

* Frågan `products` visar inte längre en produkts specialpris när den särskilda prisperioden har angetts för ett framtida datum. [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* Frågesvaret `customer` innehåller nu attributet `total_giftcard` som en del av objektet `OrderTotal`.

<!-- MC-41084 ENGCOM-9042 -->

* Ett problem har korrigerats som gjorde att `products`-frågan returnerade felaktig information om prisnivåer för artiklar som inte har nivåprissättning angiven. [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### Bild

<!-- MC-38951-->

* Du kan nu ange attributen required_options och has_options bundle som förväntat när du skapar eller uppdaterar en paketprodukt med POST `/V1/product/:sku`-slutpunkten. Tidigare var dessa anpassade attribut inställda på 0 (noll) trots försök att ställa in det på 1 (ett).

### Importera/exportera

<!-- MC-41576-->

* Kategori-ID-filtret för produktentiteter i stödrastret för entitetsattribut på exportsidan fungerar nu som förväntat.

<!-- MC-41439 ENGCOM-9005-->

* Grupperad produktlagerstatus uppdateras nu som förväntat till ej lagrad när alla underordnade produkter inte finns i lager. [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* Statusen för konfigurerbart produktlager uppdateras nu automatiskt som förväntat när statusen för underordnat produktlager uppdateras vid import. Tidigare uppdaterades inte produktStock-statusen automatiskt när den underordnade produktens arkivstatus uppdaterades vid import.

<!-- MC-41151-->

* Du kan nu spara tomma värden i en schemalagd export. Tidigare uppdaterades tomma filtervärden i programmet när exportfilen skapades eller sparades. Både `no`- och `not specified`-värdena representerades av noll i databasen, och värdet `not selected` åsidosattes av `no`.

<!-- MC-41092-->

* Exportprocessen tar nu hänsyn till användarrollens omfång när du exporterar produkter, Stock-källor och kundenheter. Tidigare ignorerades användarrollens omfång i exportprocessen, vilket tillät export av privata användarroller.

<!-- MC-40943-->

* Programmet ställer nu in produktskatteklassen på `None` om en produkt importeras med `tax_class_name` värden `None` eller `0`. Tidigare, om `product tax_class_name` var `None` i CSV-filen, skapades en ny momsklass `None`, som duplicerade den befintliga momsklassen. Om `product tax_class_name` var `0` i CSV-filen ignorerades det värdet och produktskatteklassen ändrades inte efter importen.

<!-- MC-40898-->

* Administratörer kan nu ändra `name` för en paketprodukts `bundle_values` från Admin. Tidigare visades produkten som ej i lager i butiken när du ändrade namnet från administratören. Produkterna samlades också med samma SKU i ett enda paketalternativ.

<!-- MC-40333-->

* Programmet tar nu hänsyn till användaromfånget när kunddata exporteras. Tidigare exporterades kunddata från alla webbplatser när du försökte exportera kunder.

<!-- MC-40305-->

* Programmet tar nu bort produktrelationer mellan merförsäljning, korsförsäljning och relaterade produkter vid CSV-filimport som förväntat när `__EMPTY__VALUE__` anges i CSV-filen.

<!-- MC-40012-->

* Export av anpassade adressdata för många kunder (Admin **System** > **Exportera**) resulterar inte längre i ett minnesfel. Tidigare försökte programmet att läsa in alla kunddata när anpassade adressdata exporterades, vilket resulterade i minnesbrist, och programmet orsakade ett fel av typen &quot;error-to-assign-memory&quot;.

<!-- MC-39977-->

* Dubblettnivåpriser importeras inte längre under CSV-standardimportprocessen. Tidigare saknades validering för att förhindra import av dubblettpriser i skiktet, och när dubbla skiktpriser inträffade kunde handlare inte spara produkter. Handlarna såg också det här felet när de försökte schemalägga en produktändring: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* Alla produktbilder valideras nu under importen. Tidigare validerades bara den första bilden när en produkt hade flera bilder. [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* Du kan nu ta bort en region från en kundadress som förväntat under importen. Tidigare ändrades inte den tilldelade regionen när en kundadress importerades med en tom region.

<!-- MC-38810-->

* Produkter med JSON- eller HTML-innehåll som ytterligare produktattribut exporteras nu korrekt till en CSV-fil. Tidigare innehöll CSV-filen överlappande datasträngar i felaktiga fält.

### Index

<!-- MC-39718 ENGCOM-8567-->

* Process Manager avslutas nu med ett fel när en underordnad process misslyckas. Tidigare avslutades Process Manager alltid korrekt om antalet funktioner som skickades till det (till exempel indexerardimensioner) var lägre än värdet för miljövariabeln `MAGE_INDEXER_THREADS_COUNT`. [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* Produkterna är nu tillgängliga som förväntat i sökresultat för butiker när du länkar produkter med en REST PUT `/V1/products/:sku/links`-begäran när indexerarläget är inställt på **Uppdatera vid Spara**.

<!-- MC-38310 magento/magento2#32693-->

* Indexeraren för katalogprisregel fungerar nu som förväntat när indexerarläget är inställt på **Uppdatera vid Spara**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* Om du tar bort en inaktiverad kategori som inte innehåller någon produkt påverkas inte katalogsöknings- och kategoriplatta indextabeller. Tidigare utlöstes ett fullständigt indexvärde om en inaktiv kategori togs bort. [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* Anpassade indexerare kan nu använda olika enhetskolumnnamn för prenumerationer. Tidigare använde databasutlösaren kolumnnamnet från indexeraren senast inställt på **Uppdatera enligt schema** i stället för den angivna indexeraren. [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* Programmet skickar inte längre AJAX-begäranden om att läsa in kunddataavsnitt (`Magento_Customer/js/section-config`) som inte påverkas av begäran. [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* Följande indexerare blir inte längre ogiltiga när du har lagt till, tagit bort eller ändrat ordning på produkter i en kategori: `catalog_category_product` och `catalogsearch_fulltext` (och deras underordnade). Tidigare utlöste dessa oavsiktliga borttagningar fullständig omindexering av platser. En fullständig omindexering kan nu förhindras under dessa förhållanden när en plan katalog inte är aktiverad.

### Infrastruktur

<!-- MC-41445-->

* Beroendet `pelago/emogrifier` har uppdaterats från version 3.1.0 till 5.0.0. Uppdateringen resulterade i att bakåtkompatibla ändringar av klassen `Magento\Email\Model\Template\Filter` introducerades. Den ändrade koden körs under återgivning av e-postmallar. Se [BIC-referens](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/).

<!-- MC-42212-->

* Ett problem med `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` som gjorde att en ny produkt inte kunde sparas har korrigerats.

<!-- MC-42199-->

* Det inaktuella TinyMCE v3-biblioteket har tagits bort. Modulen `Magento_Tinymce3Banner` och MFTF-testerna för TinyMCE v3.x har tagits bort från Adobe Commerce.

<!-- MC-41497-->

* Programmet genererar inte längre ett `Invalid header value detected`-fel i formuläret Kontakta oss när en kund anger en e-postadress som innehåller franska diakritiska tecken (till exempel&quot;é&quot;,&quot;è&quot;). Programmet konverterar nu UTF-8-bokstäver i användarnamnet till ASCII-kodning. Tidigare konverterades inte UTF-8-bokstäver till ASCII-kodning i det unika avsnittet i e-postadressen.

<!-- MC-39947-->

* Programmet genererar inte längre ett allvarligt PHP-fel när ett plugin-program läggs till i en överordnad klass. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* README.md-filerna för dessa moduler har uppdaterats: `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, `Magento_MysqlMq`. [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` har uppdaterats till v6.0.3 för PHP 8-kompatibilitet.

<!-- ENGCOM-9073-->

* `ramsey/uuid` har uppdaterats för kompatibilitet med PHP 8.0. [GitHub-31777](https://github.com/magento/magento2/issues/31777), [GitHub-826](https://github.com/magento/magento2-functional-testing-framework/issues/826)

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` har uppdaterats till v1.4.4 för PHP 8-kompatibilitet. [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* En ogiltig kombination av tabbar och blanksteg i filen `phpstan.neon` har korrigerats. [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* Användning av den föråldrade egenskapen `$_isScopePrivate` i kodbasen har tagits bort. [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* Sidlayouter är inte längre hårdkodade i  `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  Därför returnerar funktionen `getPageLayouts()` nu den faktiska listan över sidlayouter som deklarerats av de olika modulerna som förväntat. Tidigare returnerades bara hårdkodade layouter. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* Filen `composer.lock` har uppdaterats till den senaste versionen av kodningsstandarden. [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* Ett saknat beroende av paketet `web-token/jwt-framework` har lagts till i `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* Passiva avlyssnare har lagts till i `fotorama.js`-biblioteket för att förbättra poängen för fyr-mått. [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* Filen README.md för Google Analytics-modulen har uppdaterats. [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* Processhanteraren hanterar nu undantag korrekt i förankrade processer. Huvudprocessen avslutas nu och programmet visar nu ett felmeddelande endast en gång. Dessutom hanteras nu undantag från de förankrade processerna när de genereras i huvudprocessen. Tidigare loggade programmet flera indexeringsfel och visade flera felmeddelanden.  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* Programmet genererar inte längre något fel när ett plugin-program läggs till i en överordnad klass. (Parametern `optionsProvider` har deklarerats efter `getContentIdentities` i `Assest.php`.) Tidigare uppstod följande fel i programmet: `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* Körning av `Magento\Framework\Filesystem\Io\Ftp::ls()` i en tom mapp returnerar nu en tom matris som förväntat. Tidigare utlöste programmet följande undantag: `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* Metoden `update` för både Role och Rules har markerats som inaktuell i `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* Sammanfogningen av parametrarna för cookie-filen för samma plats har korrigerats. Tidigare tillkom felaktig sammanfogning av suffixet `lex` till `value`, `domain` och andra parametrar. [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` har uppgraderats till v1.3.1 i hela kodbasen. Tidigare visades följande fel i programmet: `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* Programmet visar nu fler informativa fel när fel inträffar när `bin/magento`-kommandon körs i produktionsläge. Tidigare visade programmet inga felmeddelanden eller meddelanden som saknade information. [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* PHP-objektet `ArrayIterator` har uppdaterats för att fungera som förväntat med PHP 7.4. [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* Programmet genererar inte längre något fel när en kund försöker slutföra en beställning utan att ha några fraktfirmor tillgängliga. Istället visas utcheckningssidan och följande meddelande: `Sorry, no quotes are available for this order at this time`. Tidigare visade programmet en tom utcheckningssida och det här meddelandet spelades in i undantagsloggen: `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* Programmet loggar inte längre varje cookie som en separat kontext. Arrayen `$_COOKIE` har också konverterats till en sträng. Eftersom varje cookie loggades som en separat kontext när antalet cookies överskred 50 loggade programmet tidigare meddelandet: `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### Faktura

<!-- ENGCOM-8472 -->

* När du skapar nya fakturor i Admin fungerar nu kryssrutan **E-postkopia av** som förväntat. Tidigare ignorerades kryssrutan om den globala inställningen för att skicka fakturameddelanden var aktiverad i **Försäljningsmeddelanden**. Den är nu konsekvent och fungerar på samma sätt som när du skapar utleverans- och kreditnotor. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### Mediegalleri

<!-- MC-41728-->

* `bin/magento media-gallery:sync` misslyckas nu som förväntat vid bearbetning av PNG-bilder som saknar XMP-information.

<!-- ENGCOM-8814-->

* Poster i tabellen `catalog_product_entity_media_gallery` tas bort som förväntat när relaterade produkter tas bort. [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* Bildinformationen kan nu uppdateras i Mediegalleriet när JavaScript minification är aktiverat. Tidigare sparades inte bildinformation och följande fel visades: `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

Nya funktioner och viktiga felkorrigeringar för MFTF beskrivs i [Functional Testing Framework Changelog](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

<!-- ENGCOM-8496-->

* Kommandona `magento indexer:reindex`, `cache:flush` och åtgärdsgruppen `AdminReindexAndFlushCache` har tagits bort från tester för att förbättra körningen för följande moduler: `Bundle`, `Catalog`, `CatalogRule`, `CatalogRuleConfigurable`, `CatalogUrlRewrite`, `Downloadable`, `Indexer`, `Paypal` och `Sales`. [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` har lagts till i tester för att förhindra testfel. [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* Testerna har omarbetats med `StorefrontCheckQuickSearchStringActionGroup` och `StorefrontAssertProductNameOnProductMainPageActionGroup` (befintliga åtgärdsgrupper). [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### Refrakterade tester

Följande tester har omarbetats för att förbättra körningstiden:

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest` (ersättning för utgått `AdminMassOrdersHoldOnPendingAndProcessingTest`) <!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### Åtgärdsgrupper

Upprepande åtgärder har ersatts med åtgärdsgrupper i dessa tester:

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### Nya åtgärdsgrupper

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup` (ersätter filtrering av produktstödraster med SKU och klickar på den första raden (för att minska testkörningstiden) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### Borttagna åtgärdsgrupper

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* `CliIndexerReindexActionGroup` (eller ändrat värde) har tagits bort från tester för att förbättra körningstiden för `Backend`, `Bundle`, `BundleImportExport`, `Catalog`, `CatalogRule`, `CatalogSearch`, `Checkout`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Indexer`, `LayeredNavigation`, `LoginAsCustomer`, `Newsletter`, `Sales`, `SalesRule`, `Search` `Store`, `Swatches`, `UrlRewrite`, `Weee`, `Wishlist` och moduler.

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* `CliCacheFlushActionGroup` togs bort från `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol`, `Customer`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Fedex`, `Indexer`, `LayeredNavigation`,`LoginAsCustomer`, `Msrp`, `Multishipping`, `Sales` modulerna `Swatches`, `Translation`, `UrlRewrite`, `Vault`, , , `Weee` och `Wishlist` .

### Nyhetsbrev

<!-- ENGCOM-8948 MC-40885-->

* Programmet skickar inte längre nyhetsbrev via e-post till en kund som har avbeställt nyhetsbrevet under tidsperioden mellan det att nyhetsbrevet skapas och det skickas. [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* Programmet följer nu inställningarna för aktivering av nyhetsbrev (**Lagrar** > **Inställningar** > **Konfiguration** > **Kunder** > **Nyhetsbrev** > **Allmänna alternativ**). Tidigare hämtades alltid dessa inställningar från standardomfånget i distributioner av flera butiker. [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* REST-anropet till GET `/V1/customers/search` returnerar nu korrekt information för kunder som prenumererar på flera nyhetsbrev. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* Prenumerationsstatus för cachelagring har tagits bort från plugin-programmet för nyhetsbrev. [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### Beställning

<!-- MC-40963-->

* Programmet beräknar nu korrekt ett fakturerat kundsaldo när butikskrediten returneras till ett kundkonto för en delvis fakturerad order.

<!-- ENGCOM-8710-->

* Programmet sparar nu en ändrad order som förväntat när ett återbetalt kundsaldo sparas. [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### Betalningsmetoder

<!-- MC-41525-->

* Programmet återger nu betalningsblocken på `frontend` oavsett varifrån e-postmeddelandet skickades. (Det aktuella området emuleras nu som `frontend` innan betalningsblocket återges.) Tidigare återgavs betalningsblocken i det område som e-postmeddelandet skickades från. Det innebär att URL:er för resurser försökte läsa in dem från fel område (`webapi_rest` eller `adminhtml`), oavsett om e-postadress för försäljning utlöstes från Admin eller REST API.

<!-- MC-40810-->

* Programmet skickar nu länken för en nedladdningsbar produkt till den e-postadress som anges vid utcheckningen. Tidigare när en gästkund använde PayPal Express Checkout och angav olika e-postadresser för att skicka beställningen och checka ut, skickade programmet den hämtningsbara produktlänken till den första adressen.

<!-- MC-38051-->

* Programmet visar nu ett korrekt värde för tillgängliga butikskrediter på sidan Betalningsmetod i distributioner som stöder flera valutor.

<!-- MC-37820-->

* Listan över betalningsmetoder uppdateras nu som förväntat när en gästköpare ändrar en beställnings leveransadress till ett annat land under utcheckningen. Tidigare utlöste inte en uppdatering av möjliga betalningsmetoder när faktureringsadressen ändrades.

#### PayPal

<!-- MC-39895-->

* Köpare kan nu checka ut en PayPal Payflow Pro-order med en leveransadress som innehåller specialtecken. Tidigare nekade programmet betalning för dessa order.

<!-- MC-39861-->

* Köpare dirigeras nu tillbaka till sidan för orderframgångar efter en lyckad betalning med PayPal. Tidigare omdirigerades kunderna till en tom sida eftersom sessionsdata förlorades.

### Prestanda

<!-- MC-41647-->

* Prestandan för administratörssökning i SKU på stora kataloger har förbättrats. Tips för frågeoptimering tvingar nu fram indexanvändning under frågekörning.

<!-- MC-41440-->

* Prestandan för `catalog_product_alert` `cron`-processen när den körs på stora tabeller (flera miljoner rader) har förbättrats. Tidigare lästes alla produktvarningar in av `catalog_product_alert`, vilket orsakade ett minnesfel.

<!-- ENGCOM-8752-->

* Programmet läser inte längre in alla CMS-sidor när bara en redigeringssida behövs för att återge ett administratörsformulär.  Dessa sidor läses nu in snabbare. [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* Numeriska värden i `WHERE IN`-uttryck byts nu ut mot tal, inte som sträng, vilket förbättrar frågeprestandan i vissa versioner av MariaDB. [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* I `use_application_lock`-läget kan du aktivera omindexering antingen med hjälp av miljövariabler eller genom att konfigurera filen `app/etc/env.php`. Du behöver inte längre återställa indexeraren manuellt efter ett fel med det här läget aktiverat. Om det här läget inte är aktiverat måste du manuellt återställa indexeraren efter fel. Se [Använda programlåsläge för omindexeringsprocesser](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Priser

<!-- MC-41767-->

* Programmet uppdaterar nu korrekt priset på en produkt med grupperade priser när en kund uppdaterar produktkvantiteten i butiken. [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* Paketprodukter kan nu sparas när produkter har tilldelats ett nivåpris och `Magento\Framework\Api\ExtensibleDataObjectConverter` används för att konvertera produktdata. Tidigare, när `Magento\Framework\Api\ExtensibleDataObjectConverter` användes för att konvertera produktdata till en matris när en produkt sparades, sparades inte produkten och följande fel visades: `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* Schemalagda prisuppdateringar gäller nu produkter som redan finns i kundvagnen. [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* Nivåpriset tillämpas nu på en produkt som förväntat när kvantitetsökningar är aktiverade och decimallagret är mindre än 1. Tidigare hade minimiprismängden satts till 1.

### Produktvideo

<!-- MC-39755-->

* Nu kan du använda knappen **Lägg till video** (Admin **Catalog** > **Products**) för att lägga till flera videoklipp i följd. Tidigare innehöll videofälten information om den föregående videon.

<!-- MC-40817-->

* Nu fungerar helskärmsläget för en produktvideo på en produktsida som förväntat på mobila enheter. Tidigare pausades videon när helskärmsläget öppnades innan helskärmsläget avslutades.

<!-- MC-39759-->

* Navigeringspilknapparna (**Nästa** och **Föreg**) visas nu som förväntat på butiksproduktvideor.

<!-- MC-40463-->

* Merchants kan nu lägga till Vimeo-videor med knappen **Infoga video** på produktsidan som förväntat. Tidigare visade programmet ett 404-fel. [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### Citat

<!-- MC-39531-->

* Anropet `/V1/guest-carts/examplecartid/items` returnerar nu den begärda butiksvyn. Tidigare returnerades den första butiksvyn i butiken, inte den begärda.

<!-- MC-33893 ENGCOM-8992-->

* Fakturasändning kan nu konfigureras. Tidigare gick det inte att konfigurera fakturasändningen och programmet skickade alltid en faktura efter att den skapades. Både faktura- och ordermejl skickades till en observatör. Separata observatörer styr nu utskick av e-post och fakturameddelanden. [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### Rapporter

<!-- MC-40998-->

* Alla systemrapporter kan nu visas på och hämtas från Adobe Commerce i molninfrastrukturprojekt. Tidigare gick det inte att hämta systemrapporter för loggar, data, design eller butiker.

<!-- MC-39737-->

* Det senaste granskningsdatumet på Admin **Reports** > **Reviews** > **By Products** visar nu korrekt granskningsdatum. Tidigare visades det datum då produkten skapades i stället för granskningsdatumet.

### Return Merchandise Authorizations (RMA)

<!-- MC-41866-->

* RMA-attributet `resolution` visas inte längre som nödvändigt när attributfältvärdet `required` är inställt på **no**.

<!-- MC-41808-->

* Du kan nu välja flera order att returnera från administratören. Tidigare uppstod ett fel när du klickade på **Submit** efter att ha markerat flera returer och valt Closing på menyn Actions.

<!-- MC-41759-->

* Programmet skickar nu e-postmeddelanden till kunderna som förväntat efter att du har ändrat status för en retur med REST API.

<!-- MC-39981  magento/partners-magento2ee#442 -->

* Programmet filtrerar nu poster enligt filtervärden i administrationskundernas returrutnät. Tidigare riktades du i programmet till sidan Administrera alla kunder och du omdirigerades även till den här sidan genom att klicka på knappen **Återställ filter** . [GitHub-436](https://github.com/magento/partners-magento2ee/issues/436)

### Recensioner

<!-- MC-40116-->

* Betygsstjärnor för produktgranskning beräknas nu korrekt i avsnittet Granska detaljer på sidan Mitt konto.

<!-- MC-39763-->

* Avsnitten för genomsnittlig produktklassificering och produktomdömen på sidan med produktrecensionsinformation återges nu korrekt. Tidigare angavs inte gransknings-ID när programmet beräknade butiksklassificeringen och produktgranskningsmallen inte återgavs korrekt.

<!-- MC-36149-->

* **Var först med att granska den här produkten**-länken ändras nu som förväntat till ett antal granskningar när en administratör har godkänt en granskning.

<!-- ENGCOM-8501 MC-30270-->

* Administratörer kan nu sortera produktrecensioner i produktgranskningsavsnittet på produktredigeringssidan som förväntat. [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* Granskningar sparas nu med rätt arkiv-ID när en administratör har godkänt och sparat granskningen från en annan domän än butiken. [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### Belöningar

<!-- MC-41159-->

* Handlare kan nu annullera en order som helt eller delvis lagts med belöningspunkter efter att kunden som lade ordern har tagits bort från systemet.

<!-- MC-40037-->

* Affärsmän kan nu ta bort belöningspoäng från kundprisreglerna. Tidigare, när en handlare försökte ange **Belöningspoäng** till 0 när en kundvagnsprisregel skapades, kvarstod det tidigare värdet för belöningspoängkvantiteten.

<!-- MC-39890-->

* Belöningspoäng för produktgranskningar är nu kopplade till den relevanta webbplatsen när flera granskningar har godkänts från Admin **Marknadsföring** > **Väntande granskningar** . Tidigare visades inga belöningspunkter i butiken och länkades inte till den relevanta webbplatsen i Admin.

<!-- MC-39820-->

* Programmet uppdaterar nu betalningsmetodlistan när en kund checkar ut med flera adresser antingen checkar ut eller avmarkerar alternativet **Butikskrediter (poäng)**.

### Försäljning

<!-- MC-39796-->

* Administratörsanvändare kan nu göra beställningar för artiklar som inte finns i lager när inställningen **Restorder är tillåten** är aktiverad (**Lager** > **Konfiguration** > **Katalog** > **Lager** > **ProduktStock-alternativ**). Tidigare uppstod ett fel i programmet.

<!-- MC-42280-->

* Nu kan köpare hitta en beställning på sidan Beställningar och Returer när efternamnet slutar med ett blanktecken.

<!-- MC-41438-->

* Fakturor skapas nu med rätt totalsumma när en kundprisregel som tilldelar 100 % rabatt tillämpas på en order som också omfattas av katalogprodukt och rabattskatter och som berättigar till fri frakt. Tidigare hade ordern rätt pris, men fakturan gjorde det inte. [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* Filtreringsorder efter datum ger nu korrekta resultat. Tidigare returnerade programmet inte en order som placerades efter :00 UTC när du filtrerade order efter orderdatum.

<!-- MC-40030-->

* Rutnätet för kreditnotor visar nu rätt valutasymbol när omfattningen **Website** används för attributet **Price** i en distribution med flera butiker.

<!-- MC-40013 ENGCOM-8781-->

* Alternativknappar för betalningsmetoder försvinner inte längre i avsnittet Betalnings- och leveransinformation i utcheckningsarbetsflödet när sidan Admin Create New Order (Skapa ny order) har lästs in igen. [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* Arabisk text visas nu korrekt i fakturor.

<!-- MC-39864-->

* Programmet beräknar nu en del av momssummor för kreditnotor korrekt för kreditnotor som baseras antingen på en order eller en faktura i butiker som distribuerar PayPal Payment Pro som en betalningsgateway. Tidigare tillämpades på beställningar med flera fakturor på hela beställningens moms för annullering av partiella fakturor i kreditnotan.

<!-- MC-39521 ENGCOM-8528-->

* Programmet skapar inte längre slumpmässiga databasdeadlocks när nya beställningsmeddelanden skickas till kunder. Tidigare inträffade dödlägen eftersom programmet sparade hela objektet och dess relaterade objekt i stället för uppdaterade SQL-kolumner. Programmet visade den här typen av fel: `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* På detaljsidan för butiksorder visas nu korrekt levererad produktkvantitet. Tidigare var produktkvantiteter felaktiga eftersom mallen för sidan Orderleverans återgav **Antal levererade** som en `int`. Detta har ändrats till `float`.

<!-- MC-39026-->

* Programmet skickar inte längre kopior av en orderfaktura via e-post när knappen **E-postkopia av faktura** inte är markerad. Tidigare skickade programmet e-post till **kund** och **Skicka e-postkopia till faktura**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* Programmet skapar inte längre dubblettadressposter för ett kundkonto när en ny order skapas från administratören för en befintlig kund. Kryssrutan **Spara i adressbok** har bytt namn till **Lägg till i adressbok** och är nu avmarkerad som standard i Admin.

<!-- MC-38834-->

* Programmet använder nu den logotyp som har överförts i inställningarna för **Logo for HTML Print View** när kunderna skriver ut en order från sitt konto. Tidigare visades LUMA-logotypen i stället för den överförda logotypen.

<!-- MC-38625-->

* Personsökaren med orderobjekt i butiken fungerar nu som väntat när artikelantalet överstiger 20. Tidigare beaktades underordnade produkter i personsökaren och det totala antalet var felaktigt.

<!-- MC-23915 ENGCOM-8713-->

* Programmet visar nu rätt valutasymboler för delsummor och leverans- och hanteringsvärden på ordersidan och på kreditnotssidans rutnät. [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Administratörer som använder Safari kan nu lägga till en produkt i en beställning från administratören. När administratören tidigare klickade på knappen **Lägg till valda produkter för att beställa** visades ikonen för snurrande inläsning och sidan stängdes av. [GitHub-30265](https://github.com/magento/magento2/issues/30265)

### Försäljningsregel

<!-- MC-40671-->

* Programmet tillämpar nu kundprisregler med villkoren **Maximal mängdrabatt för** eller **Rabattkvantitetssteg (Köp X)** korrekt när flera kundvagnsprisregler tillämpas på kundvagnen. Tidigare, om en kundprisregel med **maximal mängdrabatt användes på** eller **ett steg för rabattkvantitet (Köp X)** tillämpades efter en annan kundprisregel, reducerades den totala rabatten till det värde som konfigurerats för **maximal mängdrabatt används på** eller **Rabattsteg (Köp X)** gånger produktpriset.

<!-- MC-39827-->

* Kupongrapporten visar nu korrekt kupongaktivitet i distributioner där en delad databas implementeras.

<!-- MC-39477-->

* Kortprisregler som innehåller villkorskategorin **IS NOT** används nu som förväntat för konfigurerbara underordnade/enkla produkter som inte är tilldelade till en kategori men vars överordnade produkter är tilldelade.

<!-- MC-39034-->

* GraphQL-frågan `cart` returnerar nu korrekt totalsumma för faktureringssteget i en kundvagn när en kupong tillämpas på ordern.

### Sök {#search-heading}

<!-- MC-41138-->

* Kategorisidan innehåller inte längre dessa duplicerade HTML-element-ID:n: `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, `limiter`.

<!-- MC-40981-->

* Oväntade eller irrelevanta träffar tas inte längre med i sökresultaten, och sökningar ger konsekventa resultat både i butiken och i Admin. Programmet använder nu en annan analyserare utan ordstam för delvis ordsökning. Tidigare visade sökresultaten produkter som inte innehöll söknyckelord. (I standardanalysfunktionen ingick en ordstam tidigare och eftersom samma analysator användes vid sökningen för partiell ordsökning kunde sökresultatet ge oväntade eller irrelevanta träffar.)

<!-- MC-40715-->

* Snabbsökning returnerar nu resultat om sökfrågan har flera ord och produktnamnet är konfigurerat som inte sökbart. Tidigare, om produktnamnet inte var sökbart, utlöstes ett frågeundantag i sökfrågor med flera ord.

<!-- MC-40672-->

* Sökresultaten inkluderar nu attributet `weight` som förväntat när det är konfigurerat som sökbart.

<!-- MC-40409-->

* Programmet genererar inte längre något fel när du visar en tom kategorisida med Elasticsearch aktiverat. I stället återges sidan som förväntat och ett informationsmeddelande visas. Tidigare utlöste ett tomt fulltextindex ett undantag på en kategorisida.

<!-- MC-40376-->

* Funktionen för automatisk ifyllning av sökfält fungerar nu som väntat om en kund klickar utanför sökfältet efter att ha påbörjat sin sökning. Nu visas förslag som fylls i automatiskt igen när kunden fortsätter att skriva. Tidigare visades inga förslag för automatisk ifyllnad i programmet och när du klickade i sökrutan visades inte sökförslagen igen (även om du skrev in ytterligare bokstäver).

<!-- MC-34217-->

* Om du söker efter en produkt baserat på hela eller delar av SKU:n i den avancerade sökningen returneras nu den förväntade produkten.

<!-- MC-31395-->

* Navigeringsfilter i flera lager visar nu korrekt antal produkter. Tidigare filtrerades inte produkträkningsvärden från Elasticsearch efter katalogbehörigheter.

<!-- MC-23881 ENGCOM-8618-->

* Elasticsearch genererar inte längre något fel när kategorins URL-sidparameter överskrider sidnumreringen. [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* Du kan nu lägga till en anpassad Elasticsearch-fältmappare i `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`. [GitHub-24350](https://github.com/magento/magento2/issues/24350)

<!-- ENGCOM-9029 MC-24026-->

* Utvecklare kan nu ändra Elasticsearch-mappningar. Tidigare var dynamiska mallar som skickades till Elasticsearch-servern i standardmappningarna hårdkodade, vilket hindrade utvecklare från att indexera i Elasticsearch alla extra data som hör till en anpassad modul. [GitHub-24363](https://github.com/magento/magento2/issues/24363)

<!-- ENGCOM-8464 -->

* Sökfält (formulärminissearch) fungerar nu som väntat när sökförslag har inaktiverats. [GitHub-30584](https://github.com/magento/magento2/issues/30584)

### Leverans

<!-- MC-41464-->

* Programmet uppdaterar nu leveranspriset som väntat när en kund går tillbaka till kundvagnen efter att ha tagit bort en produkt under utcheckningen med flera adresser.

<!-- MC-41343-->

* När vissa artiklar i kundvagnen berättigar till fri frakt visas nu rätt justerade fraktpris. Tidigare justerades inte fraktpriset när en delmängd av artiklarna i varukorgen var berättigade till fri frakt och hela fraktpriset visades för kunden.

<!-- MC-41186-->

* Administratörer som är begränsade till en viss webbplats kan nu skapa en leverans för en order som läggs på samma webbplats. Tidigare utlöstes det här undantaget av programmet när en administratör som saknade behörighet till standardbutiksvyn försökte leverera en order som placerats i en butiksvy som administratören hade åtkomst till: `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* Ansökan tar nu hänsyn till aktuella rabatter på kundvagnsregler när man fastställer om en beställning uppfyller villkoren för fri DHL-frakt.

<!-- MC-40702 ENGCOM-8728-->

* Leveransetiketter använder nu basvalutan som förväntat i stället för ordervalutan för butiker som stöder flera valutor när en order placeras i en annan valuta än basvalutan. [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678 magento/magento2#31925-->

* Programmet visar nu rätt delsumma för beställning när en kund återvänder till kundvagnssidan under utcheckningen efter att ha navigerat bort från sidan för flera leveranser. [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* När du redigerar faktureringsinformation när en administratörsorder skapas ändras inte längre leveransinformationen för kunder med olika standardadresser för frakt och fakturering. [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* Programmet avmarkerar inte längre kryssrutan **Lägg till kommentarer** när en kund klickar på **Hämta leveransmetoder och fraktkostnader** och väljer en leveransmetod när en beställning skapas från administratören. [GitHub-30256](https://github.com/magento/magento2/issues/30256)

<!-- MC-36425-->

* Köpare kan nu använda knappen Bakåt i webbläsaren för att gå tillbaka till sidan Välj leveransmetod när de checkar ut en order med flera adresser. Tidigare visades en skadad sida för Välj leveransmetod. [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* Produktkvantiteten ändras nu inte som väntat efter att en kund har ändrat kvantiteten på Ship till en adresssida med flera adresser och klickat på knappen Bakåt i webbläsaren. [GitHub-31956](https://github.com/magento/magento2/issues/31956)

<!-- ENGCOM-9096-->

* Avgifterna för schablonmässig frakt blir inte längre noll när en kundprisregel tillämpas vid utcheckning. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* Programmet genererar inte längre något fel när en handlare försöker leverera en beställning med DHL när kryssrutan **Skapa leveransetikett** är aktiverad och produktnamnet innehåller unicode-tecken. Tidigare visades det här felet när programmet begärde att etiketter skulle skapas: `The response is in wrong format`. [GitHub-31032](https://github.com/magento/magento2/issues/31032)

<!-- ENGCOM-8952 -->

* Du kan lägga en order från administratören i en flersidig distribution där `United States` är aktiverat på en webbplats och `Disable all countries` är aktiverat som standardomfång på den andra webbplatsen. Tidigare placerade programmet inte ordningen och visade följande fel: `Please check the shipping address information. "regionId" is required. Enter and try again`. [GitHub-30577](https://github.com/magento/magento2/issues/30577)

### Mellanlagring

<!-- MC-39807-->

* Funktionen Schemalägg blockuppdatering fungerar nu som väntat i distributioner som implementeras snabbt. Tidigare uppdaterades inte blockinnehåll eftersom taggarna för snabbcache inte blev ogiltiga och Snabbt fortsatte att leverera föråldrat innehåll.

<!-- MC-41142-->

* Förhandsgranskningen av mellanlagring av kundprisregel läses nu in på lämplig webbplats när den tilldelas till flera webbplatsbutiksvyer. Tidigare lästes förgranskningen av mellanlagring av kundprisregel in i standardbutiksvyn oavsett vilka webbplatser som tilldelats.

<!-- MC-40916-->

* Specialpriser för produkter i butiksvyn som inte är standard sätts nu till standardvärdet efter att en schemalagd uppdatering har avslutats.

<!-- MC-40850  magento/partners-magento2ee#489-->

* Handlarna kan nu spara en nedladdningsbar produkt med ett länkat exempel från den nedladdningsbara produktsidan efter att ha skapat en framtida mellanlagringsuppdatering med ett slutdatum. Tidigare sparade inte programmet produkten och det här meddelandet visades: `The downloadable sample isn't related to the product. Verify the link and try again`. [GitHub-488](https://github.com/magento/partners-magento2ee/issues/488)

<!-- MC-40734-->

* Programmet kör inte längre stora databasfrågor som innehåller alla produkt-ID:n vid förhandsgranskning av en schemauppdatering av en kategori. I stället tillämpas kategorifiltret på produktsamlingen för att skapa en tillfällig tabell för mellanlagringsförhandsvisningar av kategorin. Tidigare infogades alla produkter i ett temporärt register för förhandsgranskning av mellanlagring, vilket försämrade prestanda.

<!-- MC-40714-->

* Modulen `Magento_SalesRuleStaging` utlöser inte längre fel under uppgradering från 2.3.x.

<!-- MC-40697-->

* Programmet visar nu katalogregelvillkor med korrekta data när du visar en schemauppdatering. Tidigare visades inga villkor eller villkor med felaktiga data om du visade en schemauppdatering som skapades med villkor.

<!-- MC-40604-->

* Kryssrutan **Använd standardvärde** för en produkt förblir markerad efter att en schemalagd uppdatering har avmarkerats före uppdateringen.

<!-- MC-40588 magento/partners-magento2ee#463-->

* Katalogprisreglerna gäller nu som förväntat för produkter med odefinierade attributvärden. Tidigare tillämpades inte rabatter som skapades via en katalogprisregel på produkter med odefinierade attribut. [GitHub-461](https://github.com/magento/partners-magento2ee/issues/461)

<!-- MC-40283-->

* Katalogreglerna fungerar nu som väntat i distributioner på flera webbplatser med butiker i olika tidszoner. Tidigare tillämpades eller inaktiverades katalogregler på alla webbplatser samtidigt.

<!-- MC-40054-->

* Nivåpriserna tas inte längre bort när en schemauppdatering skapas för en viss webbplats.

<!-- MC-39784 magento/partners-magento2ee#475-->

* Du kan nu spara en produkt från sidan Hämtningsbar produkt när du har skapat en framtida mellanlagringsuppdatering med ett slutdatum. Tidigare sparade inte programmet produkten och det här meddelandet visades: `The downloadable link isn't related to the product. Verify the link and try again`. [GitHub-474](https://github.com/magento/partners-magento2ee/issues/474)

### Butik

<!-- MC-40538-->

* Programmet hanterar inte längre strängen `0` som ett tomt värde när en butiksstartsida visas. Tidigare behandlades ett heltalsvärde i början av en begärandesökväg som ett lagrings-ID, vilket hade oönskade effekter på SEO.

<!-- MC-40313  magento/magento2#31970-->

* Plugin-program för `\Magento\Framework\App\ActionInterface` under `lib/internal/Magento/Framework/App/Action/Plugin` har tagits bort för att följa riktlinjen att plugin-program ska användas för att anpassa beteendet för en modul från en annan modul. [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* Programmet visar nu det här meddelandet när du försöker välja `Website` som standard när `Store View` inaktiveras när en webbplats skapas: `Please enable your Store View before using this Web Site as Default`. Tidigare kraschade webbplatsen och programmet visade ingen varning.

### Moms

<!-- MC-39571-->

* Programmet tar nu hänsyn till dold moms när minimiorderbeloppet valideras.

<!-- MC-38025 ENGCOM-8612-->

* Nu visas FPT (Fixed Product Taxes) som väntat när en kund går tillbaka till kundvagnen och går vidare till kassan efter att ha lagt till paketprodukterna i kundvagnen. [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* Programmet fyller nu i förväg i inmatningsfälten **Momsnummer** för både fakturerings- och leveransadresserna i adressinformationsdelen på den nya ordersidan för administratörer med sparade momsregistreringsnummer när en administratör skapar en order för en befintlig kund. [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* Programmet visar nu fältet **Momsnummer** på kundregistreringssidan när `customer/create_account/vat_frontend_visibility` är aktiverat. [GitHub-31326](https://github.com/magento/magento2/issues/31326)

### Testa

<!-- MC-41393-->

* Testmiljöer har uppgraderats till Redis 6.0.12.

<!-- ENGCOM-8529-->

* `CacheCleaner::cleanAll();` togs bort från integrationstester. [GitHub-31074](https://github.com/magento/magento2/issues/31074)

<!-- ENGCOM-8898-->

* Ett test har lagts till för det här scenariot: Administratörsanvändare kan redigera ett kundkonto när kunden prenumererar på ett nyhetsbrev i kö. [GitHub-30645](https://github.com/magento/magento2/issues/30645)

<!-- ENGCOM-8484-->

* Kommandot `cache:flush` har tagits bort från tester för att förbättra körningstiden för modulerna `Catalog`, `CatalogUrlRewrite` och `LoginAsCustomer`. [GitHub-31056](https://github.com/magento/magento2/issues/31056)

<!-- ENGCOM-8499-->

* Redundanta parametrar har tagits bort och POST har ändrats till GET där det behövs i `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### Tema

<!-- MC-41474-->

* Det här meddelandet visas inte längre på kundens inloggningssida när inställningen **Flytta JS-kod längst ned på sidan** (**Store** > **Konfigurationer** > **Avancerat** > **Utvecklare** > **JavaScript-inställningar**) och cookies båda är aktiverade: `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* Kontolänkar i rubriker följer nu WCAG-standarder. Tidigare innehöll kontolänkar i rubriker duplicerade ID:n, vilket gjorde att WCAG-valideringen misslyckades.

<!-- MC-40278-->

* Programmet prioriterar nu butikskonfigurationen för en logotypbild framför layoutkonfigurationen. Tidigare var storleken på logotypbilderna fast och varierade inte mellan olika butiker.

<!-- MC-35227-->

* Nu visas sidelementen på samma sätt på butikssidor som använder Adobe Commerce standardteman. Tidigare användes inte alla format i ett tomt tema, så alla sidelement visades inte på sidor med det här temat. (Det fanns till exempel ingen förstoringsikon i sökfältet Mina beställningar.)

### Översättning och nationella inställningar

<!-- MC-23553 ENGCOM-8839-->

* Hakparenteser som läggs till i strängar kan inte längre escape-konverteras när intern översättning är konfigurerad. Tidigare konverterade metoden `escapeHtmlAttr` parenteserna till HTML-entitetskoder. [GitHub-32000](https://github.com/magento/magento2/issues/32000)

<!-- ENGCOM-8694-->

* Oöversättningsbara fraser i administratören kan nu översättas. (Den här pull-begäran bidrar till pågående försök att göra alla Admin-strängar översättningsbara.) [GitHub-1175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* Textsträngar i mallen som används för att hantera lagrade betalningsmetoder (**Mitt konto** > **Lagrade betalningsmetoder** ) är nu översättningsbara. [GitHub-31211](https://github.com/magento/magento2/issues/31211)

<!-- MC-30798 ENGCOM-8717-->

* Ordermeddelanden som skickas från administratören använder nu butikens språkområde, inte det språkområde som är associerat med administratörens konto. [GitHub-26521](https://github.com/magento/magento2/issues/26521)

### UI

<!-- MC-41784-->

* I sidfoten Admin visas nu rätt produktversion.

<!-- MC-41067-->

* Sidnumrering för källor finns nu som förväntat när Admin-försändelsen skapas.

<!-- MC-40240-->

* Produktstödrasterfiltret fungerar nu korrekt när du använder anpassade datumattribut för att filtrera produkter och administratörens språkområde är `en_GB`.

<!-- MC-39279-->

* Fästnings- och zoomningsgester fungerar nu som väntat i bildgalleriet på iOS-enheter.

<!-- MC-38787-->

* Sidnumreringen av sökresultaten för Admin-produktstödrastret börjar nu på sida ett för varje sökning som förväntat.

<!-- MC-38423-->

* Anomalier med visning av kundvagnen när zoomning har åtgärdats. Tidigare överlappades visningselement när den här sidan zoomades.

<!-- MC-38235 magento/partners-magento2ee#492 -->

* Justeringsproblem med flikarna på sidan Administratörsinbjudan (Admin **Markering** > **Privat försäljning** > **Inbjudningar**) har lösts. Tidigare var flikvisningen för inbjudningar som accepterats av en kund feljusterad. [GitHub-333](https://github.com/magento/partners-magento2ee/issues/333)

<!-- MC-38226 magento/magento2#32008-->

* Sidan för ordergranskning som visas vid utcheckning med PayPal Express Checkout har nu lästs in. Tidigare innehöll mallen den oanvända knappen **Uppdatera leveransmetod** som bara delvis doldes av skriptet under sidåtergivningen. [GitHub-32006](https://github.com/magento/magento2/issues/32006)

<!-- MC-37941 magento/magento2#31892-->

* Klassificeringsstjärnor och granskningstext i kundgranskningsavsnittet på produktsidan har nu rätt avstånd när det finns långa klassificeringsnamn. [GitHub-31890](https://github.com/magento/magento2/issues/31890)

<!-- MC-37688-->

* Alternativen visas nu som förväntat i listrutan Åtgärder på sidorna Arkivfakturor, Leveranser och Kreditnotor.

<!-- MC-23729  magento/magento2#31549-->

* Programmet visar nu ett korrekt tidsvärde när alternativet `datetime` component `timeOnly` är inställt på **yes**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* Du kan nu ta bort en layouttsuppdatering efter att du har skapat en ny widget på Admin **Content** > **Widgets**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* Knappen **Ta bort layoutuppdatering** fungerar nu som förväntat på alla layouter som du har lagt till från Admin **Innehåll** > **Widgets**. Tidigare fungerade inte den här knappen för någon annan layout än den första som var markerad när du lade till flera layouter. [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* Programmet använder nu den sidrubrik som är inställd i layoutfilen som webbläsarsidrubrik för filen Redigera kundkonto. Tidigare innebar kontrollenhetsåtgärden `Magento\Customer\Controller\Account\Edit` att sidtitelvärdet användes som `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* Kryssrutor som tillåter handlare att växla mellan att visa och dölja lösenord har lagts till på följande sidor:
   * Kundinloggning
   * Kundregistrering
   * Kundredigering (avsnittet Ändra lösenord)
   * Kund anger nytt lösenord [GitHub-31557](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* Ett överflödigt huvud i rutnätsceller som visades när en administratör lade till en produkt i en grupperad produktuppsättning efter att attributuppsättningen ändrats. [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* Programmet visar nu ett `DateRange`-filter under Inloggad på sidan **Kund** > **Inloggning**. Tidigare visades ett `Text`-filter i programmet. [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* JavaScript har tagits bort från mallfiler och flyttats till separata filer för att minska återgivningsproblem på administratörssidor. Tidigare renderades inte administratörssidor korrekt i distributioner där HTML har miniatyrbildats. Programmet visade följande fel: `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* Widgeten `dropdownDialog` läser nu bara in de `jquery-ui`-segment som kan dras och storleksändras. Tidigare lästes stora mängder onödig kod in, vilket ökade inläsningstiden och minskade prestandan. [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### URL-omskrivningar

<!-- MC-41550-->

* Produkt-URL-omskrivningar för en viss webbplats i en distribuering med flera platser genereras nu som väntat efter att produkter har tilldelats en webbplats via en satsvis uppdatering.

<!-- MC-40780 magento/magento2#32598-->

* Programmet genererar nu URL-sökvägen för underordnade kategorier korrekt när kryssrutan **Använd standardvärde** för URL-nyckeln är aktiverad för den överordnade kategorin. Tidigare resulterade flytten av en kategori i hierarkin i ett felaktigt `url_path`-värde när olika URL-nycklar användes i en distribution av en flerbutiksvy. [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* Programmet uppdaterar nu `url_path` för kategorin som är tilldelad alla butiksomfång när du flyttar en kategori i kategorihierarkin. Tidigare resulterade flytten av en kategori i hierarkin i fel `url_path`.

<!-- MC-39463-->

* URL-omdirigeringar som har skapats från administratören med en anpassad URL fungerar nu korrekt. Tidigare cachelagrade GraphQL svaret från en GraphQL `urlResolver`-fråga och returnerade det gamla värdet efter uppdateringen av URL:en.

<!-- MC-38931  magento/magento2#31106-->

* Återskrivningar av produkt-URL tas nu bort som väntat när en produkt tas bort från en webbplats. [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* En `main_table`-referens har lagts till för `store_id` i funktionen `addStoreFilter` i samlingen `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php`. Tidigare uppstod problem när `join` lades till i samlingen i en tabell som även innehåller en `store_id`-kolumn. [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* REST-slutpunkten `PUT /V1/products/:sku` återskapar nu produkt-URL:en som förväntat. Tidigare genererade slutpunkten om `url_key`-produktvärden, men inte URL-skrivningar. [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### Användare

<!-- MC-40777  magento/magento2#31998-->

* Nu kan du spara en ny användarroll (Admin **System** > **Behörigheter** > **Användarroller**) med hela `Catalog`-trädet markerat med undantag för `Edit Product Design` ( **Katalog** > **Inventering** > **Produkter** > **Redigera produktdesign**) . Tidigare sparade inte programmet produktändringar som gjorts av en användare i den här rollen och följande fel visades: `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* Programmet använder nu rätt anpassad e-postmall när e-post genereras för nya administratörer. Tidigare använde programmet den gamla standardmallen, som utelämnade administratörens för- och efternamn.

<!-- MC-38122-->

* Programmet använder nu rätt e-postmall när e-post skickas till nya användare. Tidigare användes standardmallen i programmet även när en anpassad mall valdes.

### VersionCMS

<!-- MC-39953-->

* Programmet använder nu rätt tema på en CMS-sida när du har ändrat dess layout. Tidigare ändrades det tilldelade temat till Luma när du sparade layoutändringarna, oavsett vilket tema som tilldelats sidan.

<!-- MC-40431-->

* Administratörer med begränsade roller kan nu lägga till, uppdatera eller duplicera de sidor som han/hon har åtkomst till och som är tilldelade till en hierarkinod. Tidigare uppstod ett allvarligt fel i programmet under dessa förhållanden.

### Video

<!-- MC-42059 ENGCOM-9039-->

* Videor finns nu tillgängliga i produktgalleriet som förväntat när avancerat JavaScript-paket är aktiverat och används. [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* YouTube videor för enkla produkter som tillhör en konfigurerbar produkt fungerar nu som förväntat. Tidigare beställdes bilderna efter ID i stället för position. Därför behandlades vissa videor som bilder. [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Visual Merchandiser

<!-- MC-40797-->

* Prestandan för Admin-kategorisidan har förbättrats när Visual Merchandiser läses in. Inläsning av sidor i Admin-kategorin genererar inte längre stora databasfrågor.

### Webb-API-ramverk

<!-- MC-41758-->

* Katalog-API:t uppdaterar nu en produkts anpassade alternativvärden korrekt genom att lägga till nya värden och ta bort gamla värden. Tidigare tog API inte bort de gamla värdena.

<!-- MC-34431-->

* POST `/V1/guest-carts/:cartId/billing-address` returnerar nu adress-ID som ett heltal, inte en sträng.

### Begränsning av webbplatser

<!-- MC-38516-->

* Köpare omdirigeras nu till den sida de försökte gå till innan de blev ombedda att logga in. I distributioner där webbplatsbegränsningar var aktiverade och begränsningsläget var inställt på **Privat försäljning: Endast inloggning** omdirigerades tidigare shopparna till butikens hemsida.

### Widget

<!-- MC-39128-->

* En administratör kan nu ta bort alla layoutuppdateringar för en widget. Tidigare kunde en administratör bara ta bort den första när en widget hade flera layoutuppdateringar.

<!-- MC-39107-->

* Om du klickar på knappen **Lägg till i kundvagnen** på produktwidgeten läses inte längre sidan in igen. Om du tidigare klickade på knappen **Lägg till i kundvagnen** på en produktwidget lästes en aktuell sida in igen innan produkten lades till i kundvagnen.

<!-- MC-23590-->

* CMS-hierarkinodens länkwidget i TinyMCE återger nu hierarkilänkar som förväntat när fältet **Egen ankartext** är tomt.

### Önskningslista

<!-- MC-40651 ENGCOM-8769-->

* Programmet återställer inte längre en konfigurerbar produkts konfigurationsinställningar när du klickar på knappen **Redigera artikel** för produkten i önskelistan. [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* Programmet visar nu rätt produktpris när du uppdaterar en produkt med ett anpassningsbart filalternativ i önskelistan. Tidigare visade programmet fel produktpris och ingen länk till den överförda filen visades.

<!-- MC-39060-->

* Det totala antalet produkter i en önskelista för en kund med flera önskelistor matchar nu antalet artiklar i önskelistan. Tidigare inkluderades produkter som inte fanns i lager i det totala produktantalet.

<!-- MC-36779 magento/magento2#31110-->

* Programmet tar nu bort en produkt från önskelistan efter att ha lagt till den i en beställning. [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* Köpare kan nu lägga till relaterade produkter i kundvagnen från önskelistan. Tidigare lade programmet bara till den konfigurerbara produkten, inte den konfigurerbara produkten och dess relaterade produkter, när en köpare klickade på länken **Välj alla** i avsnittet Relaterade produkter. [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## Kända fel

**Problem**: _JavaScript-fel när reCAPTCHA är inaktiverat_. Om reCAPTCHA är inaktiverat för utcheckning fortsätter utcheckningen, men programmet visar ett `Uncaught TypeError`-fel i konsolloggen.  Problemet åtgärdas i en senare version. <!-- MC-42589 42649-->

**Problem**: _Fel i säkerhetsprincip för innehåll_. I storefront visas följande fel i konsolloggen: `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. Prestanda för Storefront påverkas inte. <!-- MC-42613-->

**Utgåva**: _Anomalier med PayPal-kreditvisning av presentkortsbelopp_. När PayPal-kredit är aktiverad och flera presentkortsbelopp är konfigurerade uppdateras inte beloppet för avbetalningar om en kund ändrar värdet på ett presentkort. En korrigering av problemet kommer att finnas i Adobe Commerce 2.4.4 och Magento Open Source 2.4.4.<!-- MC-42499 AC-344-->

**Utgåva**: _Knappen **Lägg till i beställning**fungerar inte för produkter som lagts till i kundvagnen av SKU_.  I programmet visas det här felmeddelandet när du klickar på knappen **Lägg till i beställning** efter att du har lagt till produkter i beställningen av SKU: `An error has happened during application run`. Produkterna läggs inte till i varukorgen. **Tillfällig lösning**: Använd funktionen Lägg till produkter. <!-- AC-345-->

**Problem**: GraphQL `category` - och `categoryList`-frågorna ignorerar kategoribehörigheter som avgör om kategorier i en delad katalog är dolda eller exponerade. I butiken visas för närvarande alla kategorier som har tilldelats eller inte tilldelats den delade katalogen. Detta påverkar distributioner av Adobe Commerce 2.4.3 som implementerar en PWA storefront för vilken delade B2B-kataloger har aktiverats. <!-- MC-42528-->

## Bidrag från gemenskapen

Vi är tacksamma mot den bredare Magento Open Source-communityn och vill tacka för deras bidrag till denna release.

Community Engineering-teamet [Magento Contributors](https://magento.biterg.io/app/kibana) har en lista över de mest bidragsgivande personerna och partnerna per månad, kvartal och år. På den Contributors-sidan kan du följa länkar till deras sammanslagna PR på GitHub.

### Partnerbidrag

I följande tabell visas partnerernas bidrag. I den här tabellen visas den partner som har bidragit med pull-begäran, den externa pull-begäran och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### Individuella bidrag

Följande tabell visar bidragen från våra communitymedlemmar. I den här tabellen visas externa pull-begäranden, GitHub-utgåvans nummer som är kopplat till den (om tillgängligt) och den community-medlem som bidrog med pull-begäran.

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### Systemkrav

Vår teknikstack bygger på PHP och MySQL. Mer information finns i [Systemkrav](../../../installation/system-requirements.md).

### Installations- och uppgraderingsanvisningar

Du kan installera Adobe Commerce 2.4.3 med [Composer](../../../installation/composer.md).

## Migreringsverktygspaket

Med datamigreringsverktyget kan du överföra befintliga data från Magento 1.x-arkivet till Magento 2.x. Det här kommandoradsgränssnittet innehåller funktioner för verifiering, spårning av förlopp, loggning och testning. Installationsanvisningar finns i [Installera datamigreringsverktyget](../../../tools/data-migration-tool/install.md). Utforska eller bidra till databasen [Datamigrering](https://github.com/magento/data-migration-tool).

Med [Code Migration Toolkit](https://github.com/magento-commerce/code-migration) kan du överföra befintliga Magento 1.x-butikstillägg och anpassningar till Magento 2.x. Kommandoradsgränssnittet innehåller skript för konvertering av Magento 1.x-moduler och -layouter.
