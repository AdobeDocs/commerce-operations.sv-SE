---
title: Versionsinformation om Adobe Commerce 2.4.0
description: Läs om nya funktioner, förbättringar, felkorrigeringar och kända fel i Adobe Commerce version 2.4.0.
exl-id: 8dc18855-b040-4bc3-8c99-dd7e1407b1fa
source-git-commit: 2e62c49dd0c338f0913ce5f725f396c2cfa95122
workflow-type: tm+mt
source-wordcount: '18874'
ht-degree: 0%

---

# Versionsinformation om Adobe Commerce 2.4.0

Adobe Commerce 2.4.0 har nu stöd för PHP 7.4, Elasticsearch 7.6.x och MySQL 8.0. Betydande säkerhetsändringar inkluderar aktivering av tvåfaktorsautentisering i Admin som standard. B2B-förbättringarna inkluderar det nya arbetsflödet för ordergodkännande.

**I den här versionen har integreringen av betalningsmetoden Authorize.Net, Way, CyberSource och Worldplay tagits bort från kärnkoden. Merchants ska migrera till de officiella tillägg som är tillgängliga på Commerce Marketplace**.

>[!NOTE]
>
>**Braintree betalningsintegrering**: Före 2.4.0 rekommenderades att handlare installerar och konfigurerar det officiella Braintree-tillägget för betalningsintegration från Commerce Marketplace för att ersätta kärnintegreringen. I den här versionen (2.4.0) ingår tillägget nu i releasen. Handläggarna måste följa ytterligare steg för att Braintree ska fungera korrekt i en 2.4.0-installation. Mer information om hur du migrerar till 2.4.0 finns i [Braintree](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree).

Den här versionen innehåller alla förbättringar av kärnkvaliteten som ingick i 2.3.5-p1, över 100 nya korrigeringar av kärnkoden och 30 säkerhetsförbättringar. Det innehåller en lösning på 226 GitHub-problem som våra communitymedlemmar har tagit fram. Dessa communitybidrag omfattar allt från mindre rensning av kärnkod till betydande förbättringar i Inventory management och GraphQL.

>[!NOTE]
>
>Mindre releaser ger avsevärda kodförbättringar. Innan du uppgraderar till 2.4.0 måste du kontrollera att miljön uppfyller de [lägsta kraven för teknisk stack](../../../installation/system-requirements.md).

{{bics}}

>[!NOTE]
>
>Paketnamnen på säkerhetsreleaser läggs vanligtvis till med -p1. Vi kunde dock inte undvika att avvika från dessa namnkonventioner med 2.3.5, som i sin tur har haft en tillfällig krusningseffekt på de efterföljande namnen på säkerhetspaketet. Den fullständiga versionen 2.3.5 är 2.3.5-p1. Säkerhetsreleasen som vi kommer att släppa när 2,4 GA:er blir 2,3,5-p2. Vi hoppas kunna återgå till de vanliga namngivningskonventionerna i framtida versioner.

## Använd AC-3022.patch för att fortsätta erbjuda DHL som fraktfirma

DHL har introducerat schemaversion 6.2 och kommer att ersätta schemaversion 6.0 i september 2022. Adobe Commerce 2.4.4 och tidigare versioner som stöder DHL-integration stöder endast version 6.0. Merchants som distribuerar dessa releaser ska tillämpa `AC-3022.patch` så snart som möjligt för att fortsätta erbjuda DHL som fraktfirma. Information om hur du hämtar och installerar korrigeringsfilen finns i [Använd en korrigeringsfil för att fortsätta erbjuda DHL som fraktfirma](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier).

## Säkerhetsuppdatering

Merchants kan nu installera tidskänsliga säkerhetskorrigeringar utan att tillämpa de hundratals funktionella korrigeringar och förbättringar som en fullständig kvartalsversion (till exempel 2.3.5-p2) erbjuder. Patch 2.3.5.2 (Composer package 2.3.5-p2) är en säkerhetspatch som innehåller korrigeringar för säkerhetsluckor som har identifierats i vår tidigare kvartalsversion, 2.3.5-p1. Alla snabbkorrigeringar som tillämpades på version 2.3.5 ingår i den här säkerhetspatchen. (En *snabbkorrigering* åtgärdar ett problem eller ett fel i en släppt version.)

Allmän information om säkerhetsuppdateringar finns i [Introduktion till den nya säkerhetsuppdateringen](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287). Instruktioner om hur du hämtar och tillämpar säkerhetsuppdateringar (inklusive patch 2.3.5-p2) finns i [Snabbstart vid lokal installation](../../../installation/composer.md). Säkerhetsuppdateringar innehåller endast säkerhetsfelkorrigeringar, inte de ytterligare säkerhetsförbättringar som ingår i den fullständiga korrigeringen.

## Annan versionsinformation

Även om koden för de här funktionerna paketeras med kvartalsvisa utgåvor, kommer flera av dessa projekt (till exempel B2B, Page Builder, Inventory management och Progressive Web Applications (PWA) Studio) också att släppas oberoende av varandra. Felkorrigeringar för dessa projekt beskrivs i den separata, projektspecifika versionsinformation som finns i dokumentationen för varje projekt.

## Högdagrar

Leta efter följande högdagrar i den här versionen:

### Betydande säkerhetsförbättringar

Den här versionen innehåller över 30 säkerhetskorrigeringar och plattformssäkerhetsförbättringar.

#### Mer än 30 säkerhetsförbättringar som kan åtgärda säkerhetsluckor som gör det möjligt att exekvera fjärrkod (RCE) och XSS-problem (cross-site scripting)

Inga bekräftade attacker relaterade till dessa problem har inträffat hittills. Vissa säkerhetsluckor kan dock utnyttjas för att få tillgång till kundinformation eller ta över administratörssessioner. De flesta av dessa problem kräver att en angripare först får åtkomst till administratören. Därför påminner vi dig om att vidta alla nödvändiga åtgärder för att skydda din administratör, inklusive men inte begränsat till dessa åtgärder: IP-tillåtelselistning, [tvåfaktorsautentisering](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), användning av ett VPN, användning av en unik plats i stället för `/admin` och god lösenordshygien. Mer information om de här åtgärdade problemen finns i [Säkerhetsuppdateringar för Magento](https://helpx.adobe.com/security/products/magento/apsb20-47.html).

#### Ytterligare säkerhetsförbättringar

* **Implementering av 2FA för administratörskonton, magento.com användarkonton och molnbaserad SSH-åtkomst**

   * **Skyddar ditt administratörskonto**. Dubbelfaktorautentisering (2FA) krävs nu för administratören. Administratörsanvändare måste först konfigurera sin 2FA-fil innan de loggar in i administratören via antingen gränssnittet eller ett webb-API. 2FA är aktiverat som standard. Vi rekommenderar att du inte inaktiverar 2FA-modulen.  Detta extra steg i autentiseringen gör det svårare för obehöriga användare att logga in på administratören utan behörighet. Se [Tvåfaktorautentisering (2FA)](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/). <!-- MC-22631-->

   * **Skyddar ditt konto**. 2FA (Two-factor Authentication) ger ett extra, valfritt säkerhetslager som bättre skyddar ditt magento.com från obehöriga användare som kanske vill använda ditt konto på ett sätt du inte vill. Se [Skydda ditt konto](https://experienceleague.adobe.com/en/docs/commerce-admin/start/commerce-account/commerce-account-secure).

   * **Skyddar molnSSH-åtkomst**. Adobe i molninfrastruktur erbjuder multifaktorautentisering (MFA) för att hantera autentiseringskrav för SSH-åtkomst till molnmiljöer. Multifaktorautentisering för 2FA är inte aktiverat som standard för ett projekt.  Adobe rekommenderar starkt att du aktiverar den här funktionen. Kontakta supporten om du behöver hjälp. Se [Aktivera multifaktorautentisering för SSH-åtkomst](https://experienceleague.adobe.com/en/docs/commerce-cloud-service/user-guide/project/multi-factor-authentication).

* **Mallfiltrets strikta läge är nu aktiverat som standard**. Komponenter (inklusive CMS-sidor och -block) som använder mallfiltret i äldre läge kan vara sårbara för fjärrexekvering av kod (RCE). Om du aktiverar strikt läge som standard kan inte RCE-attacker aktiveras avsiktligt. <!-- MC-22982-->

* **Datarendering för UI-dataleverantörer är nu inaktiverat som standard**. Detta tar bort en möjlighet för skadliga användare att exekvera godtyckliga JavaScript. <!-- MC-17356-->

* **Ny `\Magento\Framework\Escaper`-klass**. Den här klassen tillhandahålls för `.phtml`-mallar och de PHP-klasser som ansvarar för att generera HTML. Den här klassen innehåller HTML saneringsmetoder som är relevanta för flera sammanhang. Den lokala variabeln `$escaper` är tillgänglig i mallar för `.phtml` och bör användas i stället för den borttagna variabeln `$block->escape{method}`. Använd `$escaper` i stället för `$block` eftersom användningen av `$block->escape{method}` har tagits bort.

* **Stöd för filen security.txt**. Filen är en standardfil på servern som hjälper säkerhetsforskare att rapportera potentiella säkerhetsproblem till webbplatsadministratörer.

* **Förbättringar av stödet för CSP (Content Security Policy)**. `SecureHtmlRenderer` har lagts till i ramverket och är tillgänglig i `.phtml` -mallar för att vitlista infogade `style` - och `script` -taggar. Textbundna skript och format tillåts inte med standardkonfigurationen för CSP, som kan åsidosättas av XML-filer. <!-- MC-34433-->

{{cve-notice}}

### Plattformsuppgraderingar

Följande plattformsuppgraderingar förbättrar webbplatsens säkerhet och prestanda. De versioner av PHP och PHPUnit, Elasticsearch, MySQL och andra beroenden som stöds listas i [kraven för teknikstacken](../../../installation/system-requirements.md).

* **Stöd för PHP 7.4 introducerades och PHP 7.1 och 7.2 har tagits bort**. 2.4.0 har nu stöd för PHP 7.4.

* **Stöd för PHPUnit 9.x och borttagning av PHPUnit 6.5**. PHP 7.4 kräver att man använder den senaste PHPUnit-testmiljön, som är PHPUnit 9.x. Commerce Marketplace tilläggsleverantörer måste bekräfta att alla nya tilläggsversioner är kompatibla med PHP 7.4 och att alla enhets- och integrationstester har konfigurerats för att köras med PHPUnit 9.

* **Stöd för Elasticsearch 7.6.x**. Elasticsearch 7.6.x är nu standardkatalogsökmotor för Adobe Commerce och Adobe Commerce. Du kan inte installera eller uppgradera till version 2.4.0 utan att också installera Elasticsearch 7.6.x. Elasticsearch version 2.x-kod har tagits bort. Elasticsearch version 5.x och 6.x har tagits bort och stöds inte längre. Se [Krav för sökmotor](../../../installation/prerequisites/search-engine/overview.md).

* **Stöd för MySQL 8.0**. Version 2.4.x stöder MySQL 8.x. (2.4.0 har testats med MySQL 8.0.20.) Merchants uppmuntras att migrera sina installationer till MySQL 8.x för att dra nytta av förbättrade prestanda, säkerhet och tillförlitlighet. MySQL 5.7 stöds fortfarande för Magento 2.4.x, men MySQL 5.6 stöds inte längre. Du kan inte använda 2.4.x som värd för en MySQL 5.6-databas. Se [MySQL](../../../installation/prerequisites/database/mysql.md).

* **Stöd för MariaDB 10.4**. Stöd för MySQL 8.0 ger säljarna möjlighet att driftsätta MariaDB 10.4 med Adobe Commerce. Även om handlare fortfarande kan använda MariaDB 10.2 med 2.4.0 rekommenderar vi att du uppgraderar till MariaDB 10.4 för bättre prestanda och tillförlitlighet. MariaDB 10.0 och 10.1 stöds inte längre (till följd av att stödet för MySQL 5.6 i den här versionen har tagits bort).
* **Borttagning av sökmotorn för MySQL-kataloger**. MySQL-sökmotorn har tagits bort från 2.4.0 och ersatts som standardsökmotor med Elasticsearch. Elasticsearch har överlägsna sökfunktioner och optimerade katalogprestanda.  Alla handlare måste ha Elasticsearch för att installera och driftsätta 2.4.0. Se [Verifiera att Elasticsearch är installerat](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/prepare/prerequisites.html).

* **Migrering av beroenden i Zend Framework till [Laminas-projektet](https://getlaminas.org/about/foundation)** för att återspegla övergången av Zend Framework till Linux Foundation&#39;s Laminas Project. Zend Framework har tagits bort. Se [Migreringen av Zend Framework till Laminas Project](https://community.magento.com/t5/Magento-DevBlog/Migration-of-Zend-Framework-to-the-Laminas-Project/ba-p/443251) DevBlog post.

* **Disposition av Controllers** tillåter tilläggsutvecklare att implementera ActionInterface direkt utan supertypsklasser för lager. Se [Dispositionen för Controllers](https://community.magento.com/t5/Magento-DevBlog/Decomposition-of-Magento-Controllers/ba-p/430883) DevBlog post. _Förbättringen startades av Vinai Kopp i pull-begäran [&#x200B; 16268](https://github.com/magento/magento2/pull/16268) och slutfördes av Lukasz Bajsarowicz i pull-begäran [&#x200B; 26778](https://github.com/magento/magento2/pull/26778)_. [GitHub-9582](https://github.com/magento/magento2/issues/9582)

* **Borttagning av kärnintegreringen av koden för det signerade bedrägeriskyddet**. Den här kärnfunktionen stöds inte längre. Merchants ska migrera till det [signerade tillägget Bedrägeri och återbetalningsskydd](https://marketplace.magento.com/signifyd-module-connect.html) som är tillgängligt på Commerce Marketplace.

* Braintree-huvudmodulen **har tagits bort från kodbasen**. Nu har Braintree Payments-modulen samma funktionsuppsättning. Se [Braintree-betalningar](https://marketplace.magento.com/paypal-module-braintree.html).

* Webbläsaren Internet Explorer 1.x stöds inte längre.

### Förbättrade infrastrukturer

Den här versionen innehåller förbättringar av kärnkvaliteten, som förbättrar ramverkets kvalitet och de här modulerna: Kundkonto, Katalog, CMS, Import, Kundvagn och Kassa samt B2B.

* **Borttagning av kärnintegrering av betalningsmetoder från tredje part**. I den här versionen har integreringen av betalningsmetoden Authorize.Net tagits bort från kärnkoden. Handlare bör migrera till den officiella utbyggnaden som är tillgänglig på Commerce Marketplace. Se [Borttagning av devblogginlägg för betalningsintegreringar](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Magento-core-payment-integrations/ba-p/426445). <!-- MC-29029-->

* **Stöd för delvis ordsökning för Elasticsearch (ny standardsökmotor)**. Elasticsearch stöder nu användning av delar av ord i söktermer för produktnamn och SKU:er vid snabb sökning. Den här funktionen stöds av sökmotorn MySQL, som har ersatts av Elasticsearch i den här versionen.

* **Uppgradering av PayPal JavaScript SDK**. Vi har migrerat integreringen av PayPal Express Checkout till den senaste PayPal JavaScript SDK, en SDK som automatiskt samlar in och överför nödvändiga riskparametrar till PayPal. Beteendet för betalningsmetoden PayPal Express Checkout ändras inte. Om du uppgraderar denna SDK till den senaste versionen får handlarna tillgång till de senaste funktionerna och säkerhetsförbättringarna. <!-- MC-30962-->

* **Guiden Konfigurera webben har tagits bort**. Du måste använda kommandoraden för att installera eller uppgradera 2.4.0. Se [Installera Magento](../../../installation/advanced.md).

* **Plugin-programmet för uppdatering av disposition**. Composer-plugin-programmet effektiviserar uppgraderingsprocessen genom att matcha ändringar som måste göras i rotprojektfilen `composer.json` innan den uppdateras till en ny version. Denna plugin skyddar mot överskrivningsanpassningar. Se [Uppgradera med Composer-rotplugin](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html).

* **Säljassisterad handla**. Med den här funktionen kan handlare visa butiken för sina kunder. Kunderna väljer att tillåta butiksåtkomst till sina konton. Den här communityutvecklade funktionen innehåller ett ursprungligt tillägg som utvecklats av [MAGEFAN](https://magefan.com/). Se [Säljassisterade inköp](https://experienceleague.adobe.com/en/docs/commerce-admin/config/customers/login-as-customer). Funktioner:

   * Behörighetslista som styr vilka administratörer som kan logga in på kundkonton kan konfigureras per webbplats
   * Kompatibilitet med flera webbplatser och kundkontoomfång
   * Beställningar som gjorts för kunders räkning loggas i butiken och administratören
   * Alla sessioner tas bort efter administratörsinloggning och administratörer kan inte komma åt kundlösenord.

### Prestandaförbättringar

* **Förbättringar av logik för ogiltigförklaring av kunddataavsnitt**. I den här versionen introduceras ett nytt sätt att ogiltigförklara alla kundsektionsdata som undviker ett känt problem med lokal lagring när anpassade `sections.xml`-ogiltigförklaringar är aktiva.  (Tidigare fylldes inte privat innehåll (lokal lagring) korrekt när du hade en anpassad *etc/frontend/sections.xml* med åtgärdsåvningar.) Se [Privat innehåll](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

* **Flera optimeringar av Redis-prestanda**. Förbättringarna minimerar antalet frågor till Redis som utförs på varje begäran. Bland dessa optimeringar finns:

   * Minska storleken på överföringar av nätverksdata mellan Redis och Magento

   * Minska Redis förbrukning av CPU-cykler genom att förbättra adapterns förmåga att automatiskt avgöra vad som behöver läsas in

   * Reducering av tävlingsvillkoren för Redis write-operationer

  Se [Använd Redis för sidan och standardcachen](../../../configuration/cache/redis-pg-cache.md) och [Konfigurera cachning](../../../configuration/cache/caching-overview.md).

* **Förbättrad cachelagring av resultat från SQL-frågor i lagertabeller**. Bland dessa förbättringar finns:

   * Cachelagring av SQL-frågor i tabellen `inventory_stock_sales_channel` (1 fråga i stället för 16)

   * Cachelagring av resultat från frågor i tabellen `inventory_stock` (1 fråga i stället för 16)

* **Förbättring av upp till 25-30 % för tilläggsprestanda för snabborder**.

* Merchants kan nu använda [lazy loading](https://en.wikipedia.org/wiki/Lazy_loading) för att läsa in bilder.

### Adobe Stock Integration v2.0

**Möjlighet att licensiera förhandsvisningar av stockbilder från mediegalleriet**. Nu kan man hitta en Adobe Stock-förhandsvisningsbild i Mediegalleriet, vilket minskar antalet steg som krävs för att licensiera förhandsvisningsbilden.

### Nytt mediegalleri

Ersättningen för det tidigare Media Gallery har ett nytt sökbart gränssnitt för medieresurser. Administratörer kan nu söka, filtrera och sortera bilder upp till 30 gånger snabbare än de kunde i den tidigare versionen av den här funktionen. Handlare kan använda det här verktyget för att utvärdera användningen av butiksbilder. Tilläggsutvecklare bör vara medvetna om att tillägg som har utvecklats för Mediegalleriet inte kommer att fungera som förväntat med det nya mediegalleriet.

### Page Builder

Page Builder stöder nu PHP 7.4.

### Inventory management

Bland Inventory management förbättringar i den här versionen finns stöd för upphämtning i butik och produktsupport i paket. Mer information om de senaste felkorrigeringarna för Inventory management finns i [Inventory management versionsinformation](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html).

### GraphQL

Bland nyheterna i GraphQL finns:

* `pickupLocations`-frågan har stöd för lagerupphämtningsfunktionen i butiken
* `categories`-frågan returnerar en lista med kategorier som matchar ett angivet filter. Den här frågan skiljer sig från frågan `categoryList` eftersom den stöder sidnumrering.
* `reorderItems`-mutation gör att en inloggad användare kan lägga till alla produkter från en tidigare order i kundvagnen.

Mer information om den här och andra förbättringar finns i [GraphQL Developer Guide](https://developer.adobe.com/commerce/webapi/graphql/). Mer information om de senaste felkorrigeringarna för GraphQL finns i [Versionsinformation](https://developer.adobe.com/commerce/webapi/graphql/release-notes/).

### PWA Studio

Se [kompatibilitet](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) för en lista över PWA Studio-versioner och deras kompatibla versioner. Mer information om förbättringar och felkorrigeringar finns i [PWA Studio-utgåvor](https://github.com/magento/pwa-studio/releases).

### B2B

**Arbetsflödesfunktion för ordergodkännande för B2B**. Med ordergodkännanden kan chefer för inköpsorganisationer konfigurera godkännanderegler för sina köpare. Se [Godkännanderegler](https://experienceleague.adobe.com/en/docs/commerce-admin/b2b/purchase-orders/account-dashboard-approval-rules). Funktioner:

* Självbetjäningskonfiguration av unika godkännanderegler för varje företagskonto
* Regelkriterier som kan baseras på orderbelopp, antal radartiklar eller leveranskostnad med konfigurerbara tröskelvärden
* Anpassningsbara behörigheter för alla aspekter av funktionen
* Snabb butiksvy över inköpsorder som kräver godkännande
* Fullständig historiklogg över åtgärder som har utförts på varje inköpsorder
* E-postmeddelande till berörda parter under alla steg i godkännandeprocessen.

Den här versionen innehåller även flera felkorrigeringar. Se [Versionsinformation för B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### Functional Testing Framework (MFTF)

MFTF v3.0.0 innehåller dessa nya funktioner och har stöd för PHP 7.4 och PHPUnit 9:

* MFTF-hjälpredor, som kan skapa anpassade åtgärder utanför testramverket
* schemauppdateringar för testentiteter
* undermappar i testmoduler
* kapslad kontrollsyntax
* statisk kontroll som kontrollerar och rapporterar referenser till inaktuella testenheter

Den här versionen tar också bort inaktuella åtgärder och uppgraderar skript som lagts till i uppgraderingstester till större krav för MFTF.

### Förbättringar av leverantörsutvecklade tillägg

Den här versionen innehåller tillägg som utvecklats av tredjepartsleverantörer. Här introduceras både kvalitets- och UX-förbättringar för dessa tillägg och en utökning av MFTF-täckning.

Commerce Marketplace tilläggsleverantörer bör bekräfta att deras tillägg är kompatibla med PHP 7.4 när de publicerar en ny version av sitt tillägg för 2.4.0.

#### dotdigital

Den här versionen innehåller följande förbättringar:

* Värden för kundattribut som hämtas av en indatatyp (till exempel listruta, flerval) synkroniseras nu korrekt som datafält.
* Data om kundinsikter skickas nu för alla aktiva offerter, även om de inte innehåller några objekt. Detta gör att handlare kan avsluta kontakter från ett program om de tömmer sin kundvagn.
* Handlare kan nu synkronisera webbplatsnamn, butiksnamn och butiksvynamn efter enskilda datafält.
* Synkronisering av önskelistor, granskningar och beställningar söker nu bara en gång efter gränsen för transaktionsdata.
* Loggningsutdata från klassen Client har förbättrats och är nu konsekvent över alla metoder i API-omslutningen.
* Konfigurerbara produkter har nu en aktiekurs som är summan av deras underordnade produkter.
* Ett nytt plugin-program identifierar arkivuppdateringar som utförs av kod från tredje part (utanför Admin).
* Informationen om datamappning och konfiguration av transaktionsmejl har uppdaterats.

#### Amazon Pay

Den här versionen innehåller:

* Uppdateringar av CSP-tillåtelselista
* Möjlighet att göra flera auktoriseringar för en order med flera artiklar
* Stöd för japanska adresser

#### Braintree Payments

Det här paketerade tillägget ersätter vår Braintree-integration, som har tagits bort i den här versionen. Se [Braintree-betalningar](https://marketplace.magento.com/paypal-module-braintree.html).

#### Klarna

Den här versionen innehåller nya alternativ för meddelanden på plats som hjälper kunderna att förstå tillgängliga kredit- och finansieringsalternativ. Den innehåller även förbättringar av:

* återbetalningar
* API-effektivitet
* cookies och enhetstester
* rabatter
* konfigurationsinställningarna innehåller nu avsnittet On-Site Messaging för att styra butiksvisningen av Klarnas kampanjmeddelanden

#### Hörn

Den här versionen av Vertex innehåller följande nya funktioner och förbättringar:

* Förbättringar av användarupplevelsen för administratörskonfigurationen
* Ersättning av installations- och uppgraderingsskript med XML-schemafiler och korrigeringsfiler
* Borttagning av inaktuell kod (`ApiClient` och `ClientInterface`)

#### Yotpo

Yotpo Ratings and Reviews är integrerat med Page Builder.

## Åtgärdade problem

Vi har åtgärdat hundratals problem i 2.4.0-kärnkoden.

### Installation, uppgradering, driftsättning

<!-- MC-23940-->

* Du kan nu ta bort en webbplats tillsammans med webbplatsens omfattningsspecifika konfigurationsinställningar i `app/etc/config.php` som förväntat. När du tidigare försökte ta bort webbplatsen misslyckades åtgärden och följande fel visades i programmet: `The website with code xxx that was requested wasn't found. Verify the website and try again`. Dessutom visade programmet det här felet på butiken: `Config files have changed. Run app:config:import or setup:upgrade command to synchronize configuration`. [GitHub-24061](https://github.com/magento/magento2/issues/24061)

<!-- MC-30140-->

* Konfigurationsinställningar som är inaktiverade i `index.php` kan inte längre redigeras från administratören.

<!-- MC-32405-->

* Adobe Commerce-installationen har slutförts och butikerna skapas som förväntat när butikskonfigurationen är fördefinierad i `config.php`.

<!-- MC-33151-->

* `\Magento\Store\App\Config\Source\RuntimeConfigSource::getEntities` har omarbetats för att minska antalet `SHOW TABLE STATUS` frågor som skapas. (Den här ändringen återgår till funktionen som den här funktionen visade i 2.3.3.)

<!-- MC-23890-->

* Dataskript körs inte längre igen när du försöker uppgradera databasen genom att köra `bin/magento setup:upgrade`. Tidigare kördes uppgraderingsskript om i onödan, vilket påverkade prestandan. [GitHub-19469](https://github.com/magento/magento2/issues/19469)

<!-- MC-30397-->

* Programmet visar nu följande beteenden när anslutningen till Redis avbryts. Tidigare lästes inte den aktuella sidan in igen och följande fel visades: `An error has happened during application run. See exception log for details`.

   * Sessioner med administratörer och butiker förfaller
   * Administratörer och butiksanvändare måste logga in igen
   * Sessionsdata sparas i `var/session/`
   * Inga fel eller undantag loggas.

<!-- ENGCOM-6686-->

* Kommandot `bin/magento setup:di:compile` misslyckas inte längre med anonyma klasser. _Korrigering har skickats av Yevhen Sentiabov i pull-begäran [26533](https://github.com/magento/magento2/pull/26533)_. [GitHub-26532](https://github.com/magento/magento2/issues/26532), [GitHub-21555](https://github.com/magento/magento2/issues/21555)

<!-- ENGCOM-5546-->

* Problem med LESS-kompilering i Magento Luma-temat när en alternativ LESS-kompilator används än den som levereras med programmet som standard har åtgärdats. _Korrigering har skickats av Pieter Hoste i pull-begäran [24003](https://github.com/magento/magento2/pull/24003)_. [GitHub-23619](https://github.com/magento/magento2/issues/23619)

<!-- ENGCOM-6367-->

* Du behöver inte längre ha en skrivbar `env.php`-fil när du växlar till underhållsläge. I stället anger programmet `no-cache` rubriker för alla klientförfrågningar i underhållsläge (`Cache-Control`). Tidigare kunde du inte aktivera underhållsläge när `env.php` var skrivskyddad och programmet försökte inaktivera FPC när det växlade till underhållsläge. _Korrigering har skickats av Marco K̦-paketet i pull-begäran [25790](https://github.com/magento/magento2/pull/25790)_. [GitHub-24229](https://github.com/magento/magento2/issues/24229)

<!-- ENGCOM-7236-->

* `db-ssl-verify` resulterar inte längre i ett odefinierat indexfel under en `ddev` -konfiguration. _Korrigering har skickats av Daniel Ruf i pull-begäran [&#x200B; 26763](https://github.com/magento/magento2/pull/26763)_. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-6247-->

* Composer-beroenden har uppdaterats för att implementera Redis-nyckelns förfallodatum, vilket har förbättrat Redis prestanda. _Korrigering har skickats av toxix i pull-begäran [&#x200B; 25488](https://github.com/magento/magento2/pull/25488)_. [GitHub-25487](https://github.com/magento/magento2/issues/25487)

### AdminGWS

<!-- MC-33031-->

* Administratörer med begränsat rollomfång kan nu ändra alternativ text och programmet sparar dessa värden. Om en administratör inte har behörighet att ändra alternativ text är alt-textrutan nedtonad.

### Adobe Stock Integration

<!-- ENGCOM-6507-->

* CSS-format har lagts till i Adobe Stock bildvisning för att stödja markering av den markerade bilden.  _Korrigering har skickats av Serhiy Zhovnir i pull-begäran [25864](https://github.com/magento/magento2/pull/25864)_. [GitHub-761](https://github.com/magento/adobe-stock-integration/issues/761)

<!-- ENGCOM-7021-->

* Navigering genom Adobe Stock-förhandsvisningsbilder aktiveras inte längre när inmatningsfältets markör flyttas med piltangenterna.  _Korrigering har skickats av Adarsh Manickam i pull-begäran [27138](https://github.com/magento/magento2/pull/27138)_. [GitHub-973](https://github.com/magento/adobe-stock-integration/issues/973)

<!-- ENGCOM-6840-->

* Programmet cache-lagrar nu meddelanden om fel som inträffar när en kund försöker tillämpa ett filter på Adobe Stock-bilder. _Korrigering har skickats av Shankar Konar i pull-begäran [26502](https://github.com/magento/magento2/pull/26502)_. [GitHub-863](https://github.com/magento/adobe-stock-integration/issues/863)

<!-- ENGCOM-7195-->

* Programmet sparar inte längre en förhandsvisning av en Adobe Stock-bild när du flyttar markören till fönstrets vänstra lodräta rullningslist efter att du klickat på **Spara förhandsvisning**, men inte som en bekräftelse på sparandet. _Korrigering har skickats av Serhiy Zhovnir i pull-begäran [27399](https://github.com/magento/magento2/pull/27399)_. [GitHub-1002](https://github.com/magento/adobe-stock-integration/issues/1002)

### Analyser

<!-- MC-32086-->

* Analysrapporten för en butik är nu tillgänglig som förväntat efter att du har ändrat butikens URL. Tidigare visades ett 404-fel när du försökte komma åt rapporten efter att URL:en ändrades.

<!-- MC-32085-->

* Datasynkronisering för analysrapporter aktiveras nu som förväntat när AIR-prenumerationer aktiveras.

### Backend

<!-- MC-25036-->

* E-postmallar (**Admin** > **Marknadsföring** > **Kommunikation** > **E-postmallar**) kan nu förhandsgranskas från administratören när JavaScript minification är aktiverat. Tidigare när du försökte förhandsgranska en e-postmall var popup-fönstret E-postförhandsvisning tomt. [GitHub-25068](https://github.com/magento/magento2/issues/25068)

<!-- ENGCOM-6433-->

* Administratörer kan nu logga in på Admin som förväntat efter att ett administratörskonto med begränsad behörighet har skapats. Administratören var inte tillgänglig tidigare. I stället omdirigerades användare med dessa behörigheter till butiken med ett 404-fel. _Korrigering har skickats av Eden Duong i pull-begäran [25909](https://github.com/magento/magento2/pull/25909)_. [GitHub-25881](https://github.com/magento/magento2/issues/25881)

<!-- ENGCOM-6785-->

* Programmet duplicerar inte längre SEO-data som URL-nyckel, metatitel, meta-nyckelord och metabeskrivning när du duplicerar en produkt.  _Korrigering har skickats av Dasharth-patelen i pull-begäran [26659](https://github.com/magento/magento2/pull/26659)_. [GitHub-26054](https://github.com/magento/magento2/issues/26054)

<!-- ENGCOM-6442-->

* Programmet genererar inte längre något fel när du tar bort en bild från en sida när du skapar den från **Admin** > **Innehåll** > **Sidor** >  **Lägg till ny sida**. Tidigare uppstod detta fel i utvecklarkonsolen: `500 (Internal Server Error)`. _Korrigering har skickats av Eden Duong i pull-begäran [25924](https://github.com/magento/magento2/pull/25924)_. [GitHub-25893](https://github.com/magento/magento2/issues/25893)

### Paketprodukter

<!-- MC-25251-->

* Prestandan för omindexeringsåtgärden `catalog_product_price` för paketprodukter har förbättrats.

<!-- MC-29633-->

* Administratörer kan inte längre ange en momsklass manuellt i Admin för en paketprodukt när paketproduktens inställningar **Skatteklass** och **Dynamiskt pris** är inaktiverade för standardbutiksvyn. När en administratör tidigare avmarkerade alternativet **Använd standardvärde** bredvid **Skatteklass** aktiverades alternativet av programmet, vilket ger en administratör rätt att ange ett annat värde och spara produkten.

<!-- MC-30257-->

* Priserna för programpaketet beräknas nu korrekt på produktsidorna.

<!-- MC-29745-->

* Du kan nu lägga till valfritt antal paketprodukter i kundvagnen utan fel. När du tidigare lade till en paketprodukt i kundvagnen och sedan navigerade till kundvagnen, visades följande fel i programmet: `Please correct the quantity for some products`.

### Cache

<!-- ENGCOM-7114-->

* `cache.xsd`-schemat från `Magento\Framework\Cache` har omarbetats så att en cachetyp utan ett `instance`-attribut inte längre orsakar undantag när du inaktiverar en modul via hanteringen av administratörscachen. Tidigare när du skapade en cachetyp med `cache.xml` utan argumentet `instance` utlöstes ett undantag i programmet när du försökte inaktivera det.  _Korrigering har skickats av Anziazychnyi i pull-begäran [27307](https://github.com/magento/magento2/pull/27307)_. [GitHub-26224](https://github.com/magento/magento2/issues/26224)

<!-- ENGCOM-6834-->

* `health_check.php` misslyckas inte längre om en databascachemotor har konfigurerats i distributionen. _Korrigering har skickats av Anziazychnyi i pull-begäran [25722](https://github.com/magento/magento2/pull/25722)_. [GitHub-25669](https://github.com/magento/magento2/issues/25669)

### Kundvagn och kassan

<!-- MC-23870-->

* Programmet genererar inte längre något fel vid utcheckning när konfigurationsinställningen **Synkronisera med serverdel** är aktiverad. [GitHub-23833](https://github.com/magento/magento2/issues/23833)

<!-- MC-29786-->

* Alternativknappar för leveransmetoder är nu aktiverade som förväntat i arbetsflödet för utcheckning.

<!-- MC-30258-->

* Ordergranskningssidan i utcheckningsarbetsflödet läses nu in korrekt för en order som skickas till flera adresser när villkor med inställningen **Används manuellt** är aktiverat. Tidigare godkändes inte valideringen på granskningssidan och ett 404-fel visades i programmet.

<!-- MC-32330-->

* Nu visas snurrikonen medan priserna uppdateras i kundvagnen.

<!-- MC-33230-->

* Programmet visar nu ett informativt meddelande när en produkt i mini-vagnen inte är i lager före utcheckning. När du har tagit bort det inaktuella objektet visas knappen **Fortsätt till utcheckning**. Tidigare visades inte den här knappen i programmet.

<!-- MC-31391-->

* Programmet visar nu ett informativt felmeddelande när du försöker lägga till en produkt genom att klicka på **Beställ av SKU** när filen som ska överföras är skadad. Tidigare visade programmet en tom sida.

<!-- MC-32962-->

* Programmet tillämpar nu kundprisregler endast på de underordnade paketprodukter som matchar regelvillkoren. Tidigare tillämpades kundvagnsprisregeln på alla underordnade produkter som tillhör paketprodukten.

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection` har ersatts med `StorefrontMinicartSection` i MFTF-test.   _Korrigering har skickats av Android Kalinich i pull-begäran [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-6389-->

* Hårdkodade referenser till landväljarkomponenten i leveransadressformuläret har tagits bort.  _Korrigering har skickats av Mateusz Krzeszowiak i pull-begäran [25541](https://github.com/magento/magento2/pull/25541)_. [GitHub-22416](https://github.com/magento/magento2/issues/22416)

<!-- ENGCOM-6522-->

* Programmet stryker inte längre under ikonen Ta bort i kundvagnen när markören hålls över ikonen när butiken visas i Internet Explorer.  _Korrigering har skickats av divyajyothi5321 i pull-begäran [26173](https://github.com/magento/magento2/pull/26173)_. [GitHub-26164](https://github.com/magento/magento2/issues/26164)

<!-- ENGCOM-6615-->

* När du ändrar faktureringsgatan ändras inte längre kundens leveransadress när en enda adress har valts för både fakturerings- och leveransadress. _Korrigering har skickats av Yurii Tvardyi i pull-begäran [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

<!-- ENGCOM-6251-->

* Kampanjregionen för minivagnen återges nu som förväntat. _Korrigering har skickats av Matti Vapa i pull-begäran [25375](https://github.com/magento/magento2/pull/25375)_. [GitHub-25373](https://github.com/magento/magento2/issues/25373)

### Kundprisregel

<!-- MC-23986-->

* Kundprisregler som baseras på betalningsmetoder tillämpas nu under arbetsflödet för utcheckning. [GitHub-24206](https://github.com/magento/magento2/issues/24206)

<!-- ENGCOM-6550-->

* Beteendet för sidelementet Datepicker har korrigerats på **Admin** > **Marknadsföring** > **Kampanjer** > **Katalogprisregel**. _Korrigering har skickats av Hitesh i pull-begäran [26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection` har ersatts med `StorefrontMinicartSection` i MFTF-test.   _Korrigering har skickats av Android Kalinich i pull-begäran [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-5822-->

* Det oanvända kupongrutnätet i arbetsflödet för att skapa ny kundprisregel har inaktiverats. _Korrigering har skickats av Eden Duong i pull-begäran [24471](https://github.com/magento/magento2/pull/24471)_. [GitHub-24468](https://github.com/magento/magento2/issues/24468)

<!-- ENGCOM-6615-->

* När du ändrar faktureringsgatan ändras inte längre kundens leveransadress när en enda adress har valts för både fakturerings- och leveransadressen. _Korrigering har skickats av Yurii Tvardyi i pull-begäran [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

### Katalog

<!-- MC-23633-->

* Programmet inaktiverar nu möjligheten för en begränsad administratör att ändra en produkts kvantitetsattribut och inaktiverar avancerat lager som förväntat. Tidigare påverkades bara den visuella visningen av attributet quantity, och sedan ändrades värdet för quantity i databasen när produkten sparades.

<!-- MC-25235-->

* Programmet genererar inte längre något fel när du ändrar namnet på en produkt i flera nivåer som ingår i en schemalagd uppdatering. När du tidigare försökte spara produkten med ett nytt namn visades följande fel i programmet: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3-0-0-2.0000-0' for key 'UNQ_EBC6A54F44DFA66FA9024CAD97FED6C7', query was: INSERT INTO catalog_product_entity_tier_price (all_groups, customer_group_id, qty, value, website_id, percentage_value, row_id) VALUES (?, ?, ?, ?, ?, ?, ?)`

<!-- MC-29023-->

* Anpassade attributvärden kan nu sparas som förväntat från administratören.

<!-- MC-29775-->

* Funktionen Senaste visning av produkter visar nu produkter som bara är associerade med den aktuella butiksvyn i distributioner av flera butiker när **Lagrar** > **Konfigurationer** > **Katalog** > **Senast visade/jämförda produkter** > **Visa för aktuell** är inställd på **butiksvy**. Tidigare visades produkter från alla webbplatser i programmet, oavsett vilken webbplats produkten var tilldelad.

<!-- MC-29896-->

* Programmet visar nu produktbilder i minivagnen utan förvrängning. Tidigare sträckte programmet ut bilden i minivagnen så att hela bildbehållarens bredd och höjd fylldes.

<!-- MC-29866-->

* Funktionen `getBasePrice` returnerar nu ett flyttal som förväntat i stället för en sträng.

<!-- MC-30229-->

* Jämförelsefunktionen fungerar nu som förväntat. Nu visas endast produkter i den aktuella användarens jämförelselista.

<!-- MC-30234-->

* Du kan nu tilldela en standardvattenstämpel till ett tema. Tidigare uppstod ett allvarligt fel när vattenstämpeln tilldelades.

<!-- MC-30540-->

* Du kan nu redigera en konfigurerbar produkt med många varianter (ungefär 5 000) från administratören. När du tidigare försökte redigera en konfigurerbar produkt med många underprodukter visades följande fel i programmet: `Warning: DOMDocumentFragment::appendXML(): Entity: line 1: parser error : CData section too big found in /vendor/magento/framework/View/TemplateEngine/Xhtml/Template.php on line 60`

<!-- MC-30734-->

* Sortering efter attributuppsättningar i **Admin** > **Katalog** > **Produkter** baseras nu på alfabetisk ordning som förväntat.

<!-- MC-30794-->

* Funktionen Senast visade produkter fungerar nu som väntat i distributioner i flera butiker.

<!-- MC-31837-->

* Administratörer med begränsad behörighet till Katalog kan nu skapa en hämtningsbar produkt. Tidigare gick det inte att skapa en nedladdningsbar produkt och ett fel uppstod i programmet.

<!-- MC-31838-->

* Kryssrutan **Produkt i webbplatser** för den nya produktsidan är nu aktiverad som standard för begränsade administratörer i distributioner på flera platser. Tidigare var kryssrutan för den icke-förvalda webbplatsen inte förmarkerad och om administratören avmarkerade kryssrutan visas ett felmeddelande.

<!-- MC-32772-->

* `addToCart` händelser spåras nu som förväntat i datalagret. Tidigare lades den nya **-händelsen inte till i datalagret när du ändrat de konfigurerbara alternativen för en produkt och sedan klickade på** Lägg till i kundvagnen`addToCart`.

<!-- MC-29449-->

* I kundvagnen i minikundvagnen och i kundvagnen i administratörer (**Admin** > **Kunder** > **Hantera kundvagn**) visas nu korrekta produktpriser när en regel för katalogpris tillämpas. Tidigare visade butiksvagnen rätt produktpris, men mini-vagnen och Admin-kundvagnen visade det ursprungliga produktpriset.

<!-- MC-30777-->

* Filtrering på webbplatskolumnen för Admin-produktstödrastret fungerar nu som förväntat. Tidigare visade filterresultaten inte rätt antal produkter, men visade konsekvent det totala antalet produkter som 1.

<!-- MC-31432-->

* Prisvillkoret använder `catalog_product_entity_decimal` för att filtrera efter pris. Den här tabellen innehåller dock inga poster för konfigurerbara, dynamiska och grupperade produkter eftersom dessa produkter inte har något fast pris. Den korrekta tabell som ska användas för filtrering efter pris är `catalog_product_index_price`.

<!-- ENGCOM-7104-->

* I Admin-katalogen och produktlistorna visas nu valutasymboler i kolumnerna MSRP, Cost och Special Price. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27261](https://github.com/magento/magento2/pull/27261)_. [GitHub-21910](https://github.com/magento/magento2/issues/21910), [GitHub-20906](https://github.com/magento/magento2/issues/20906), [GitHub-20472](https://github.com/magento/magento2/issues/20472)

<!-- ENGCOM-6375-->

* Popup-fönstret Lägg till för kundgruppspris (**Admin** > **Katalog** > **Produkter** > **Ny produkt** > **Avancerade priser**) stängs nu som förväntat när du klickar på stängningsikonen. _Korrigering har skickats av Ashna-Jahan i pull-begäran [25759](https://github.com/magento/magento2/pull/25759)_. [GitHub-25433](https://github.com/magento/magento2/issues/25433)

<!-- ENGCOM-6300-->

* Exempelbeskrivningen som anges för en ny produkts beskrivning och titel innehåller inte längre dubbla citattecken.  _Åtgärd har skickats av Nathan Morgan i pull-begäran [&#x200B; 25655](https://github.com/magento/magento2/pull/25655)_. [GitHub-25654](https://github.com/magento/magento2/issues/25654)

<!-- ENGCOM-6424-->

* Programmet genererar inte längre något fel när du försöker filtrera produkter på kategorisidan med ett ogiltigt pris. Tidigare loggade programmet det här felet i systemloggen. _Korrigering har skickats av Ihor Sviziev i pull-begäran [25912](https://github.com/magento/magento2/pull/25912)_. [GitHub-25911](https://github.com/magento/magento2/issues/25911)

<!-- ENGCOM-6455-->

* Nu kan du navigera bland sökresultaten för flersidiga kategorier. Tidigare skapades dubblettsidor med sökresultat när du försökte använda knappen Bakåt för att gå tillbaka till den första resultatsidan. _Korrigering har skickats av Douglas Radburn i pull-begäran [25337](https://github.com/magento/magento2/pull/25337)_. [GitHub-14971](https://github.com/magento/magento2/issues/14971)

<!-- ENGCOM-6194-->

* Returtypen har korrigerats till `string|null` för metoden `getSourceModel` i klassen `Eav\Attribute.php`. _Korrigering har skickats av Mychailo i pull-begäran [&#x200B; 25333](https://github.com/magento/magento2/pull/25333)_. [GitHub-25278](https://github.com/magento/magento2/issues/25278)

<!-- ENGCOM-6625-->

* Om du sparar en ny (duplicerad) produkt dupliceras inte längre bilderna hundratals gånger. _Korrigering har skickats av Jeroen i pull-begäran [25875](https://github.com/magento/magento2/pull/25875)_. [GitHub-9466](https://github.com/magento/magento2/issues/9466)

<!-- ENGCOM-6818-->

* Programmet genererar inte längre ett JavaScript-fel när du tar bort en produkt med ett anpassat alternativ av typen `file` när en order skapas från administratören.  _Korrigering har skickats av adrian-martinez-interactiv4 i pull-begäran [&#x200B; 24843](https://github.com/magento/magento2/pull/24843)_. [GitHub-24842](https://github.com/magento/magento2/issues/24842)

<!-- ENGCOM-6959-->

* Om du skapar en produkt utan bild genom att använda `product_page_image_large` i layouten visas en platshållarbild som förväntat. Tidigare uppstod följande fel i programmet: `Fatal error: PHP Fatal error: Uncaught TypeError: Argument 1 passed to Magento\Catalog\Block\Product\ImageFactory::getRatio() must be of the type integer, null given`. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [26974](https://github.com/magento/magento2/pull/26974)_. [GitHub-26973](https://github.com/magento/magento2/issues/26973)

<!-- ENGCOM-6983-->

* Du kan använda slutpunkten `POST /V1/:sku/links` för att ange produktlänkar med en tom array med produkter när produkten har befintliga länkar. Tidigare uppstod ett fel i programmet. _Korrigering har skickats av Sathish Subramanian i pull-begäran [26979](https://github.com/magento/magento2/pull/26979)_. [GitHub-26800](https://github.com/magento/magento2/issues/26800)

<!-- ENGCOM-7151-->

* Nu kan du använda listrutan Åtgärder i rutnätet Produkter för att ange om en produkt har vikt när du uppdaterar flera produkters attribut från Admin.  _Korrigering har skickats av Bartomiej Szubert i pull-begäran [26075](https://github.com/magento/magento2/pull/26075)_. [GitHub-6310](https://github.com/magento/magento2/issues/6310)

<!-- ENGCOM-7453-->

* Valideringslogik har lagts till i fälten **Produkter per sida för tillåtna värden för stödraster** och **Produkter per sida för standardvärde för stödraster** på butikens konfigurationssida. Tidigare kunde butiksadministratörer ange otillgängliga värden i dessa fält.  _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [27093](https://github.com/magento/magento2/pull/27093)_. [GitHub-27089](https://github.com/magento/magento2/issues/27089)_

### Katalogregel

<!-- ENGCOM-6550-->

* Beteendet för sidelementet Datepicker har korrigerats på **Admin** > **Marknadsföring** > **Kampanjer** > **Katalogprisregel**. _Korrigering har skickats av Hitesh i pull-begäran [26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-5122-->

* Katalogens prisregler fungerar nu med anpassade alternativ som förväntat på produktinformationssidor. _Korrigering har skickats av Pavel Bystritsky i pull-begäran [22917](https://github.com/magento/magento2/pull/22917)_. [GitHub-22856](https://github.com/magento/magento2/issues/22856)

### Katalogwidget

<!-- MC-29167-->

* Produktlistan `CatalogWidget` fungerar nu som förväntat med ankarkategorier, och produkter från ankarkategorier matchas nu och visas. Tidigare syntes inte produkter i widgeten när du valde en överordnad kategori som var fästpunkt, men som inte innehöll tilldelade produkter.

<!-- MC-30260-->

* Programmet visar nu alla underordnade för en vald överordnad kategori som förväntat. Tidigare visades inte alla kapslade produkter om du valde en överordnad kategori som var fästpunkt, men som inte innehöll tilldelade produkter.

<!-- MC-31171-->

* Widgeten Senast visade produkter fungerar nu korrekt när **Lagrar** > **Konfiguration** > **Katalog** > **Katalog** > **Senast visade/jämförda** > **Synkronisera widgetprodukter med backend-lagring** är inställd på **Ja**.

### CMS content

<!-- MC-29619-->

* Nu kan du spara och duplicera alla CMS-sidor. Tidigare utlöstes det här undantaget när du försökte duplicera vissa sidor: `Unique constraint violation found`.

<!-- MC-30963-->

* Nu kan du skapa CMS-block med identiska namn om blocken tilldelas olika butiksvyer.

<!-- MC-30103-->

* Välj bland miniatyrbilder i galleriet så cachelagras de nu som förväntat. Tidigare ändrades storleken på bilderna i farten.

<!-- MC-32275-->

* Programmet genererar inte längre något fel när du sparar en CMS-sida som har tilldelats flera arkiv. När du skapade eller redigerade en CMS-sida tidigare sparade programmet sidan men även följande fel uppstod: `Item (Magento\VersionsCms\Model\Hierarchy\Node) with the same ID "PAGE_ID" already exists`.

<!-- MC-32452-->

* Nya CMS-sidor läggs nu till som förväntat i webbplatsens arkivsidhierarki.

<!-- ENGCOM-7033-->

* CMS siduppdateringslogik har förbättrats. Programmet tillämpar nu specifika layoutändringar från `cms_page_view_selectable_home_somechanges.xml`. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27131](https://github.com/magento/magento2/pull/27131)_. [GitHub-26758](https://github.com/magento/magento2/issues/26758)

### Rensa

<!-- ENGCOM-6573-->

* En extra avslutande tagg togs bort från modul-XML. _Korrigering har skickats av Tejash Kumbhare i pull-begäran [26339](https://github.com/magento/magento2/pull/26339)_. [GitHub-26338](https://github.com/magento/magento2/issues/26338)

<!-- ENGCOM-6521-->

* Korrigerat felpassning av kryssrutan **Min faktura- och leveransadress är densamma** på sidan Granska och betalningar i arbetsflödet för utcheckning.  _Korrigering har skickats av divyajyothi5321 i pull-begäran [26169](https://github.com/magento/magento2/pull/26169)_. [GitHub-26168](https://github.com/magento/magento2/issues/26168)

<!-- ENGCOM-6581-->

* Onödigt tomt utrymme mellan fältetiketter och asterisker i avsnittet Leveransadress i arbetsflödet för utcheckning har tagits bort.  _Korrigering har skickats av Daniel Ruf i pull-begäran [&#x200B; 26285](https://github.com/magento/magento2/pull/26285)_. [GitHub-26275](https://github.com/magento/magento2/issues/26275)

<!-- ENGCOM-6480-->

* Alternativknapparnas justering i avsnittet Leveransmetoder i arbetsflödet för utcheckning har korrigerats.  _Åtgärd har skickats av Hitesh i pull-begäran [&#x200B; 25966](https://github.com/magento/magento2/pull/25966)_. [GitHub-25962](https://github.com/magento/magento2/issues/25962)

<!-- ENGCOM-6579-->

* Felaktigt menyavstånd i mobilvyn har korrigerats. _Åtgärd har skickats av Hitesh i pull-begäran [&#x200B; 26238](https://github.com/magento/magento2/pull/26238)_. [GitHub-26235](https://github.com/magento/magento2/issues/26235)

<!-- ENGCOM-7225-->

* Korrigerat felpassning av ikonerna Redigera och Ta bort i minikundvagnen i mobilvyn.  _Korrigering har skickats av Vasilii Burlacu i pull-begäran [27493](https://github.com/magento/magento2/pull/27493)_. [GitHub-26652](https://github.com/magento/magento2/issues/26652)

<!-- ENGCOM-6967-->

* Korrigerat felpassning av postnummerintervallet och kryssrutan för momssatsen på sidan Lägg till ny momssats/postnummer (**Admin** > **Store** > **Skatter** > **Skattezoner och skattesatser**). _Korrigering har skickats av Sathish Subramanian i pull-begäran [26932](https://github.com/magento/magento2/pull/26932)_. [GitHub-26917](https://github.com/magento/magento2/issues/26917)

<!-- ENGCOM-7237-->

* Länken från installationsguiden till administratören fungerar nu som förväntat. _Korrigering har skickats av Oleh Usik i pull-begäran [26100](https://github.com/magento/magento2/pull/26100)_. [GitHub-24990](https://github.com/magento/magento2/issues/24990)

<!-- ENGCOM-6531-->

* Sortering har inaktiverats i statuskolumnen i Cachehanteringsrutnätet i Admin. _Korrigering har skickats av Sathish Subramanian i pull-begäran [26215](https://github.com/magento/magento2/pull/26215)_. [GitHub-26208](https://github.com/magento/magento2/issues/26208)

<!-- ENGCOM-7015-->

* Korrigerat felpassning av sidelement i **Admin** > **Lagrar** > **Attribut** > **Klassificeringar** > **Lägg till nya klassificeringar** . _Korrigering har skickats av Sathish Subramanian i pull-begäran [27014](https://github.com/magento/magento2/pull/27014)_. [GitHub-26992](https://github.com/magento/magento2/issues/26992)

<!-- ENGCOM-6485-->

* Korrigerat felpassning av kalenderikonen på sidan Lägg till designändring. _Korrigering har skickats av Eduard Chitoraga i pull-begäran [26063](https://github.com/magento/magento2/pull/26063)_. [GitHub-20379](https://github.com/magento/magento2/issues/20379)

<!-- ENGCOM-6447-->

* Onödigt utrymme i undermenyvisning på hovringsmenyn för startsidan har tagits bort. _Åtgärd har skickats av Hitesh i pull-begäran [&#x200B; 25973](https://github.com/magento/magento2/pull/25973)_. [GitHub-25972](https://github.com/magento/magento2/issues/25972)

<!-- ENGCOM-6534-->

* Korrigerad feljustering av prisetiketter på informationssidan för butiksprodukter. _Korrigering har skickats av divyajyothi5321 i pull-begäran [26237](https://github.com/magento/magento2/pull/26237)_. [GitHub-25936](https://github.com/magento/magento2/issues/25936)

<!-- ENGCOM-6536-->

* Korrigerat felpassning av den inaktuella texten i relation till knappen **Lägg till i kundvagn** på produktlistsidan i mobilvyn.  _Korrigering har skickats av divyajyothi5321 i pull-begäran [26183](https://github.com/magento/magento2/pull/26183)_. [GitHub-26181](https://github.com/magento/magento2/issues/26181)

<!-- ENGCOM-6458-->

* Meddelandet om att integrationen lyckades visas på **Admin** > **System** > **Tillägg** > **Integrationer** visas nu korrekt. _Korrigering har skickats av divyajyothi5321 i pull-begäran [26011](https://github.com/magento/magento2/pull/26011)_. [GitHub-25930](https://github.com/magento/magento2/issues/25930)

### Konfigurerbara produkter

<!-- MC-23546-->

* Underordnade produkter i en konfigurerbar produkt kan nu inaktiveras via API:t.

<!-- MC-30391-->

* Prisregler för kundvagn med ett **villkor inställt som kategori (endast överordnad)** fungerar nu konsekvent som förväntat.

<!-- MC-30989-->

* Du kan nu lägga till en konfigurerbar produkt i kundvagnen på fliken Korsförsäljning. När du väljer en produkt och klickar på **Lägg till i kundvagnen** på den här fliken, visas nu sidan med produktinformation där du kan välja specifika produktalternativ. Tidigare dirigerades du till en felsida på 404.

<!-- MC-32411-->

* Programmet länkar inte längre en enkel produkt till en konfigurerbar produkt när API-anropet för att länka dessa produkter misslyckas.

<!-- ENGCOM-6483-->

* Återgivningen av SKU:er i listan Aktuella variationer för en konfigurerbar produkt har korrigerats. _Korrigering har skickats av KaushikChavda i pull-begäran [26007](https://github.com/magento/magento2/pull/26007)_. [GitHub-25591](https://github.com/magento/magento2/issues/25591)

<!-- ENGCOM-6460-->

* Du kan nu spara `system.xml`-konfigurationsinformation genom att ange värden i **Admin** > **System** > **Konfiguration** i fält som inte har associerade etiketter. _Korrigering har skickats av Android Chorniy i pull-begäran [25985](https://github.com/magento/magento2/pull/25985)_. [GitHub-23899](https://github.com/magento/magento2/issues/23899)

<!-- ENGCOM-6689-->

* Prestanda för `\Magento\ConfigurableProduct\Model\Product\Type\Configurable::isSalable` har optimerats.  _Korrigering har skickats av Stanislav Ilnytskyi i pull-begäran [26071](https://github.com/magento/magento2/pull/26071)_. [GitHub-26065](https://github.com/magento/magento2/issues/26065)

<!-- ENGCOM-6992-->

* Logiken som ansvarar för att uppdatera konfigurerbara produktbilder har förbättrats. Tidigare visade enkla produkter som är kopplade till en konfigurerbar produkt bara den standardbild som är kopplad till den konfigurerbara produkten, och programmet visade ibland fel huvudbild för produkten. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [26560](https://github.com/magento/magento2/pull/26560)_. [GitHub-26473](https://github.com/magento/magento2/issues/26473), [GitHub-26856](https://github.com/magento/magento2/issues/26856), [GitHub-26858](https://github.com/magento/magento2/issues/26858)

<!-- ENGCOM-6520-->

* Programmet visar nu en produkts specialpris som förväntat när du väljer ett rabatterat alternativ för en konfigurerbar produkt. Tidigare ändrades inte `class="normal-price"` till `class="special-price"` när ett rabatterat alternativ valdes. _Korrigering har skickats av Ravi Chandra i pull-begäran [26170](https://github.com/magento/magento2/pull/26170)_. [GitHub-24972](https://github.com/magento/magento2/issues/24972)

### Cookies

<!-- MC-24182-->

* Funktionerna `setRedirectCookie` och `clearRedirectCookie` fungerar nu som förväntat. Tidigare skickades cookies till webbläsaren, men alla cookie-parametrar saknades. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

<!-- MC-30789-->

* Google Tag Manager-taggar aktiveras inte längre när en kund navigerar till en ny butik utan att acceptera Google Tag Manager-cookien.

<!-- ENGCOM-6891-->

* Metadata har lagts till i funktionerna `setRedirectCookie` och `clearRedirectCookie`.  _Korrigering har skickats av Alexander Lukyanov i pull-begäran [24612](https://github.com/magento/magento2/pull/24612)_. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

### Anpassade kundattribut

<!-- MC-30739-->

* Programmet visar nu anpassade värden för kundadressattribut som förväntat i adressavsnittet i arbetsflödet för utcheckning. Tidigare visades den anpassade kundadressattributkoden i stället för värdet, och ett JavaScript-fel utlöstes.

<!-- MC-32301-->

* Programmet genererar inte längre något fel när du inkluderar ett tomt kundattributfält i fältet **Forms att använda i** när du skapar ett företagskonto i butiken. Tidigare uppstod följande fel i programmet: `PHP Fatal error: Uncaught TypeError: Argument 2 passed to Magento\Eav\Model\Attribute\Data\Text::validateLength() must be of the type string, null given`.

<!-- MC-33361-->

* Programmet sparar nu anpassade attribut för kundadress och implementerar dem i registreringsformulär som förväntat. Tidigare sparades inte attributinformationen när du skapade ett nytt anpassat kundadressattribut när du skapade ett konto från kundvagnen.

### Kund

<!-- MC-29102-->

* Kunder som prenumererar på nyhetsbrev som gäst avbeställer inte längre prenumerationen efter registrering för ett nytt konto.

<!-- MC-29841-->

* Programmet använder nu en ny `PHPSession` för varje lösenordsändring.

<!-- MC-30650-->

* Du kan nu skapa en kund och koppla den till en viss webbplats med listrutan Associera till webbplats på **Kunder** > **Alla kunder** > **Lägg till ny kund**. Tidigare, när du försökte associera en ny kund med en icke-standardwebbplats i en flersidig distribution, visade programmet följande fel: `The store view is not in the associated website`.

<!-- MC-29946-->

* Programmet sparar nu informationen som kunden anger i standardfälten för fakturering och leverans när transaktionen avvisas från början på grund av ett ogiltigt kreditkort, men senare slutförs. Tidigare uppdaterades inte standardadresserna för fakturering eller leverans i delen Mitt konto i arbetsflödet, trots att programmet skapade ordern när kunden angav giltig betalningsinformation.

<!-- MC-32325-->

* Programmet följer nu kundgruppsinställningarna när du skapar en ny kund från administratören i en flersidig distribution.

<!-- MC-31481-->

* Programmet kan nu importera kunddata med alternativet **Kund och Adresser (en fil)** när `cron` är aktiverat och indexeraren för kundstödraster är inställd på **Uppdatera efter schema**. När `cron` har körts är den importerade kundinformationen tillgänglig i Admin som förväntat. Tidigare importerade programmet kunddata, men uppdaterade inte kundrutnätet med de nya importerade kundposterna.

<!-- MC-31117-->

* Nu kan ni skapa en ny kund från butiken när födelsedatumet krävs. Tidigare gick det inte att skapa en ny kund när det här fältet var obligatoriskt, även när du angav giltiga DOB-värden. [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* Skapande av kunder från administratören följer nu standardinställningen för kundgrupp som förväntat.

<!-- MC-31435-->

* `PHPSessionId` ändras nu som förväntat efter att en kund har loggat ut och sedan loggat in igen.

<!-- MC-32152-->

* I administrationsvyn för en kundvagn visas nu alla produkter som har lagts till i vagnen från flera webbplatser i en flerwebbplatsdistribution. Tidigare visades produkten inte i Admin när en kund lade till en produkt i kundvagnen från en icke-standardwebbplats även om **Dela kundkonto** är inställt på **Global**.

<!-- ENGCOM-7036-->

* Validering fungerar nu som väntat för fältet **Födelsedatum** när en kund redigeras från administratören. Tidigare har programmet inte någon funktion för användarens språkområde, och för vissa födelsedatum visades följande fel: `The Date of Birth should not be greater than today`.   _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* E-postfältet behövs inte längre när du beställer från administratören.  _Korrigering har skickats av solwininfotech i pull-begäran [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6667-->

* Nu visas endast de produkter som kunden har placerat i kundvagnen när kundvagnen visas från administratören. Tidigare visade en kunds varukorg alla produkter i katalogen när den visades från administratören. _Korrigering har skickats av Ravinder i pull-begäran [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-6423-->

* På kontrollpanelen Mitt konto visas nu e-postadressvärdena korrekt i mobilvyn. _Korrigering har skickats av Eden Duong i pull-begäran [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* Om du klickar på knappen **Skapa ett konto** i kundregistreringsformuläret flera gånger skickas inte längre registreringsbegäran mer än en gång. _Korrigering har skickats av prinsCB i pull-begäran [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

### Kundsegment

<!-- MC-29471-->

* Programmet tar inte längre bort ditt kundkonto från ett kundsegment när du loggar in som en användare som är tilldelad kundsegmentet när segmentet innehåller ett villkor för tidigare order. Tidigare var du tvungen att klicka på **Uppdatera segmentdata** efter inloggning innan programmet visade ditt konto i listan Matchade kunder.

<!-- MC-30466-->

* Kundsegment fungerar nu som förväntat när segmentvillkoren innehåller det totala antalet order.

<!-- MC-32409-->

* Kundsegmentsreglerna tillämpas nu som förväntat när kundkonton har konfigurerats för att delas globalt.

<!-- MC-33081-->

* Vi har förbättrat redigeringen och sparandet av kundsegment som innehåller ett stort antal kunder (mer än tre miljoner). Tidigare inträffade 500 fel när du skapade eller redigerade ett kundsegment som innehöll många kunder.

### Katalog

<!-- MC-33168-->

* Listrutan Standardläge fylls nu i med data som baseras på de tillåtna länder som har tilldelats till den valda webbplatsen när du konfigurerar ett värde för fältet **Standardberäkning av momsmål**. Tidigare listade den här listrutan de länder som var tilldelade standardwebbplatsen.

### Nedladdningsbar

<!-- MC-32306-->

* Du kan nu använda en importfil för att uppdatera flera nedladdningsbara produkter i grupp efter SKU och beskrivning. Tidigare inträffade valideringsfel och importen misslyckades.

### Dynamiskt block (tidigare banner)

<!-- MC-23852 31632-->

* Dynamiska block fungerar nu med kundsegment som förväntat. Programmet visar inte längre ett dynamiskt block när villkoret som ska utlösa det inte är uppfyllt. Tidigare visade programmet ett dynamiskt block för användare som var inloggade som gäst när kundvagnen var tom.

<!-- MC-32652-->

* Dynamiska block återges nu i butiken baserat på kundsegment och butiksvy.

### EAV

<!-- MC-29999-->

* Programmet respekterar nu butiksspecifika inställningar som avgör om telefonnummerfältet i arbetsflödet för utcheckning krävs i en multisitedistribution. Tidigare i distributioner där en butik krävde det här fältet i arbetsflödet för utcheckning och en annan butik inte gjorde det, hade kunder som inte slutförde det här fältet vid utcheckning från butiken som inte krävde det det här felet: `Please check the shipping address information. "telephone" is required. Enter and try again`.

<!-- ENGCOM-6489-->

* EAV-sorteringsordningen från `attribute option_id` fungerar nu som förväntat. _Korrigering har skickats av Tan Sezer i pull-begäran [24360](https://github.com/magento/magento2/pull/24360)_. [GitHub-24357](https://github.com/magento/magento2/issues/24357)

<!-- ENGCOM-7082-->

* Du kan nu skapa en ny produkt efter att du har lagt till ett nytt attribut via REST och tilldelat den till en attributuppsättning från administratören. Tidigare uppstod ett 500-fel i programmet.  _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27191](https://github.com/magento/magento2/pull/27191)_. [GitHub-26827](https://github.com/magento/magento2/issues/26827)

### E-post

<!-- MC-32842-->

* E-postmeddelanden om auktorisering som skickas till en kund när de begär en retur innehåller nu RMA-statusen som förväntat. Tidigare visade det här e-postmeddelandet en tom sträng i stället för den förväntade returstatusen.

<!-- MC-32864-->

* Kunder dirigeras inte längre bort från den aktuella webbplatsen när de rapporterar ett glömt lösenord i distributioner på flera platser där kundkonton delas globalt. Tidigare omdirigerades kunderna till den webbplats där kontot skapades.

<!-- MC-31544-->

* E-postmeddelanden med orderbekräftelse som skickas till kunder innehåller nu listan över beställda artiklar som förväntat. Tidigare, när du skapade en e-postmall i Admin genom att läsa in och spara standardmallen, innehöll e-postmeddelanden som genererats från den här mallen inte listan med sorterade objekt. [GitHub-26882](https://github.com/magento/magento2/issues/26882)

### Ramverk

* Beroenden för Zend Framework har migrerats till [Laminas-projektet](https://getlaminas.org/about/foundation) för att återspegla övergången av Zend Framework till Linux Foundation&#39;s Laminas Project. Zend Framework har tagits bort. _Korrigering har skickats av Ihor Sviziev i pull-begäran [26436](https://github.com/magento/magento2/pull/26436)_. [GitHub-26335](https://github.com/magento/magento2/issues/26335)

<!-- MC-25257-->

* Specialinställningar för prisintervall (från/till-datum) fungerar nu korrekt för administratörskonton med hjälp av en nederländsk språkinställning.

<!-- MC-29388-->

* `php bin/magento cron:run` bearbetar inte längre objekt från ändringsloggtabellen flera gånger. Tidigare kunde åtgärder anropas flera gånger för samma `entity id` om du hade fler än 10000 nya versioner i ändringsloggtabellen.

* Kommandot `php bin/magento setup:cron:run` har nu tagits bort. Ta även bort referenser till den här filen på flikar när du uppgraderar.

* Filen `update/cron.php` har tagits bort i 2.4.0. Om filen finns i installationen kan den tas bort på ett säkert sätt. Ta även bort referenser till den här filen på flikar när du uppgraderar.

<!-- MC-30544-->

* Åtgärden Uppdatera attribut uppdaterar nu tidsstämpeln för en produkts `updated_at column` korrekt från `catalog_product_entity` när du uppdaterar produkten från produktsidan för Admin Editor.

<!-- MC-30834-->

* Inställningen `'persistent' => '1'` i `env.php` genererar inte längre något fel när du kör `setup:upgrade`.

<!-- MC-32243-->

* **Ogiltig formulärnyckel. Uppdatera textsträngen för sidan** på inloggningssidan har nu översatts som förväntat.

<!-- MC-33278-->

* Vi har förbättrat prestandan för funktionen `Magento\Framework\App\DeploymentConfig\Reader::load`. När en begäran gjordes till Magento anropades den här funktionen upprepade gånger, vilket resulterade i att `config.php`- och `env.php config`-filer lästes in varje gång metoden anropades.

<!-- MC-31728-->

* Programmet hämtar inte längre en `blank.html`-sida när en administratör klickar på en produkt när en order från administratören skapas.

<!-- MC-31729-->

* Icke-cachelagrade block som lagts till i standardlayouten i referensinstruktioner för komponenter som inte finns (inte har deklarerats) på sidan påverkar inte längre sidcache-lagring. Om du lägger till icke-cacheable-block i standardlayouthanterare går det inte att komma åt alla sidor. Detta är en följd av layoutgenereringsprocessen: När layouten skapas samlar programmet in alla tillgängliga layouthandtag för en viss sida och sammanfogar instruktionerna från dem i sidans slutliga layoutstruktur. Standardlayouthandtaget används som ett grundläggande handtag för varje sida. Därför visas layoutuppdateringar som deklarerats för standardhanteraren på alla sidor. [GitHub-9041](https://github.com/magento/magento2/issues/9041)

<!-- MC-31920-->

* MySQL-låshanteraren är nu den primära låshanteraren. Därför är den lägsta version av MySQL som krävs 5.7.9.

<!-- ENGCOM-6431-->

* `queue_consumer.xml` tillåter nu siffror i klassen `handler`. Tidigare misslyckades XSD-valideringen när en hanterare innehöll ett tal i sökvägen. _Korrigering har skickats av Eden Duong i pull-begäran [25952](https://github.com/magento/magento2/pull/25952)_. [GitHub-25731](https://github.com/magento/magento2/issues/25731)

<!-- ENGCOM-6902-->

* En felaktig `@var`-referens i `doc`-blocket för klassmedlemsvariabeln `$queueIterator` i klassen `\Magento\Framework\MessageQueue\Topology\Config` har korrigerats. _Korrigering har skickats av Artem Voloznov i pull-begäran [24976](https://github.com/magento/magento2/pull/24976)_. [GitHub-24971](https://github.com/magento/magento2/issues/24971)

<!-- ENGCOM-5305 6684-->

* JavaScript sidinläsningsavlyssnare aktiveras nu när ett dokument inte längre är `loading`, i stället för att vänta tills det markerats som `complete` väntar tills dokumentet markeras som `complete`, vilket kan leda till allvarliga fördröjningar vid återgivning av JavaScript-innehåll. _Korrigering har skickats av John Hughes i pull-begäran [&#x200B; 23313](https://github.com/magento/magento2/pull/23313) och pull-begäran [50](https://github.com/magento/partners-magento2ee/pull/50)_. [GitHub-22909](https://github.com/magento/magento2/issues/22909)

<!-- ENGCOM-6305-->

* Programmet visar nu följande informativa meddelande när du försöker lägga till en produkt i din önskelista med en kvantitet på 0 eller ett negativt tal: `Please enter a valid number in this field`. Tidigare visade programmet följande fel: `We can't update your Wish List right now`. _Korrigering har skickats av Pawe Tylek i pull-begäran [25641](https://github.com/magento/magento2/pull/25641)_. [GitHub-25032](https://github.com/magento/magento2/issues/25032)

<!-- ENGCOM-7071-->

* Programmet stöder inte längre arv av DTO-klasser från klassen `Magento\Framework\Api\AbstractExtensibleObject`. PHP-anteckning `@api` saknas  har lagts till i `AbstractExtensibleModel` och den saknade `@deprecated`  anteckningen har lagts till i `AbstractExtensibleObject`.  _Korrigering har skickats av Alexander Taranovsky i pull-begäran [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

<!-- ENGCOM-6552-->

* Du kan nu spara produkter som förväntat efter att ha ändrat ett produktrelaterat datum (till exempel `news_from_date`, `news_to_date`, `special_price_from_date`, `special_price_to_date`) i butiker som implementerar andra språk än engelska. Tidigare uppstod ett fel som liknar detta: `Invalid input datetime format of value '22/5/2019`.

### Allmänna korrigeringar

<!-- MC-21347-->

* Kundmodulen är inte längre beroende av granskningsmodulen. Tidigare gick det inte att inaktivera granskningsmodulen på grund av det här beroendet.

<!-- MC-25250-->

* Produktredigeringssidan läses nu in korrekt när standardattributuppsättningen för sidan innehåller ett listruteattribut med markeringsetiketten.

<!-- MC-25260-->

* Det grafiska orderdiagram som finns på fliken Beställningar i Admin återspeglar nu orderkvantiteten korrekt.

<!-- MC-29273-->

* Administratörs-URL:en för en butik dirigerar inte längre om till butikens URL när dessa två URL:er skiljer sig åt.

<!-- MC-29658-->

* Generering av URL-omskrivningar för underkategorier fungerar nu korrekt när du använder prestandaverktygsprofilen med mer än en webbplats.

<!-- MC-30224-->

* Du kan nu ta bort en tom användarmodell utan att ta bort den administratörsroll som den är tilldelad till.

<!-- MC-30636-->

* TinyMCE4-redigeraren stöder nu alla HTML-taggar.

<!-- MC-31128-->

* Om du klickar på knappen **Återbetala offline** i arbetsflödet för att skapa en kreditnota skapas nu en kreditnota som förväntat. Tidigare inaktiverades den här knappen av ett JavaScript-fel och programmet skapade inte någon kreditnota.

<!-- MC-31832-->

* Merchants kan nu skapa ett produktattribut av typen `Decimal`. På grund av en tidigare felkorrigering visades inte produktattributtypen `Price`. [GitHub-26949](https://github.com/magento/magento2/issues/26949)

<!-- MC-32175-->

* Programmet returnerar inte längre ett 500-fel när du försöker öppna en kategorisida i butiken när **Layout = Product - Full Width** har angetts på fliken Design på kategorisidan.

<!-- MC-32697-->

* Ett fel i `AbstractSimpleObjectBuilder.php` har korrigerats.

<!-- MC-33427-->

* KARP (lägsta annonspris) fungerar nu som väntat för gruppprodukter.

<!-- MC-29998-->

* Programmet dirigerar nu om dig till hemsidan för rätt butiksvy när du ändrar språk på CMS-sidor i en distribution av flera butiker. Tidigare visade programmet en 404-sida när du ändrade språk på vissa CMS-sidor.

<!-- MC-30162-->

* Ordningsfrågor (`SalesOrderIndexGridAsyncInsertCron`) har omarbetats för att minska storleken på den returnerade datauppsättningen och frekvensen för frågorna.

<!-- MC-32371-->

* Nu kan du skapa en CMS-sida och tilldela den till webbplatsens rotkategori i CMS-hierarkin.

<!-- MC-32783-->

* Gäster kan nu visa ett produktpris eller lägga till en produkt i kundvagnen när kategoribehörigheter är aktiverade (till exempel när kundgruppen **Inte inloggad** har beviljats dessa behörigheter).

<!-- MC-32815-->

* Produktreglerna gäller nu för färdiga produkter som förväntat. Tidigare visades inte färdiga produkter i listan över relaterade produkter i programmet, även när regeln var konfigurerad att visa produkter som inte fanns i lager.

<!-- MC-33222-->

* Om du klickar på knappen **Spåra leverans** för en beställning från administratören visas nu spårningsinformationen i ett popup-fönster som förväntat. Tidigare tog länken administratören till inloggningssidan.

<!-- MC-31305-->

* Programmet visar nu ett informativt felmeddelande och fortsätter att visa registreringsformuläret som väntat om ett fel inträffar när en kund försöker fylla i ett registreringsformulär som innehåller ett flervalskundsattribut. Tidigare visade programmet ett 500-fel.

<!-- MC-32224-->

* Programmet visar nu knappen **Kreditnota** efter den partiella återbetalningen av en order. Tidigare visades inte den här knappen när du skapade en partiell återbetalning och du kunde inte skapa en kreditnota för resten av ordern.

<!-- MC-31878-->

* Grupporderuppdateringar via REST ändrar nu orderstatusen som förväntat. Tidigare uppstod följande fel i programmet: `report.ERROR: Property "AdditionalInformation" does not have accessor method "setAdditionalInformation" in class "Magento\Sales\Api\Data\OrderPaymentInterface".`

<!-- MC-30398-->

* Attributfilter visas nu som förväntat i delen Shoppingalternativ på kategorisidan.

<!-- MC-25138-->

* Du kan nu ändra produktgränsen på kategorisidan från 24 till 36 i distributioner där B2B är installerat. Tidigare uppstod ett allvarligt fel i programmet när produktgränsen ökades till 36.

<!-- ENGCOM-7175-->

* Fakturerings- och leveransadresserna för kunderna visas nu som väntat på fliken Adresser på sidan Admin - Kundredigering när de visas i Internet Explorer. _Korrigering har skickats av Vasilii Burlacu i pull-begäran [27383](https://github.com/magento/magento2/pull/27383)_. [GitHub-27370](https://github.com/magento/magento2/issues/27370)

<!-- ENGCOM-6546-->

* Alla bokmärkesvyer kan nu redigeras när du tar bort en. Tidigare gick det inte att redigera alla bokmärkesvyer när du tog bort den första vyn för konton med flera bokmärkesvyer. _Korrigering har skickats av Bartomiej Szubert i pull-begäran [26263](https://github.com/magento/magento2/pull/26263)_. [GitHub-14913](https://github.com/magento/magento2/issues/14913)

<!-- ENGCOM-7042-->

* Navigering i flera lager avbryter inte längre HTML5-valideringen av färgrutemodulen. Tidigare inträffade HTML-valideringsfel för attribut som inte definierats i [W3C-markeringsvalideringstjänsten](https://validator.w3.org/), men dessa attribut har ändrats till dataattribut. _Korrigering har skickats av Nirav Patel i pull-begäran [26055](https://github.com/magento/magento2/pull/26055)_. [GitHub-22363](https://github.com/magento/magento2/issues/22363)

<!-- ENGCOM-7065-->

* Ett oanvänt `require.JS`-alias (`critical-css-loader` `) has been removed from app/code/Magento/Theme/view/frontend/requirejs-config.js`). _Korrigering har skickats av Tu Nguyen i pull-begäran [26987](https://github.com/magento/magento2/pull/26987)_. [GitHub-26963](https://github.com/magento/magento2/issues/26963)

<!-- ENGCOM-6242-->

* Programmet implementerar nu PHP7.x [Throttwable Interface](https://www.php.net/manual/en/class.throwable.php) så att alla fel som kan medföra att känslig information som lösenord kan exponeras kan identifieras. _Korrigering har skickats av miszyman i pull-begäran [25250](https://github.com/magento/magento2/pull/25250)_. [GitHub-23350](https://github.com/magento/magento2/issues/23350)

<!-- ENGCOM-6284-->

* När du trycker på ESC-tangenten när du anger namnet på en ny mapp i popup-fönstret Skapa en ny mapp stängs nu popup-fönstret som förväntat utan att mappen skapas.  _Korrigering har skickats av Shankar Konar i pull-begäran [25349](https://github.com/magento/magento2/pull/25349)_. [GitHub-572](https://github.com/magento/magento2/issues/572)

<!-- ENGCOM-7464-->

* En felaktigt kapslad HTML-struktur har korrigerats. Tidigare resulterade denna struktur i en trasig layout för listan över relaterade produkter, merförsäljning eller korsförsäljning. _Korrigering har skickats av Pieter Hoste i pull-begäran [27926](https://github.com/magento/magento2/pull/27926)_. [GitHub-27920](https://github.com/magento/magento2/issues/27920)

<!-- ENGCOM-7144-->

* Ett duplicerat anrop till `addToolbarBlock` togs bort, vilket hade resulterat i två liknande villkor i `ORDER BY`.  _Korrigering har skickats av Vasilii Burlacu i pull-begäran [27263](https://github.com/magento/magento2/pull/27263)_. [GitHub-26708](https://github.com/magento/magento2/issues/26708)

<!-- ENGCOM-6014-->

* Handlare kan nu ange ett förfallodatum för administratörens användarkonton. _Korrigering har skickats av Laura Folco i pull-begäran [22837](https://github.com/magento/magento2/pull/22837)_. [GitHub-22833](https://github.com/magento/magento2/issues/22833)

<!-- ENGCOM-7071-->

* Vi har lagt till `@api` PHP-anteckningen i `AbstractExtensibleModel`, `@deprecated` PHP-anteckningen i `AbstractExtensibleObject` och `@see` i `AbstractExtensibleModel`.  _Korrigering har skickats av Alexander Taranovsky i pull-begäran [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

### Presentkort

<!-- MC-31041-->

* GET `V1/orders/:orderId`-samtalet returnerar presentkortskoder som förväntat.

### Presentomslutning

<!-- MC-29893-->

* Presentomslutning kan nu läggas till i kundvagnen när den är aktiverad på produktnivå. Tidigare kunde du lägga till en presentförpackning i en produkt i butiken, men programmet skulle inte inkludera en presentförpackning i ordersammanfattningen.

<!-- MC-30543-->

* Ett presentkort som gått ut blir aktivt som förväntat när du ändrar utgångsdatumet till ett framtida datum. Tidigare var presentkortet inte längre giltigt.

<!-- MC-32551-->

* Sidan Skapa beställning för administratör läses nu in korrekt när inställningen **Tillåt presentmeddelanden på ordernivå** och miniatyrmallen är aktiverad. Tidigare när du försökte öppna den här sidan när de här inställningarna var aktiverade uppstod följande fel i programmet: `Warning: require(content.phtml): failed to open stream: No such file or directory`.

<!-- MC-31427-->

* Programmet beräknar nu kostnaderna för presentationer korrekt baserat på det antal produkter du har beställt. Tidigare innefattade programmet kostnaden för en present på en produkt endast i beställningen.

### Google Tag Manager

<!-- MC-29878-->

* Handlare kan nu skjuta upp sändning av data till Google Analytics tills angivna villkor uppfylls.

<!-- MC-30673-->

* Den saknade mallen `Magento_GoogleTagManager::checkout/set_checkout_option.phtml` har återställts.

### GraphQL

<!-- ENGCOM-7074-->

* Programmet returnerar nu GraphQL-meddelandet `The cart isn't active` i stället för `Current user does not have an active cart` under vissa omständigheter när en kundvagn blir inaktiv och ett nytt kundvagn-ID skapas. _Korrigering har skickats av Vadim Malesh i pull-begäran [27187](https://github.com/magento/magento2/pull/27187)_. [GitHub-26117](https://github.com/magento/magento2/issues/26117)

<!-- ENGCOM-7105-->

* Borttagen kod som orsakade ett fel när GraphQL användes för att lägga till produkter i en kundvagn när en produkt som lagts till tidigare inte fanns i lager. _Korrigering har skickats av AleksLi i pull-begäran [27015](https://github.com/magento/magento2/pull/27015)_. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

<!-- ENGCOM-6535-->

* Ett problem i GraphQL där programmet inte returnerade all nödvändig information när fragment användes på produktfrågan har korrigerats. _Korrigering har skickats av Riccardo Tempesta i pull-begäran [26218](https://github.com/magento/magento2/pull/26218)_. [GitHub-26217](https://github.com/magento/magento2/issues/26217)

* GraphQL-mutationen `setShippingMethodsOnCart` hämtar inte längre fel data i attributet `available_shipping_methods`. _Korrigering har skickats av Vadim Malesh i pull-begäran [27004](https://github.com/magento/magento2/pull/27004)_. [GitHub-26742](https://github.com/magento/magento2/issues/26742)

### Grupperade produkter

<!-- ENGCOM-6115-->

* Nu kan du lägga till en enkel produkt som tillhör en gruppprodukt i kundvagnen när en annan enkel produkt som tillhör samma grupp inte finns i lager.  _Korrigering har skickats av Gihovani Filipp Pereira Dem̩ trio i pull-begäran [&#x200B; 24955](https://github.com/magento/magento2/pull/24955)_. [GitHub-22304](https://github.com/magento/magento2/issues/22304)

<!-- ENGCOM-6768-->

* Programmet skickar nu e-post till kunder om återfinansierade gruppprodukter som förväntat.  _Korrigering har skickats av Alexander Taranovsky i pull-begäran [26246](https://github.com/magento/magento2/pull/26246)_. [GitHub-26245](https://github.com/magento/magento2/issues/26245)

<!-- MC-30313-->

* Nu kan du lägga till en underordnad produkt av en grupperad produkt i kundvagnen när en av den grupperade produktens andra underordnade produkter inte finns i lager. Tidigare gick det inte att lägga till några andra underordnade produkter i kundvagnen när en underordnad produkt inte fanns i lager.

### Bilder

<!-- MC-29523-->

* Bilder sparas nu i `pub/media/catalog/category` som förväntat när du sparar kategoribilder. Tidigare sparade programmen dessa bilder i `pub/media/catalog/tmp/category`.

<!-- MC-30320-->

* Vattenstämpelbilder skymmer inte längre den produktbild som de täcker över. Tidigare syntes inte produktbilden när vattenstämpelbilden var större än den produktbild som den användes på.

<!-- MC-32273-->

* Du kan nu spara en bild i en kategori från administratören. Tidigare saknades en del av URL:en när du sparade bilden och det gick inte att öppna bilden igen.

<!-- MC-31727-->

* Programmet visar nu `.png` bilder som förväntat efter överföringen.

<!-- MC-29483-->

* Bilder som har överförts till ett CMS-block med Page Builder visas nu som förväntat i förhandsvisningen när de överförs från en administratör som har en bas-URL som skiljer sig från butikens URL.

<!-- ENGCOM-7063-->

* Om du använder REST för att lägga till eller uppdatera en bild skapas nu en miniatyrbild som förväntat. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27170](https://github.com/magento/magento2/pull/27170)_. [GitHub-26825](https://github.com/magento/magento2/issues/26825)

<!-- ENGCOM-6962-->

* Anpassade attribut för bilder som genererats av `Block\Product\ImageFactory` återges nu korrekt. Tidigare gick det inte att lägga till egna attribut till attributkoden på grund av att HTML-utdata inte kunde användas korrekt. _Korrigering har skickats av alexander-aleman i pull-begäran [26959](https://github.com/magento/magento2/pull/26959)_. [GitHub-25219](https://github.com/magento/magento2/issues/25219)

<!-- ENGCOM-5980-->

* Bilderna blir inte längre oskarpa när en butiksskylt visas från en iPhone.  _Korrigering har skickats av Dmitriy i pull-begäran [24743](https://github.com/magento/magento2/pull/24743)_. [GitHub-24735](https://github.com/magento/magento2/issues/24735)

<!-- ENGCOM-6999-->

* Bilderna i butiken är nu responsiva. Tidigare förvrängdes bildens höjd.  _Korrigering har skickats av Sean van Zuidam i pull-begäran [27041](https://github.com/magento/magento2/pull/27041)_. [GitHub-27040](https://github.com/magento/magento2/issues/27040)

<!-- ENGCOM-7253-->

* Standardlogotypen för butiken visas nu på butiken när `Magento_blank`-temat används. _Korrigering har skickats av Vasilii Burlacu i pull-begäran [27497](https://github.com/magento/magento2/pull/27497)_. [GitHub-27496](https://github.com/magento/magento2/issues/27496)

### Importera/exportera

<!-- MC-25206-->

* Programmet genererar inte längre något fel under importen när importerade data innehåller en `swatch_image`-nyckel för butiksvyn med värdet `no_selection`. Tidigare uppstod följande fel i programmet: `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s): 1`. [GitHub-25026](https://github.com/magento/magento2/issues/25026)

<!-- MC-29417-->

* Programmet uppdaterar nu bilder som förväntat när du använder inställningen `hide_from_product_page` när du importerar produkter i distributioner med flera butiksvyer.

<!-- MC-29677-->

* Anpassningsbara alternativ importeras nu som förväntat när `row_id` inte är lika med en produkts `entity_id`. Tidigare importerades inte anpassningsbara alternativ i programmet när `row_id` inte var lika med en produkts `entity_id`, vilket medförde att vissa produkter inte importerades.

<!-- MC-29916-->

* Bilder som är kopplade till konfigurerbara produkter överförs nu korrekt under importen och är tillgängliga för visning som förväntat från produktredigeringssidan.

<!-- MC-30304-->

* `.csv` filer som exporterats återspeglar nu filterinställningar för att inkludera produkter som finns på lager eller som inte finns på lager. Tidigare exporterades alla produkter i programmet, oavsett vilken Stock-inställning du valde.

<!-- MC-30323-->

* Du kan nu importera eller uppdatera kunder med alternativet Kund och adresserar en fil i importarbetsflödet. När du tidigare valde det här alternativet importerades inte kunddata och följande fel visades: `Invalid data for insert`.

<!-- MC-30357-->

* Stock Indexer aktiveras nu som förväntat efter import och produktstatus uppdateras. Tidigare indexerade inte Stock Indexer ändrade produktlagerdata.

<!-- MC-30528-->

* Programmet kan nu importera alla anpassade alternativ för en konfigurerbar produkts underordnade produkter när `store_view_code` anges. Detta fungerar oavsett om du väljer att importera konfigurerbara produkter individuellt eller tillsammans. Tidigare importerades inte alla anpassade alternativ när importfilen innehöll mer än ett objekt och `store_view_code` angavs.

<!-- MC-30672-->

* Programmet visar nu ett meddelande under produktimporten som identifierar vilka produkter i den importerade `.csv`-filen som har dubblettnycklar. Handlare kan använda den här informationen för att lösa konflikter. Tidigare visade programmet följande fel: `Notice: Undefined index: name in /var/www/html/ee233dev/app/code/Magento/CatalogImportExport/Model/Import/Product.php on line 2524`

<!-- MC-29960-->

* Programmet visar nu ett mer informativt felmeddelande och ingen nedladdningslänk visas när du försöker ta bort en katalog från listan **System** > **Exportera**. Tidigare, när du försökte ta bort en katalog från den här listan, fortsatte programmet att visa en nedladdningslänk för filer som inte kunde hämtas och visade ett felmeddelande som inte var informativt.

<!-- MC-29959-->

* Filen `.csv` som används vid import innehåller nu rätt länkar för hämtningsbara produkter och är nu korrekt formaterad för att stödja import och uppdatering av hämtningsbara produkter.

<!-- MC-30189-->

* Programmet exporterar nu en `.csv`-fil när du anger importbeteende för Ersätt, markerar en tidigare exporterad `.csv`-fil och klickar på **Kontrollera data**. Tidigare visades följande fel i programmet: `Data validation failed. Please fix the following errors and upload the file again` och `Following Error(s) has been occurred during importing process`.

<!-- MC-30141-->

* Stock Indexer aktiveras nu som förväntat efter import och produktstatus uppdateras. Tidigare indexerade inte Stock Indexer ändrade produktlagerdata.

<!-- MC-31198-->

* `.csv` filer som genereras under produktimporten innehåller nu grupprubriker för hämtningsbara produkter som förväntat. Tidigare förhindrade en onödig validering av `group_title` under importen att grupptitlar för hämtningsbara produkter visades.

<!-- MC-32153-->

* När `cron` är aktiverat och du utför en kundimport med alternativet **(Kund och Adresser (en fil))** fylls data i i med kundrutnätet för administratörer som förväntat. Kundrastret visar kunderna när manuell omindexering har slutförts för `customer_grid indexer`. Tidigare uppdaterades inte kundrutnätet med nyligen importerade kundadresser.

<!-- MC-32154-->

* Programmet visar nu kundlistan som förväntat efter automatisk omindexering. Tidigare visades kundinformation inte efter automatisk omindexering, trots att det gick att köra `bin/magento index:reindex` manuellt.

<!-- MC-30148-->

* Programmet tar nu bort temporära filer från `<Magento_home>/var` som förväntat efter att produktimporten har slutförts.

<!-- MC-31879-->

* Programmet skapar inte längre dubbletter av SKU:er i administratören när produkter importeras av filen `.csv`.

<!-- ENGCOM-6141-->

* Import misslyckas inte längre om det importerade konfigurerbara attributet innehåller ett likhetstecken (=) i värdet. _Korrigering har skickats av dhoang89 i pull-begäran [25194](https://github.com/magento/magento2/pull/25194)_. [GitHub-25188](https://github.com/magento/magento2/issues/25188)

<!-- ENGCOM-6901-->

* Alla exporterade stödrasterdata (både Adobe Commerce-data och anpassade data) har nu alternativetiketter i stället för alternativvärden för alla kolumner med typen `Select` eller `Multiselect`. När du tidigare exporterade dessa data innehöll det exporterade kalkylbladet kolumner med ID i stället för de värden som visades i rutnätet. _Korrigering har skickats av Maksym Novik i pull-begäran [26523](https://github.com/magento/magento2/pull/26523)_. [GitHub-25963](https://github.com/magento/magento2/issues/25963)

<!-- ENGCOM-7145-->

* Programmet visar nu paketprodukter på butiken som förväntat efter att du har uppdaterat en produkt genom att importera en `.csv`-fil. _Korrigering har skickats av Pavel Bystritsky i pull-begäran [25664](https://github.com/magento/magento2/pull/25664)_. [GitHub-25540](https://github.com/magento/magento2/issues/25540)

### Index

<!-- MC-25236 30779-->

* Vi har förbättrat prestandan för `indexer_update_all_views`. Indexeringen går nu snabbare, inaktiva regler bearbetas inte längre och cachelagring rensas av poster för endast ändrade produkter.

<!-- MC-29917-->

* Produktpriserna i butiken återspeglar nu korrekt tillämpningen av en schemalagd prisregeluppdatering för katalog. Tidigare speglade priserna inte den schemalagda kundvagnsprisregeln förrän du indexerade om manuellt (`php bin/magento indexer:reindex catalogrule_rule`).

<!-- MC-30588-->

* Du kan nu indexera om produktdatabasen när du har lagt till ett attribut som inte är sökbart (det vill säga attributen `is_searchable`, `is_filterable`, `is_visible_in_advanced_search` är inaktiverade).

<!-- ENGCOM-6533-->

* Programmet visar nu ett meddelande som identifierar indexeraren och den tid indexeringsåtgärden tog när en omindexeringsåtgärd misslyckades. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [26207](https://github.com/magento/magento2/pull/26207)_. [GitHub-26206](https://github.com/magento/magento2/issues/26206)

<!-- ENGCOM-7179-->

* Produkter som sparas i butiker där `onthefly`-indexeraren och platta tabeller är aktiverade uppfyller nu webbplatstilldelningar. Om du tidigare tog bort alla webbplatstilldelningar från en produkt och sedan sparade den, ingick produkten i alla platta tabeller, trots de angivna webbplatstilldelningarna.  _Korrigering har skickats av Abel Truong i pull-begäran [&#x200B; 27365](https://github.com/magento/magento2/pull/27365)_. [GitHub-16315](https://github.com/magento/magento2/issues/16315)

### Infrastruktur

* Webbläsaren Internet Explorer 1.x stöds inte längre.

<!-- MC-32223-->

* Verifieringslogiken som är associerad med fältet **Födelsedatum** i kundregistreringsformuläret utlöser inte längre ett JavaScript-fel.

<!-- ENGCOM-7000-->

* Ett integrationstest för att täcka `$storeId` för metoden Kategoridatabas `get()` har lagts till. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [27048](https://github.com/magento/magento2/pull/27048)_. [GitHub-27044](https://github.com/magento/magento2/issues/27044)

<!-- ENGCOM-6378-->

* Om du aktiverar inställningen **Blockera alla cookies** i Safari uppstår inte längre JavaScript-fel, och meddelandet `cookies disabled` visas som förväntat. Tidigare visade programmet flera `SecurityError (DOM Exception 18): The operation is insecure` fel i konsolen. _Korrigering har skickats av Ra̼ l Verdugo Lorenzo i pull-begäran [&#x200B; 25324 &#x200B;](https://github.com/magento/magento2/pull/25324)_. [GitHub-13865](https://github.com/magento/magento2/issues/13865)

<!-- ENGCOM-6674-->

* Programmet genererar inte längre det här felet när integrationstester körs: `Error: Call to a member function findFile() on array (/var/www/html/lib/internal/Magento/Framework/Code/Generator/DefinedClasses.php:59)`. Tidigare orsakade ett problem med `AutoloaderRegistry::getAutoloader` att integreringstester misslyckades slumpmässigt. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [26480](https://github.com/magento/magento2/pull/26480)_. [GitHub-26479](https://github.com/magento/magento2/issues/26479)

<!-- ENGCOM-6958-->

* Taggen `date` i `/module-sales/view/frontend/templates/order/order_date.phtml` har korrigerats till `span`. Tidigare loggade programmet ett fel i filen `exception.log` när du klickade på **Visa ordning** på sidan **Mitt konto** > **Mina beställningar**. _Korrigering har skickats av Android Chorniy i pull-begäran [25895](https://github.com/magento/magento2/pull/25895)_. [GitHub-13269](https://github.com/magento/magento2/issues/13269), [GitHub-25738](https://github.com/magento/magento2/issues/25738)

<!-- ENGCOM-6316-->

* Modulen JavaScript mixin har omarbetats för att förbättra inläsningen och tillämpningen av mixar för avancerade paketerade moduler. Tidigare lästes inte programmet in eller tillämpades blandningar för avancerade paketerade moduler.  _Korrigering har skickats av Mateusz Krzeszowiak i pull-begäran [25587](https://github.com/magento/magento2/pull/25587)_. [GitHub-25586](https://github.com/magento/magento2/issues/25586)

<!-- ENGCOM-6344-->

* Kommandot `grunt clean` rensar nu genererad kod och metadatamappar som förväntat. _Korrigering har skickats av Anziazychnyi i pull-begäran [25765](https://github.com/magento/magento2/pull/25765)_. [GitHub-25739](https://github.com/magento/magento2/issues/25739)

<!-- ENGCOM-6463-->

* `getVersion` result (`ProductMetadata::getVersion`) har nu cachelagrats, vilket förbättrar prestanda för metoden `ProductMetadata::getVersion`.  _Korrigering har skickats av Lukasz Lewandowski i pull-begäran [26001](https://github.com/magento/magento2/pull/26001)_. [GitHub-24025](https://github.com/magento/magento2/issues/24025)

<!-- ENGCOM-7037-->

* En set-metod som saknas för `additional_information` har lagts till i `OrderPaymentInterface`, vilket åtgärdar en inkonsekvens mellan dess schemadeklaration och godkända egenskaper. _Korrigering har skickats av Antonino Bonumore i pull-begäran [26748](https://github.com/magento/magento2/pull/26748)_. [GitHub-26745](https://github.com/magento/magento2/issues/26745), [GitHub-13222](https://github.com/magento/magento2/issues/13222)

### Navigering i flera lager

<!-- MC-31763-->

* Programmet återger nu attributet **Yes/No** på kategorisidan när **Use in Layered Navigation: Filterable (with results)** för storefront-egenskaper är aktiverat.

<!-- ENGCOM-6807-->

* Den överflödiga `\Magento\Sales\Model\Order\Email\Sender\ShipmentSender` har ersatts med `\Magento\Sales\Model\Order\Shipment\Sender\EmailSender`. _Korrigering har skickats av Adarsh Manickam i pull-begäran [26714](https://github.com/magento/magento2/pull/26714)_. [GitHub-14885](https://github.com/magento/magento2/issues/14885)

### Loggning

<!-- MC-29636-->

* Ändringar av orderstatus loggas nu som förväntat under **System** > **Åtgärdsloggar** > **Rapport**.

<!-- MC-29637-->

* Programmet loggar nu försäljningsutleveransåtgärder i administratörsåtgärdsloggen som förväntat.

<!-- MC-29892-->

* Åtgärder för att spara CMS-sidor är nu loggade i åtgärdsloggar för administratörer. Tidigare loggades bara visningsåtgärder.

<!-- MC-30618-->

* Spara-åtgärder på CMS-sidor loggas nu som väntat i administratörsåtgärdsloggarna när **Markera alla åtgärder som ska loggas** är aktiverat på fliken Administratörsåtgärder Loggning (**Admin** > **Lagrar** > **Konfiguration** > **Avancerat**).

<!-- ENGCOM-7274-->

* Ändringar av CMS-sidor loggas nu som förväntat i åtgärdsloggen. MFTF täcker nu den här funktionen.  _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [27597](https://github.com/magento/magento2/pull/27597)_. [GitHub-171](https://github.com/magento/magento2/issues/171)

### Mediegalleri

<!-- ENGCOM-6993-->

* Om du klickar på **Retur** efter att du har namngett en ny mapp i Mediegalleriet sparas nu alla ändringar du har gjort. Om du tidigare klickade på **Enter** i stället för att använda musen för att välja **OK** gick alla ändringar förlorade.  _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27029](https://github.com/magento/magento2/pull/27029)_. [GitHub-26847](https://github.com/magento/magento2/issues/26847)

<!-- ENGCOM-7490-->

* Nu kan du skapa en undermapp under Mediegalleriet som har samma namn som den primära mappen. Tidigare gick det inte att spara undermappen med samma namn. _Korrigering har skickats av Vadim Malesh i pull-begäran [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/adobe-stock-integration/issues/1270)

### Medielagring

<!-- MC-32593-->

* `var/resource_config.json` genereras inte längre om när en bild begärs av `get.php`. Tidigare skrevs den här filen om vid varje anrop till `get.php`.

### New Relic

<!-- ENGCOM-6461-->

* Jobbnamn för Adobe Commerce `cron` inkluderas nu som förväntat i Transaktionsspår i NewRelic APM Monitoring - Transactions. Detta inkluderar `cron` jobb som körs från kommandoraden samt jobb som körs av standardschemaläggaren.  _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [25957](https://github.com/magento/magento2/pull/25957)_. [GitHub-22047](https://github.com/magento/magento2/issues/22047)

### Nyhetsbrev

<!-- MC-31768-->

* Kunder kan nu prenumerera som förväntat på nyhetsbrev. Tidigare, när en kund försökte bekräfta sin prenumeration, visade programmet följande fel: `This is an invalid subscription confirmation code`.

<!-- ENGCOM-6525-->

* Nyhetsbrevets inmatningsfält för sidfoten i förgrunden återges nu identiskt av alla webbläsare som stöds.  _Korrigering har skickats av divyajyothi5321 i pull-begäran [26182](https://github.com/magento/magento2/pull/26182)_. [GitHub-26176](https://github.com/magento/magento2/issues/26176)

<!-- ENGCOM-6691-->

* Meddelanden från Storefront om nyhetsbrevprenumerationer återges nu som förväntat i HTML. _Korrigering har skickats av Oleh Usik i pull-begäran [26455](https://github.com/magento/magento2/pull/26455)_. [GitHub-25162](https://github.com/magento/magento2/issues/25162)

### Beställningar

<!-- MC-33456-->

* Delsummor för ordersammanfattning visar inte längre exkluderade skatter när inställningarna för webbplatsvisning anger att skatter ska exkluderas. Tidigare användes inställningen som definierats i servervariabeln för butiken trots konfigurationer på butiksnivå när flera webbplatser konfigurerades med olika visningsinställningar.

### Betalningsmetoder

<!-- MC -->

* Integrationen av tredjepartsbetalningsmetoderna Authorize.Net, Way, CyberSource, Braintree och Worldplay i kärnkoden har tagits bort. Handlare bör migrera till de officiella tilläggen som är tillgängliga på Commerce Marketplace.

<!-- MC -->

* Det finns inte längre stöd för implementering av signering av bedrägeriskydd. Merchants ska migrera till det [signerade tillägget Bedrägeri och återbetalningsskydd](https://marketplace.magento.com/signifyd-module-connect.html) som är tillgängligt på Commerce Marketplace.

<!-- MC-32546-->

* Du kan nu slutföra en beställning och gå tillbaka till handlarens hemsida när **Webbplatsbetalningar Pro Hosted Solution** har konfigurerats. När du tidigare klickade på **Återgå till handlare** uppstod följande fel i programmet: `Invalid Form Key. Please refresh the page`.

<!-- ENGCOM-6606-->

* När du byter faktureringsadress återges inte längre JavaScript funktionstext i betalningsavsnittet i kassan för butiken. _Korrigering har skickats av Chris Pook i pull-begäran [26378](https://github.com/magento/magento2/pull/26378)_. [GitHub-26375](https://github.com/magento/magento2/issues/26375)

<!-- ENGCOM-7223-->

* Kreditnotor visar nu korrekt belopp i fältet **Justeringsåterbetalning** i översikten över kreditnota.  _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27343](https://github.com/magento/magento2/pull/27343)_. [GitHub-13851](https://github.com/magento/magento2/issues/13851)

<!-- ENGCOM-6524-->

* Du kan nu ta bort ytterligare information från tabellen `quote_payment column additional_information` när du har sparat en offert. Tidigare gick det inte att ta bort den här informationen efter att offerten sparats eftersom metoden `unsAdditionalInformation` i `\Magento\Payment\Model\Info` inte initierade data korrekt.  _Korrigering har skickats av Marco Oliveira i pull-begäran [26084](https://github.com/magento/magento2/pull/26084)_. [GitHub-26083](https://github.com/magento/magento2/issues/26083)

<!-- ENGCOM-6609-->

* Betalningsinstruktioner hämtas nu från butiksvyn som en order gjordes från. Tidigare användes betalningsinstruktioner från standardbutiksvyn eftersom metoden `BeforeOrderPaymentSaveObserver` hämtade betalningsinstruktioner från standardbutiksvyn. _Korrigering har skickats av Karyna Tsymbal i pull-begäran [26399](https://github.com/magento/magento2/pull/26399)_. [GitHub-26332](https://github.com/magento/magento2/issues/26332)

<!-- ENGCOM-6953-->

* Programmet samlar nu in betalningsinformation som visas både på Admin och i faktura- och leveransfakturor från den butik där ordern gjordes i distributioner med flera butiker. Tidigare hämtades betalningsinformationen från standardbutiken.  _Korrigering har skickats av Bartomiej Szubert i pull-begäran [26765](https://github.com/magento/magento2/pull/26765)_. [GitHub-17933](https://github.com/magento/magento2/issues/17933)

#### PayPal

<!-- MC-30498-->

* Programmet visar nu ett informativt felmeddelande varje gång en kund klickar på **Pay med PayPal** efter att ha angett en ogiltig leveransadress i arbetsflödet för utcheckning. Tidigare visade programmet bara ett felmeddelande när kunden först klickade på knappen, inte för efterföljande klick.

<!-- MC-30639-->

* Programmet ändrar inte längre status för en order till `Processing` i avsnittet Betalningsgranskning i arbetsflödet för utcheckning när en betalning med PayPal misslyckas.

<!-- MC-30864-->

* Du kan nu slutföra en beställning med betalningsmetoden Payflow Link. Tidigare har Betalningsmetoden Payflow Link alltid avvisat betalningen eftersom orderstatusen förblev i betalningstillståndet `Pending`, även om orderstatusen i betalningsmetodloggarna var `Approved`.

<!-- MC-32494-->

* Beställningar som placeras med PayPal Payflow Pro har nu statusen `Suspected Fraud` när bedrägerifilter aktiveras.

<!-- MC-33110-->

* Nu kan du använda PayPal Express Checkout med alla kreditkort som stöds. Tidigare när du klickade på en kreditkortsknapp när du använde PayPal Express Checkout för att slutföra en beställning avbröt programmet och du kunde inte ange någon kreditkortsinformation.

<!-- MC-33117-->

* Beställningar som placerats i PayPal Payflow Pro har nu statusen `Suspected Fraud` när bedrägerifilter aktiveras. Tidigare validerades inte betalningstransaktionsstatus på PayPal innan betalningsgodkännande gjordes på programsidan.

<!-- MC-33294-->

* Payflow Pro fungerar nu som väntat när webbplatsbegränsningar är aktiverade.

<!-- MC-31196-->

* Programmet kan nu behandla beställningar som gjorts med PayPal Express Checkout där orderns leveransadress anger ett land som kunden har angett manuellt i textfältet i stället för i listrutan på sidan Leverans. Tidigare visades det här felet på sidan för ordergranskning: `Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527`. [GitHub-26698](https://github.com/magento/magento2/issues/26698)

<!-- MC-31573-->

* Betalningsmetoden PayPal Pro fungerar nu som väntat i webbläsaren Chrome 80. Den här betalningsmetoden har tidigare anropat en återanropsslutpunkt som behövde åtkomst till kundens session - åtkomst som den nya standardfunktionen för cookie-filer för Chrome SameSite inte tillåter. [GitHub-26840](https://github.com/magento/magento2/issues/26840)

<!-- MC-31292-->

* Du kan nu använda PayPal Express för att betala för en beställning när en beständig utcheckningsvagn har aktiverats och inställningen **Rensa beständighet vid utloggning** har angetts till **no**. Tidigare dirigerades du till inloggningssidan av programmet.

<!-- ENGCOM-6383-->

* Betalningar från Paypal Express och Web Payments Pro övergår nu till läget `Processing` som förväntat när bearbetningen har påbörjats. Tidigare var Paypal Web Payments Pro-betalningar i betalningstillståndet `Pending` även när betalningsinformationen var i läget `Processing`. _Korrigering har skickats av azambon i pull-begäran [25876](https://github.com/magento/magento2/pull/25876)_. [GitHub-25659](https://github.com/magento/magento2/issues/25659)

### Prestanda

<!-- MC-31499-->

* Logiken för ogiltigförklaring av kunddataavsnitt har förbättrats. I den här versionen introduceras ett nytt sätt att ogiltigförklara alla kundsektionsdata som undviker ett känt problem med lokal lagring när anpassade `sections.xml`-ogiltigförklaringar är aktiva. (Tidigare fylldes inte privat innehåll (lokal lagring) korrekt när du hade en anpassad *etc/frontend/sections.xml* med åtgärdsåvningar.) Se [Privat innehåll](https://developer.adobe.com/commerce/php/development/cache/page/private-content/#invalidate-private-content).

<!-- MC-31449-->

* Importen av kundkonton har omarbetats för att förbättra importhastigheten.

<!-- MC-23383 ENGCOM-7006-->

* Merchants kan nu använda [lazy loading](https://en.wikipedia.org/wiki/Lazy_loading) för att läsa in bilder. _Korrigering har skickats av Timon de Groot i pull-begäran [27033](https://github.com/magento/magento2/pull/27033)_. [GitHub-27032](https://github.com/magento/magento2/issues/27032)

<!-- ENGCOM-6988-->

* Instrumentpanelsdiagram har migrerats till biblioteket `chart.js`.  _Korrigering har skickats av Bartomiej Szubert i pull-begäran [&#x200B; 26923](https://github.com/magento/magento2/pull/26923). [GitHub-186](https://github.com/magento/community-features/issues/186)_

<!-- ENGCOM-6232-->

* Prestandan för åtgärder som körs på stora kataloger som innehåller många produktattribut (på skalan 3 000 - 2 3000 alternativ) har förbättrats genom omfaktorisering av hur arrayer för attributalternativ byggs. _Korrigering har skickats av Behnam Shayani i pull-begäran [25452](https://github.com/magento/magento2/pull/25452)_. [GitHub-20966](https://github.com/magento/magento2/issues/20966)

### Priser

<!-- ENGCOM-6647-->

* Programmet sparar nu och visar rätt pris för nivåindelade produkter även efter att du har redigerat produkter flera gånger. Tidigare sparade inte programmet de senaste ändringarna av produktpriset. _Korrigering har skickats av Ravi Chandra i pull-begäran [26162](https://github.com/magento/magento2/pull/26162)_. [GitHub-25195](https://github.com/magento/magento2/issues/25195)

<!-- ENGCOM-6914-->

* Procentsatsen för både fast rabatt och rabatt tillämpas nu korrekt på orderns slutpris. Tidigare visade programmet ett felaktigt pris (både fast och rabatt) för att spara i procent på produktinformationssidan. _Korrigering har skickats av Sathish Subramanian i pull-begäran [26584](https://github.com/magento/magento2/pull/26584)_. [GitHub-26583](https://github.com/magento/magento2/issues/26583)

### Produktvarning

<!-- MC-30255-->

* Lagervarningsmeddelandet som skickas till kunder om återlagring av en konfigurerbar produkt innehåller nu korrekt produktpris. Tidigare innehöll det här e-postmeddelandet ett produktpris på 0.

<!-- MC-32873-->

* Avbeställning av produktStock fungerar nu när en användarsession har gått ut. När du tidigare klickade på länken **Klicka här för att stoppa aviseringar för den här produkten** så visade programmet ett 404-fel.

<!-- MC-31979-->

* Avbeställningsåtgärder för produktaviseringar fungerar nu som förväntat. När en kund tidigare klickade på länken **Klicka här för att stoppa aviseringar för den här produkten** så visade programmet ett 404-fel.

### Produktvideo

<!-- MC-23743-->

* Nu kan du använda REST för att uppdatera YouTube-videofilmer (PUT `rest/V1/products/{SKU}`). Tidigare visade programmet en miniatyrbild för videon, men videospelaren lästes inte in när du klickade på knappen **Spela upp**. [GitHub-23194](https://github.com/magento/magento2/issues/23194)

### Rapporter

<!-- ENGCOM-6635-->

* Produktlistor beställer nu konfigurerbara produkter per SKU, som grupperar konfigurerbara produkter efter variationer. Tidigare grupperades produkter av `product_id` i rapporten. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [25858](https://github.com/magento/magento2/pull/25858)_. [GitHub-25856](https://github.com/magento/magento2/issues/25856)

<!-- ENGCOM-6427-->

* Tabellen **Admin** > **Rapporter** > **Uppdatera statistik** visar nu **Uppdaterad vid = null** som **Aldrig** i kolumnen **Uppdaterad** i stället för **undefined**. _Korrigering har skickats av Eden Duong i pull-begäran [25932](https://github.com/magento/magento2/pull/25932)_. [GitHub-25931](https://github.com/magento/magento2/issues/25931)

<!-- ENGCOM-6925-->

* LågStock-rapporten innehåller inte längre inaktiverade produkter. _Korrigering har skickats av Mohamed-Asar i pull-begäran [&#x200B; 26862](https://github.com/magento/magento2/pull/26862)_. [GitHub-26838](https://github.com/magento/magento2/issues/26838)

<!-- ENGCOM-7110-->

* Programmet visar nu ett korrekt värde för fältet **År-till-datum-start** i **Admin** > **Lagrar** > **Konfiguration** > **Allmänt** > **Rapporter**. _Korrigering har skickats av Priya-V-Panchal i pull-begäran [27088](https://github.com/magento/magento2/pull/27088)_. [GitHub-27086](https://github.com/magento/magento2/issues/27086)

### Return Merchandise Authorizations (RMA)

<!-- MC-24906-->

* Programmet visar inte längre något fel när du har skapat en beställning och RMA från butiken. Tidigare skapade programmet RMA som förväntat, men det här felet visades också: `We can't create a return right now. Please try again later`.

<!-- MC-30181-->

* Spårningslänkar som ingår i butiksorderreturer fungerar nu som förväntat. När en kund tidigare klickade på länken för leveransspårning på orderretursidan visades följande fel: `PHP Fatal error: Uncaught Error: Call to a member function getTitle() on null in /app/z7kvt3uys6daq/var/view_preprocessed/pub/static/vendor/magento/module-shipping/view/frontend/templates/tracking/details.phtml:1`.

<!-- MC-30237-->

* Fliken Returnerar visas nu som förväntat när du har skapat en orderretur från administratören.

<!-- MC-34150-->

* En onödig sträng har tagits bort från RMA-e-postmallen (`app/code/Magento/Rma/view/frontend/email/new.html`).

### Recensioner

<!-- MC-29578-->

* Programmet inaktiverar nu knappen **Skicka granskning** när användaren klickar på knappen en gång. Tidigare inaktiverades inte knappen av programmet efter det första klicket och flera granskningar skapades när användaren klickade på knappen **Skicka granskning** flera gånger.

<!-- MC-31293-->

* Filterlistan **Admin** > **Rapporter** > **Recensioner** > **Efter produkter** visar nu resultat som förväntat. Tidigare visades inga resultat när du försökte filtrera listan.

<!-- ENGCOM-6938-->

* Menyobjektet Väntande granskningar aktiveras nu som förväntat på **Admin** > **Marknadsföring** > **Användarinnehåll** > **Väntande granskningar**.  _Korrigering har skickats av Ravinder i pull-begäran [26230](https://github.com/magento/magento2/pull/26230)_. [GitHub-26229](https://github.com/magento/magento2/issues/26229)

### Belöningar

<!-- MC-31459-->

* Programmet återbetalar nu belöningspoäng som förväntat när en order returneras till en butik som körs i en miljö med flera butiker där olika belöningspoängsatser har angetts för varje butik. Tidigare återbetalade inte programmet poäng som förväntat för en returnerad order som köpts med belöningspoäng.

### Försäljning

<!-- MC-29426-->

* Slutförda order visas nu både i betalningssystemet och i Adobe Commerce. Tidigare fanns beställningar i betalningssystemet men inte i Adobe Commerce. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-30000-->

* Ansökan uppfyller nu kundens standardleveransadress. Tidigare följde inte programmet standardadresserna för fakturering och standardleverans enligt inställningarna, och inställningen **Samma som faktureringsadress** aktiverades inte automatiskt.

<!-- MC-30299-->

* Ansökan beräknar nu korrekt återbetalningar för order som innehåller rabatter. Tidigare beräknades fraktskatt och fraktrabatt felaktigt och den återbetalade summan stämde inte överens med den summa som betalades.

<!-- MC-33165-->

* Programmet tilldelar nu rätt grupp-ID när en ny kund skapar en order i distributioner på flera platser. Tidigare tillämpades inställningarna från standardkundgruppen i programmet.

<!-- MC-31786-->

* Administratörer med begränsade behörigheter som inkluderar visningsbehörighet för kreditnotor, fakturor och leveranser kan nu visa fakturor och leveranser från sidan Beställningar som förväntat. Tidigare, när en begränsad administratör försökte visa en order, visades följande fel i programmet: `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- MC-24023-->

* Programmet visar inte längre något fel när en kund lägger till en kvantitet av en produkt i kundvagnen som överstiger hälften av det befintliga lagret, men som inte överstiger det totala lagret. Tidigare visade programmet följande fel: `The requested qty is not available`. [Github-24365](https://github.com/magento/magento2/issues/24365)

<!-- ENGCOM-6910-->

* Du kan nu lägga till en produkt i kundvagnen från administratören när lagerkvantiteten är 1. Tidigare lade programmet inte till produkten i varukorgen och visade följande meddelande: `The requested qty is not available`. _Korrigering har skickats av Serhii Petrychenko i pull-begäran [26650](https://github.com/magento/magento2/pull/26650)._ [GitHub-25675](https://github.com/magento/magento2/issues/25675)

<!-- ENGCOM-7090-->

* Programmet visar nu ett informativt felmeddelande när en butiksadministratör försöker beställa om en produkt vars anpassade alternativ har ett namn som överskrider det högsta antalet tecken. Tidigare visade programmet rapportsidan under dessa förhållanden, inte ett meddelande. _Korrigering har skickats av Mudit Shukla i pull-begäran [&#x200B; 26348](https://github.com/magento/magento2/pull/26348)_. [GitHub-26345](https://github.com/magento/magento2/issues/26345)

<!-- ENGCOM-6328-->

* Layouten för redigeringsformuläret för försäljningsorderadressinformation har omarbetats för att matcha konventionerna för administratörsformulärbiblioteket. _Korrigering har skickats av Alexey Rakitin i pull-begäran [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6007-->

* Kryssrutorna i avsnittet Produkter på sidan **Katalog** > **Kategorier** fungerar nu som förväntat.  _Korrigering har skickats av Denis Kopylov i pull-begäran [22990](https://github.com/magento/magento2/pull/22990)_. [GitHub-22988](https://github.com/magento/magento2/issues/22988)

<!-- ENGCOM-6809-->

* Metoden `getCustomer` returnerar nu kundobjektet enligt definitionen i blocket `phpdoc`. Tidigare returnerade metoden `NULL` och `phpdoc`-blocket visade inte att metoden kunde returnera `NULL`. _Korrigering har skickats av Fanis Strezos i pull-begäran [26423](https://github.com/magento/magento2/pull/26423)_. [GitHub-25268](https://github.com/magento/magento2/issues/25268)

<!-- ENGCOM-6492-->

* Ombeställningar inaktiveras nu som väntat när en handlare inaktiverar **Admin** > **Store** > **Konfiguration** > **Försäljning** > **Ändra ordning** > **Tillåt beställning**.  _Korrigering har skickats av Eden Duong i pull-begäran [26051](https://github.com/magento/magento2/pull/26051)_. [GitHub-25130](https://github.com/magento/magento2/issues/25130)

<!-- ENGCOM-6627-->

* Metoden `getPrice()` returnerar nu ett flyttal eller null i stället för en sträng när du anger ett anpassat pris för en order i Admin.  _Korrigering har skickats av Android Chorniy i pull-begäran [26313](https://github.com/magento/magento2/pull/26313)_. [GitHub-25968](https://github.com/magento/magento2/issues/25968)

<!-- ENGCOM-6786-->

* Kolumnen **Statuskod och Titel** i **Admin** > **Lagrar** > Inställningar > **Beställningsstatus** visar nu status i stället för status som förväntat.  _Korrigering har skickats av Oleh Usik i pull-begäran [26569](https://github.com/magento/magento2/pull/26569)_. [GitHub-17847](https://github.com/magento/magento2/issues/17847)

<!-- ENGCOM-6936-->

* PDF fakturor registrerar nu korrekt inköpsdatum när de skapas i ett GB-språk. _Korrigering har skickats av Eden Duong i pull-begäran [26701](https://github.com/magento/magento2/pull/26701)_. [GitHub-26675](https://github.com/magento/magento2/issues/26675)

### Försäljningsregel

<!-- MC-30155-->

* `quote_item.applied_rule_ids` uppdateras nu som förväntat efter att en kundprisregel har inaktiverats. [GitHub-24526](https://github.com/magento/magento2/issues/24526)

<!-- MC-32229-->

* Programmet visar nu kategoriträd som förväntat när du försöker skapa eller redigera en kundvagnsprisregel. Om du tidigare valde en kategori i villkorsavsnittet när du skapade eller redigerade en regel, uppstod JavaScript-fel.

<!-- ENGCOM-6824-->

* Programmet beräknar nu korrekt fasta rabatter på kundvagnsnivå med hjälp av kundprisregler när en konfigurerbar produkt först läggs till i kundvagnen. _Korrigering har skickats av Lachlan Turner i pull-begäran [26623](https://github.com/magento/magento2/pull/26623)_. [GitHub-26622](https://github.com/magento/magento2/issues/26622)

### Sök {#search-heading}

* Elasticsearch 7.6.x är nu standardkatalogsökmotor för Adobe Commerce och Adobe Commerce. Du kan inte installera eller uppgradera till version 2.4.0 utan att också installera Elasticsearch 7.6.x. Elasticsearch version 2.x-kod har tagits bort. Elasticsearch version 5.x och 6.x har tagits bort och stöds inte längre. Se [Krav för sökmotor](../../../installation/prerequisites/search-engine/overview.md).

<!-- MC-23753-->

* Programmet återger nu symbolerna **&lt;** och **>** korrekt i söksträngar för butikskataloger.

<!-- MC-25010-->

* Produkterna visas nu som väntat i kategorier efter att ha kört `cron:run` i distributioner som implementerar Elasticsearch.

<!-- MC-25254-->

* Programmet behöver inte längre ett fullständigt sökindex för att ett nytt produktattribut ska kunna sökas igenom i butiken.

<!-- MC-29545-->

* Elasticsearch fungerar nu som väntat när du sorterar en produktlista som innehåller produktpaket efter produktnamn i alfabetisk ordning.

<!-- MC-29951-->

* Filtreringsresultaten inkluderar inte längre alternativ som inte finns i lager när du filtrerar konfigurerbara produkter i en kategori.

<!-- MC-30131-->

* Om du väljer alla produkter på produktlistsidan med Elasticsearch visas nu alla produkter i sökresultatet som förväntat. Tidigare visade programmet inga sökresultat.

<!-- MC-30201-->

* Elasticsearch visar nu korrekt resultat från kategorisidor när du ändrar antalet sökresultat som visas per sida. När du tidigare ändrade hur många sökresultat som skulle visas på sökresultatsidan, visade programmet en tom sida och följande fel: `"0":"SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near'`

<!-- MC-32430-->

* Prissortering fungerar nu korrekt för färdiga konfigurerbara produkter.

<!-- MC-25176-->

* Programmet genererar inte längre ett undantag när en kund använder snabbsökningen i flera webbplatser.

<!-- ENGCOM-6842-->

* Programmet visar inte längre en varning när en handlare öppnar söktermsidan genom att klicka på alternativet Sök villkor i sidfoten för **Markering** > **SEO och sökning** > **Sökvillkor**.  _Korrigering har skickats av vishal-webkul i pull-begäran [25246](https://github.com/magento/magento2/pull/25246)_. [GitHub-25245](https://github.com/magento/magento2/issues/25245)

<!-- ENGCOM-7289-->

* Programmet ändrar inte längre storlek på visningsrutan när du klickar på sökrutan när du kör Safari i mobilvyn.  _Korrigering har skickats av Pawe Tylek i pull-begäran [&#x200B; 27603](https://github.com/magento/magento2/pull/27603). [GitHub-27506](https://github.com/magento/magento2/issues/27506)_

<!-- ENGCOM-6364-->

* Elasticsearch-versionerna identifieras nu med X.x-notation i stället för X.0+-notation i Admin (**Store** > Inställningar > **Konfiguration** > **Katalog** > **Katalog** > **Katalogsökning**). _Korrigering har skickats av Andreas Mautz i pull-begäran [25838](https://github.com/magento/magento2/pull/25838)_. [GitHub-25674](https://github.com/magento/magento2/issues/25674)

### Leverans

<!-- MC-32782-->

* Du kan nu skicka en beställning till flera adresser om någon av de beställda produkterna är en virtuell produkt. Tidigare gick det att beställa de fysiska produkterna, men den virtuella produktordern var tom.

<!-- MC-29276-->

* Ansökan tillämpar nu rabatter på fasta belopp och hela kundvagnar korrekt för order som skickas till flera adresser. Tidigare tillämpades den här typen av rabatt flera gånger när en kund checkade ut en order med Checka ut med flera adresser. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- MC-29444-->

* Listrutan som är tillgänglig för val av leveransmetoder när en kundvagnsprisregel skapas innehåller nu bara giltiga värden. Tidigare innehöll den här listrutan tomma eller extra värden.

<!-- MC-30186-->

* Programmet skriver nu ut leveransetiketter som en `.pdf`-fil som förväntat när du väljer **Skriv ut leveransetikett** i listrutan Åtgärd i listan över orderarkiv. Tidigare visade programmet ett 404-fel.

<!-- MC-31396-->

* Reglerna för fraktfritt påverkar nu endast de relevanta produkterna när en kundvagn innehåller produkter från kategorier som omfattas av regeln om fraktfritt samt produkter från kategorier som inte ingår i regeln. Tidigare tillämpades inte fri frakt på några produkter när en varukorg innehöll produkter från både den kostnadsfria leveranskategorin och andra kategorier som inte ingick i prisregeln.

<!-- ENGCOM-6436-->

* Programmet visar inte längre en tom sida i stället för att visa alla transportföretag i listrutan/flervalsrutan. Tidigare uppstod ett fel i funktionen `toOptionArray` i `vendor/magento/module-shipping/Model/Config/Source/Allmethods.php`. _Korrigering har skickats av Marc Rodriguez i pull-begäran [25315](https://github.com/magento/magento2/pull/25315)_. [GitHub-13136](https://github.com/magento/magento2/issues/13136)

* Programmet tillämpar inte längre en fast rabatt flera gånger när en kund skapar en order som ska skickas till flera adresser.  _Korrigering har skickats av Mahesh Singh i pull-begäran [26419](https://github.com/magento/magento2/pull/26419)_. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- ENGCOM-6523-->

* Plugin-program för `Magento\Ups\Model\Carrier` som implementerar anpassad `di.xml` fungerar nu korrekt i utvecklarläge. Tidigare uppstod följande fel i programmet: `1 exception(s): Exception #0 (BadMethodCallException): Missing required argument $data of Magento\Ups\Model\Carrier`. _Korrigering har skickats av Bartomiej Szubert i pull-begäran [26130](https://github.com/magento/magento2/pull/26130)_. [GitHub-25390](https://github.com/magento/magento2/issues/25390)

### Webbplatskarta

<!-- MC-29362-->

* Programmet använder nu projektets bas-URL som förväntat när du genererar en platskarta.

<!-- ENGCOM-6670-->

* De genererade webbplatskartorna innehåller nu URL:en för hemsidan. _Korrigering har skickats av djupgående i pull-begäran [&#x200B; 26445](https://github.com/magento/magento2/pull/26445)_. [GitHub-25761](https://github.com/magento/magento2/issues/25761)

### Mellanlagring

<!-- MC-32342-->

* Administratörer med begränsad åtkomst till en webbplats i en flersidig distribution kan nu förhandsgranska en schemalagd uppdatering för den webbplatsen. Tidigare användes standardlagret som standard i mellanlagringsförhandsvisningen, och om användaren inte hade tillgång till standardarkivet utlöstes ett undantag.

<!-- MC-32736-->

* Redigering av ett befintligt schema resulterar inte längre i ett duplicerat schema. Tidigare när du redigerade ett befintligt schema duplicerades det av programmet och när du försökte öppna det duplicerade schemat genererades ett fel.

<!-- MC-32432-->

* Korsförsäljningsprodukter visas nu som förväntat på Visa- och Redigera kundvagnssidor efter att en schemauppdatering har skapats för en eller flera av dessa produkter.

### Butik

<!-- MC-25187-->

* Kundsessionerna blir nu som förväntat när en kund loggar in på en butik, lägger till produkter i kundvagnen och sedan växlar till en ny butik i en distribution för flera butiker. Tidigare loggade programmet ut kunden och tömde kundvagnen när kunden navigerade till den andra butiken.

<!-- ENGCOM-4781-->

* Programmet tar nu bort poster som är relaterade till en borttagen butiksvy från tabellerna `sale_sequence_meta` och `sales_sequence_profile` som förväntat. _Korrigering har skickats av Bartomiej Szubert i pull-begäran [2296](https://github.com/magento/magento2/pull/22296)_. [GitHub-14958](https://github.com/magento/magento2/issues/14958)

<!-- ENGCOM-6869-->

* Butiksväljaren fungerar nu som förväntat när du växlar mellan butiker med olika bas-URL:er. Tidigare, när en kund använde butiksväljaren för att växla mellan butiker, misslyckades begäran om målbutiken hade en annan bas-URL än den aktuella butiken. _Korrigering har skickats av Tobias Nilsson i pull-begäran [26548](https://github.com/magento/magento2/pull/26548)_. [GitHub-23755](https://github.com/magento/magento2/issues/23755), [GitHub-26384](https://github.com/magento/magento2/issues/26384)

### Färgrutor

<!-- MC-30294-->

* Merchants kan nu lägga till färgruteattribut i produkter med alternativet **Visuell färgruta** i **Lager** > **Attribut** > **Produkt** > **Nytt attribut**. Tidigare utlöstes ett JavaScript-fel när du försökte öppna det nyligen skapade färgruteattributet.

<!-- ENGCOM-6750-->

* Det lägsta annonserade priset ändras nu som väntat när en kund väljer ett nytt färgrutealternativ för en konfigurerbar produkt. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [26241](https://github.com/magento/magento2/pull/26241)_. [GitHub-26240](https://github.com/magento/magento2/issues/26240)

<!-- ENGCOM-6685-->

* Programmet duplicerar inte längre det lägsta annonserade priset för en konfigurerbar produkt när du väljer ett nytt alternativ för färgruta. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [26317](https://github.com/magento/magento2/pull/26317)_. [GitHub-26314](https://github.com/magento/magento2/issues/26314)

<!-- ENGCOM-6966-->

* Åtgärdade problem med beteendet i listrutan i området Hantera färgruta (värden för attributet) på sidan Nytt produktattribut.  _Korrigering har skickats av Oleh Usik i pull-begäran [26090](https://github.com/magento/magento2/pull/26090)_. [GitHub-25910](https://github.com/magento/magento2/issues/25910)

### TargetRule

<!-- MC-31546-->

* Det relaterade produktblock som visas för en produkt i butiken visar nu de produkter som uppfyller villkoren som definieras i regeln för relaterade produkter. Tidigare visades inga relaterade produkter i programmet.

### Moms

<!-- MC-29579-->

* Programmet uppdaterar nu fraktsatser och priser som förväntat när en kund ändrar destinationslandet för en beställning under utcheckningen.

<!-- MC-30546-->

* Kostnadsfri frakt används nu som förväntat baserat på den tillämpliga kundprisregeln. Tidigare beaktades inte moms vid beräkningen av om en order uppfyller kriterierna för fri frakt.

<!-- MC-32402-->

* Programmet genererar inte längre något fel när du redigerar och sparar kundgruppen `NOT LOGGED IN` när B2B är installerat.

### Testa

>[!NOTE]
>
>**MFTF använder nu Google Authenticator för att köra tester med 2FA aktiverat. MFTF fungerar inte med 2.4.0 utan ytterligare konfigurationssteg för att aktivera Google Authenticator**. Se [Konfigurera MFTF för tvåfaktorautentisering (2FA)](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/#magento-functional-testing-framework).

<!-- ENGCOM-6585-->

* Hårdkodade URL:er i test- och åtgärdsgrupper har ersatts med sidreferenser. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran 117 i private database partners-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-7273-->

* Testerna omfattar nu loggning av administratörsåtgärder för CMS-sidor. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran 172 i private database partners-magento2ee_. [GitHub-171](https://github.com/magento/magento2/issues/171)

<!-- ENGCOM-7040 7051-->

* Ogiltiga funktionstestnamn har ändrats för att följa vedertagna standarder. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [&#x200B; 27118](https://github.com/magento/magento2/pull/27118) och pull-begäran 151 i private database partners-magento2ee. [GitHub-27117](https://github.com/magento/magento2/issues/27117)_

<!-- ENGCOM-7026-->

* Adobe Commerce `cron` används nu för omindexering efter att testdata har skapats, och i tillämpliga fall `cache:flush config` ersätter `cache:flush` . _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [26990](https://github.com/magento/magento2/pull/26990)_. [GitHub-26989](https://github.com/magento/magento2/issues/26989)

<!-- ENGCOM-7421-->

* Godkännandetester följer nu namnkonventioner för `Magento/Indexer`- och `Magento/Backup`-moduler.  _Korrigering har skickats av Shankar Konar i pull-begäran [27515](https://github.com/magento/magento2/pull/27515)_. [GitHub-27503](https://github.com/magento/magento2/issues/27503)

<!-- ENGCOM-6791 6825-->

* `AdminReorderWithCatalogPrice`-testet har omarbetats och misslyckas inte längre under CI-valideringsprocessen. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran 135 i private database partners-magento2ee_. [GitHub-26607](https://github.com/magento/magento2/issues/26607)

<!-- ENGCOM-6780 6795-->

* `AdminAddingNewOptionsWithImagesAndPricesToConfigurableProduct`- och `StorefrontApplyPromoCodeDuringCheckout`-testerna har omarbetats och fungerar inte längre under CI-valideringsprocessen. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [&#x200B; 26611](https://github.com/magento/magento2/pull/26611) och pull-begäran [&#x200B; 26614](https://github.com/magento/magento2/pull/26614)_. [GitHub-26612](https://github.com/magento/magento2/issues/26612), [GitHub-26610](https://github.com/magento/magento2/issues/26610)

<!-- ENGCOM-6621-->

* `DeleteProduct and DeleteCustomer Action Groups`-testerna har omarbetats och fungerar inte längre under CI-valideringsprocessen. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [26407](https://github.com/magento/magento2/pull/26407)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

<!-- ENGCOM-6608-->

* `AdminMoveAnchoredCategoryTest.xml`-testerna har omarbetats och fungerar inte längre under CI-valideringsprocessen. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [26395](https://github.com/magento/magento2/pull/26395)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

#### Integrationstester

<!-- ENGCOM-7143-->

* Efterföljande begäranden i integreringstester misslyckas inte längre. Tidigare misslyckades testerna eftersom begäranobjekt delades mellan utskick. Metoden `resetRequest` tömmer nu tillståndet för `request`. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [27300](https://github.com/magento/magento2/pull/27300)_. [GitHub-27299](https://github.com/magento/magento2/issues/27299)

<!-- ENGCOM-7262-->

* Ytterligare integreringstester har lagts till för att täcka in `Magento_Customer` e-postfunktioner. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [27606](https://github.com/magento/magento2/pull/27606)_. [GitHub-27607](https://github.com/magento/magento2/issues/27607)

#### PHP-enhetstester

<!-- ENGCOM-7435 7306-->

* PHP-enhetstester orsakar inte längre det här allvarliga felet: `Fatal error: Class Mock_CartExtensionInterface_0ba80a0b contains 2 abstract methods and must therefore be declared abstract or implement the remaining methods (Magento\Quote\Api\Data\CartExtensionInterface::getAmazonOrderReferenceId, Magento\Quote\Api\Data\CartExtensionInterface::setAmazonOrderReferenceId) in /var/www/html/vendor/phpunit/phpunit-mock-objects/src/Generator.php(264) : eval()'d code on line 1`. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäranden 178 i den privata databasen partners-magento2ee och [27701](https://github.com/magento/magento2/pull/27701)_. [GitHub-27638](https://github.com/magento/magento2/issues/27638)

<!-- ENGCOM-7271-->

* Tester för `Offline_Payments` är nu kompatibla med PHPUnit 8.  _Korrigering har skickats av Cristiano Pacheco i pull-begäran [27627](https://github.com/magento/magento2/pull/27627)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-7243 7284 7291-->

* Enhetstester för `Framework`, `AdminAnalytics`, `AdminNotification` och `AMPQ` har uppdaterats för PHPUnit 8. _Korrigering har skickats av Ihor Sviziev i pull-begäranden [&#x200B; 27522](https://github.com/magento/magento2/pull/27522), [&#x200B; 27521](https://github.com/magento/magento2/pull/27521), [&#x200B; 27519](https://github.com/magento/magento2/pull/27519), [27522](https://github.com/magento/magento2/pull/27522)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-6542-->

* Du kan nu köra enhetstestet `\Magento\Downloadable\Test\Unit\Helper\DownloadTest` utan att vara ansluten till Internet.  _Korrigering har skickats av Alomano89 i pull-begäran [26264](https://github.com/magento/magento2/pull/26264)_. [GitHub-23521](https://github.com/magento/magento2/issues/23521)

<!-- ENGCOM-6695-->

* Enhetstestet för `app/code/Magento/Fedex/Model/Source/Generic.php` har lagts till. _Korrigering har skickats av Sathish Subramanian i pull-begäran [26549](https://github.com/magento/magento2/pull/26549)_.

<!-- ENGCOM-7251 7283 7472-->

* `<magentoCron>` har lagts till i flera tester, vilket utlöser partiell omindexering. Ändringarna åtgärdar problem som skapade falska negativ i funktionstester som omfattade `Magento_Bundle`, `CatalogImportExport`, `CatalogInventory`, `CatalogRule`, `Backend`, `Braintree` och `Captcha`. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäranden [&#x200B; 27322](https://github.com/magento/magento2/pull/27322), [&#x200B; 27323](https://github.com/magento/magento2/pull/27323), [&#x200B; 27321](https://github.com/magento/magento2/pull/27321)_. [GitHub-27320](https://github.com/magento/magento2/issues/27320)

<!-- ENGCOM-6844-->

* Alla felaktiga användningar av `<amOnPage>` har ersatts med en lämplig `<actionGroup>` för Admin-utloggning där detta är tillämpligt i testerna. _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran 116 i private database partners-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-6352-->

* Varje åtgärdsgrupp i ett test har flyttats till en separat fil för att följa god MFTF-praxis och inkonsekventa filnamn har ändrats. Tester för följande moduler har påverkats:

   * module-catalog-permissions
   * module-shared-catalog
   * module-catalog-event
   * module-banner
   * module-admin-gws
   * module-advanced-checkout
   * modulleverans
   * module-ui
   * modulleverans
   * module-checkout-address-search
   * module-sales
   * module-catalog
   * module-catalog-rule-staging
   * module-visual-merchandiser
   * module-customer

  _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäranden [&#x200B; 25800](https://github.com/magento/magento2/pull/25800), [&#x200B; 26323](https://github.com/magento/magento2/pull/26323), [&#x200B; 26321](https://github.com/magento/magento2/pull/26321), [&#x200B; 26320](https://github.com/magento/magento2/pull/26320), [26319](https://github.com/magento/magento2/pull/26319)&rbrace;, [26322](https://github.com/magento/magento2/pull/26322), [25828](https://github.com/magento/magento2/pull/25828), [26329](https://github.com/magento/magento2/pull/26329) (och pull-begäranden 104, 105, 106, 107, 108, 109, 111, 119, 120, 121 i private database partners-magento2ee)_. [GitHub-22853](https://github.com/magento/magento2/issues/22853)

### Tema

<!-- MC-29804-->

* Ett fel i `JsFooterPlugin.php` som påverkade visningen av dynamiska block har åtgärdats. Tidigare visades det här felet i programmet när du använde `/banner/ajax/load/url` direkt: `Uncaught TypeError: strpos() expects parameter 1 to be string, null given in`.

<!-- ENGCOM-6708-->

* Med metoden `i18n` kan du lägga till en sträng i understreck-mallar.  _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [26435](https://github.com/magento/magento2/pull/26435)_. [GitHub-18012](https://github.com/magento/magento2/issues/18012)

<!-- ENGCOM-6666-->

* Modulen `section-config` har omarbetats. Denna omfaktorisering har reducerat fel som orsakats av att tredjepartsmoduler gjort POST-begäranden eller begärt kunddata direkt innan modulen initierades av `data-mage-init`. _Korrigering har skickats av Mateusz Krzeszowiak i pull-begäran [25764](https://github.com/magento/magento2/pull/25764)_. [GitHub-17125](https://github.com/magento/magento2/issues/17125)

<!-- ENGCOM-6924-->

* `LoadCssAsync` HTML-formatfel har åtgärdats. _Korrigering har skickats av Sathish Subramanian i pull-begäran [26764](https://github.com/magento/magento2/pull/26764)_. [GitHub-26760](https://github.com/magento/magento2/issues/26760)

<!-- ENGCOM-7052-->

* När du skapar `default.xml`- och `catalog_product_view.xml`-filer som en del av skapandet av ett nytt tema, skapas dessa sidor eller loggas fel i loggfilerna som förväntat. Tidigare loggade programmet fel i filen `vendor/magento/framework/View/Page/Config/Renderer.php`. _Korrigering har skickats av Vinh Le in pull-begäran [27026](https://github.com/magento/magento2/pull/27026)_. [GitHub-27009](https://github.com/magento/magento2/issues/27009)

### Översättning och nationella inställningar

<!-- MC-24186-->

* Inline-översättning fungerar nu som väntat i butiken när **Admin** > **Lagrar** > **Konfiguration** > **Avancerat** > **Utvecklare** > **Översätt infogat** > **Aktiverat för Storefront** är inställt.

<!-- MC-31663-->

* Inline-översättning fungerar nu som förväntat när den aktiveras för en lagerfront.

<!-- ENGCOM-7064-->

* Produkt-URL-nycklar transkriberas nu som förväntat. _Korrigering har skickats av DanieliMi i pull-begäran [26506](https://github.com/magento/magento2/pull/26506)_. [GitHub-26499](https://github.com/magento/magento2/issues/26499)

<!-- ENGCOM-6899-->

* Språkinställningen `es_US Spanish (United States)` stöds nu. _Korrigering har skickats av Vinh Le in pull-begäran [26857](https://github.com/magento/magento2/pull/26857)_. [GitHub-26843](https://github.com/magento/magento2/issues/26843)

<!-- ENGCOM-6996-->

* Numeriskt antal platshållare och JavaScript-kodplatshållare är nu lika många. Tidigare antog JavaScript-koden 0% medan det numeriska platshållarantalet började med %1.  _Korrigering har skickats av korostii i pull-begäran [25359](https://github.com/magento/magento2/pull/25359)_. [GitHub-25243](https://github.com/magento/magento2/issues/25243)

<!-- ENGCOM-6557-->

* Du kan nu inaktivera översättningen av sidrubriken för sidan med produktinformation (`page.main.title`), som är aktiverad som standard. _Korrigering har skickats av Bartomiej Szubert i pull-begäran [26269](https://github.com/magento/magento2/pull/26269)_. [GitHub-7065](https://github.com/magento/magento2/issues/7065)

<!-- ENGCOM-7465-->

* Problem med återgivning av arabiska och hebreiska i PDF-dokument med fakturor har åtgärdats. _Korrigering har skickats av Ihor Sviziev i pull-begäran [27887](https://github.com/magento/magento2/pull/27887)_. [GitHub-25769](https://github.com/magento/magento2/issues/25769)

<!-- ENGCOM-6646-->

* Arvsordningen för språkpaket används nu på en första listat, första användningsbas som förväntat och enligt beskrivningen i dokumentationen.  _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [26420](https://github.com/magento/magento2/pull/26420)_. [GitHub-8691](https://github.com/magento/magento2/issues/8691)

<!-- ENGCOM-6443-->

* Programmet visar nu det här felmeddelandet när du anger ett icke-latinskt tecken för ett mappnamn i språk där endast latinska bokstäver stöds: `Please rename the folder using only Latin letters, numbers, underscores and dashes`. _Korrigering har skickats av Eden Duong i pull-begäran [&#x200B; 25904](https://github.com/magento/magento2/pull/25904). [GitHub-25896](https://github.com/magento/magento2/issues/25896)_

<!-- ENGCOM-6539-->

* Längden på kolumnen `locale` för `directory_country_region_name` har ökats från 8 till 16 för att stödja språkinställningar som `zh_Hans_CN`. _Korrigering har skickats av Bartomiej Szubert i pull-begäran [26268](https://github.com/magento/magento2/pull/26268)_. [GitHub-14001](https://github.com/magento/magento2/issues/14001)

### UI

<!-- MC-32547-->

* Du kan nu använda Page Builder för att lägga till en produkt som en knapplänk (**Redigera innehåll** > **Knapplänk**). Tidigare uppstod det här felet i programmet när du försökte välja produkten: `Product with ID: XXXX doesn't exist`.

<!-- ENGCOM-7490-->

* Knappen Bakåt fungerar nu som väntat från **Admin** > **Lagrar** > **Beställningsstatus** > **Redigera beställningsstatus**. _Korrigering har skickats av Vadim Malesh i pull-begäran [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/magento2/issues/1270)

<!-- ENGCOM-6692-->

* Förhandsvisningsbilderna ändras inte längre oväntat när du använder piltangenterna för att flytta markören i fältet **Filnamn** i Adobe Stock-listan. _Korrigering har skickats av Adarsh Manickam i pull-begäran [25991](https://github.com/magento/magento2/pull/25991)_. [GitHub-847](https://github.com/magento/magento2/issues/847)

<!-- ENGCOM-6414-->

* Fältet **Ditt lösenord** i avsnittet Aktuell verifiering av användaridentitet på sidan **Admin** > **System** > **Integrationer** ärver nu format som förväntat. _Korrigering har skickats av Eduard Chitoraga i pull-begäran [25918](https://github.com/magento/magento2/pull/25918)_. [GitHub-25917](https://github.com/magento/magento2/issues/25917)

<!-- ENGCOM-6482-->

* Indata som valideras av JavaScript-valideraren i butiken godkänns också i administratörsverifieringen. Tidigare räknade JavaScript-valideraren nya rader som ett enda tecken i butiken, men på serversidan räknade `\Magento\Catalog\Model\Product\Option\Type\maxCharacters` nya rader som två tecken. _Korrigering har skickats av Grzegorz Bogusz i pull-begäran [26033](https://github.com/magento/magento2/pull/26033)_. [GitHub-25974](https://github.com/magento/magento2/issues/25974)

<!-- ENGCOM-6517-->

* Taggen `subTitle` tas inte längre bort när du ändrar en modal titel med anropet `setTitle()`. Tidigare raderades `setTitle()` när du försökte skapa en popup eller ett anpassat modalt format med en titel och en undertitel och sedan ändrade titeln med metoden `subTitle`. _Korrigering har skickats av Andrea Parmeggiani i pull-begäran [26142](https://github.com/magento/magento2/pull/26142)_. [GitHub-26141](https://github.com/magento/magento2/issues/26141)

<!-- ENGCOM-6464-->

* Undermenyn på fliken Administratörsmarknadsföring justeras nu automatiskt till längden på menyalternativen som förväntat.  Nu kan du även rulla vågrätt.  _Korrigering har skickats av Paweolika Tylek i pull-begäran [&#x200B; 26034 &#x200B;](https://github.com/magento/magento2/pull/26034)_. [GitHub-18687](https://github.com/magento/magento2/issues/18687)

<!-- ENGCOM-6519-->

* Tabellen `quote` i kolumnen `customer_note` använder nu typen `text` som förväntat. Tidigare användes typen `varchar(255)`. _Korrigering har skickats av Ravi Chandra i pull-begäran [26160](https://github.com/magento/magento2/pull/26160)_. [GitHub-26155](https://github.com/magento/magento2/issues/26155)

<!-- ENGCOM-7153-->

* Visningsproblem med tabellrubriken i tabellen **Mitt konto** > **Adressbok** adressposter har korrigerats.  _Korrigering har skickats av Abrar Pathan i pull-begäran [27336](https://github.com/magento/magento2/pull/27336)_. [GitHub-27335](https://github.com/magento/magento2/issues/27335)

<!-- ENGCOM-5986-->

* Valutasymbolen som används i steget Navigeringspris i lager baseras nu på standardinställningarna som förväntat.  _Korrigering har skickats av Bartomiej Szubert i pull-begäran [24815](https://github.com/magento/magento2/pull/24815)_. [GitHub-21684](https://github.com/magento/magento2/issues/21684)

<!-- ENGCOM-6324-->

* Symbolen för den vitryska valutan (BYR) har uppdaterats till BYN. _Korrigering har skickats av Bartomiej Szubert i pull-begäran [25723](https://github.com/magento/magento2/pull/25723)_. [GitHub-24713](https://github.com/magento/magento2/issues/24713)

<!-- ENGCOM-6622-->

* Avsnittet Jämför produkter på katalogsidan visas nu som väntat i mobilvyn på skärmar med upplösningar under 767 px. _Åtgärd har skickats av Hitesh i pull-begäran [&#x200B; 26418](https://github.com/magento/magento2/pull/26418)_. [GitHub-26416](https://github.com/magento/magento2/issues/26416)

<!-- ENGCOM-6376-->

* Rullning av produktsidor fungerar nu som väntat i mobilvyn.  _Korrigering har skickats av Mateusz Krzeszowiak i pull-begäran [25385](https://github.com/magento/magento2/pull/25385)_. [GitHub-10518](https://github.com/magento/magento2/issues/10518), [GitHub-21717](https://github.com/magento/magento2/issues/21717)

<!-- ENGCOM-6368-->

* Nu kan du bläddra bland miniatyrbilder av galleriet på produktsidan i mobilvyn som du förväntar dig. _Korrigering har skickats av iGerchak i pull-begäran [25839](https://github.com/magento/magento2/pull/25839)_. [GitHub-21014](https://github.com/magento/magento2/issues/21014)

<!-- ENGCOM-6425-->

* Om du klickar på temarubriken på **Admin** > **Innehåll** > **Teman** skapas inte längre dubblettposter. _Korrigering har skickats av Eden Duong i pull-begäran [25926](https://github.com/magento/magento2/pull/25926)_. [GitHub-25925](https://github.com/magento/magento2/issues/25925)

<!-- ENGCOM-6328-->

* Layouten på sidan Admin - Faktureringsadress/Leveransadress har omarbetats för att uppfylla administratörens visningsregler för formulär. _Korrigering har skickats av Alexey Rakitin i pull-begäran [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-23481](https://github.com/magento/magento2/issues/23481), [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6628 6593-->

* Länken Lägg till i jämförelse på produktinformationssidan återges nu korrekt i mobilvyn på skärmar med en upplösning på mindre än 640 px. _Korrigering har skickats av Pawe Tylek i pull-begäran [&#x200B; 26424](https://github.com/magento/magento2/pull/26424) och Tejash Kumbhare i pull-begäran [&#x200B; 26365](https://github.com/magento/magento2/pull/26365)_. [GitHub-26364](https://github.com/magento/magento2/issues/26364)

<!-- ENGCOM-6607-->

* Etiketten **Sortera efter** överlappar inte längre knappen **Handla efter** på kategorisidan i mobilvyn. _Korrigering har skickats av Android Kartavtsev i pull-begäran [26381](https://github.com/magento/magento2/pull/26381)_. [GitHub-25300](https://github.com/magento/magento2/issues/25300)

<!-- ENGCOM-7137-->

* Du kan nu uppdatera värdet för en hämtningsbar produkts exempel- och länktitel genom att aktivera kryssrutan **Använd standard**. _Korrigering har skickats av Abel Truong i pull-begäran [27295](https://github.com/magento/magento2/pull/27295)_. [GitHub-27169](https://github.com/magento/magento2/issues/27169)

<!-- ENGCOM-6532-->

* Avståndet mellan knappen **Uppdatera** och fältet **Kvantitet** i minikorgen har korrigerats.  _Åtgärd har skickats av Hitesh i pull-begäran [&#x200B; 26234 &#x200B;](https://github.com/magento/magento2/pull/26234)_. [GitHub-26227](https://github.com/magento/magento2/issues/26227)

<!-- ENGCOM-7032-->

* Den undre kantlinjefärgen i tabellen Ytterligare adressposter på adressbokssidan matchar nu `thead` och `tbody` kantlinjefärg. _Korrigering har skickats av Tejash Kumbhare i pull-begäran [26649](https://github.com/magento/magento2/pull/26649)_. [GitHub-26648](https://github.com/magento/magento2/issues/26648)

<!-- ENGCOM-7195-->

* Frågemodulerna utför inte längre någon bekräftelseåtgärd när en användare klickar på den modala övertäckningen. _Korrigering har skickats av Serhiy Zhovnir i pull-begäran [27399](https://github.com/magento/magento2/pull/27399)_.

### URL

<!-- ENGCOM-7112-->

* Kategoridatabasen (metoden spara) har omarbetats, vilket tidigare hade förhindrat dig från att skapa unika sökvägar när du ändrar en kategori-URL-nyckel. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27304](https://github.com/magento/magento2/pull/27304)_. [GitHub-14080](https://github.com/magento/magento2/issues/14080)

<!-- ENGCOM-7208-->

* Valideringen av nyckellogiken för kategori-URL har förbättrats. _Korrigering har skickats av Sergiy Vasiutynskyi pull-begäran [27412](https://github.com/magento/magento2/pull/27412)_. [GitHub-13689](https://github.com/magento/magento2/issues/13689)

### URL-omskrivningar

<!-- MC-31147-->

* Kunder som ändrar språk på en CMS-sida kan nu navigera till butiksvyn de valt. Tidigare visade programmet ett 404-fel.

<!-- ENGCOM-6997-->

* URL-omskrivningsgenerering för produkt-URL:er som du har aktiverat inkludering av kategorisökvägar fungerar nu som förväntat. I distributioner med flera butiksvyer genererade programmet ibland felaktiga URL-skrivningar genom att använda standardvärdet för kategorins URL-sökväg i stället för den butiksspecifika URL-sökvägen. _Korrigering har skickats av Pieter Hoste i pull-begäran [26784](https://github.com/magento/magento2/pull/26784)_. [GitHub-25124](https://github.com/magento/magento2/issues/25124), [GitHub-11616](https://github.com/magento/magento2/issues/11616)

<!-- ENGCOM-6995-->

* Vi har lagt till en kontroll för att förhindra URL-omdirigeringar om sökvägen till begäran är densamma som målsökvägen. _Korrigering har skickats av Bartomiej Szubert i pull-begäran [&#x200B; 26902 &#x200B;](https://github.com/magento/magento2/pull/26902)_. [GitHub-20309](https://github.com/magento/magento2/issues/20309)

<!-- ENGCOM-6303-->

* Omskrivningsåtgärder för URL tar inte längre bort en frågesträng från en URL när URL:en har ett avslutande snedstreck.  _Korrigering har skickats av Alexey Arendarenko i pull-begäran [25603](https://github.com/magento/magento2/pull/25603)_. [GitHub-18717](https://github.com/magento/magento2/issues/18717)

### moms

<!-- ENGCOM-7458-->

* URL:en för momsvalidering har korrigerats för [EU-momsregistreringsnummer](https://ec.europa.eu/taxation_customs/vies/checkVatService.wsdl).  _Korrigering har skickats av Shikha Mishra i pull-begäran [27886](https://github.com/magento/magento2/pull/27886)_. [GitHub-27874](https://github.com/magento/magento2/issues/27874)

### Visual Merchandiser

<!-- MC-31136-->

* Sidan Redigera kategori fungerar nu som väntat när du drar och släpper produkter på en ny plats. Tidigare flyttades visningsfönstret högst upp på sidan när du drog och släppte produkter på en kategorisida.

### Webb-API-ramverk

<!-- MC-29891-->

* Problem med POST `/rest/default/async/bulk/V1/orders`-anrop har korrigerats.

<!-- MC-30675-->

* Problem med POST `/rest/default/async/bulk/V1/products`-anrop har korrigerats.

<!-- ENGCOM-6945-->

* Metoden `getList` har omarbetats för att hämta tilläggsattributet `is_subscribed`. Tidigare gick det inte att hämta det här attributet när en kundenhet hämtades via API:t. _Korrigering har skickats av enriquei4 i pull-begäran [25311](https://github.com/magento/magento2/pull/25311)_. [GitHub-13252](https://github.com/magento/magento2/issues/13252)

<!-- ENGCOM-6500-->

* Uppdatering av kundinformation via `/V1/customers/:id` återställer inte längre `group_id` i onödan. Tidigare ändrades kundgruppen till 1 när du uppdaterade en kund via REST om brödtexten inte innehöll någon kundgrupp. _Korrigering har skickats av MaxRomanov4669 i pull-begäran [25958](https://github.com/magento/magento2/pull/25958)_. [GitHub-14663](https://github.com/magento/magento2/issues/14663)

<!-- ENGCOM-6920-->

* Nullningsbara get-metoder i tjänstkontrakt orsakar inte längre reflektionsfel när de används i webb-API:t. Metoder som kan returnera null och en giltig typ fungerar nu korrekt oavsett ordning.  _Korrigering har skickats av Marco K̦-paketet i pull-begäran [25806](https://github.com/magento/magento2/pull/25806)_. [GitHub-25656](https://github.com/magento/magento2/issues/25656)

<!-- ENGCOM-7075-->

* Du kan nu använda POST `/V1/guest-carts/:cartId/items` för att lägga till produkter i en viss kundvagn. Tidigare, när du använde det här anropet, ignorerade programmet värdet `cartId`. _Korrigering har skickats av Vadim Malesh i pull-begäran [27172](https://github.com/magento/magento2/pull/27172)_. [GitHub-14086](https://github.com/magento/magento2/issues/14086)

<!-- ENGCOM-7102-->

* Du kan nu använda slutpunkten `PUT /V1/cmsPage/:id` för att spara en sidtitel i CMS utan att ändra värdena för andra fält. _Korrigering har skickats av Vadim Malesh i pull-begäran [27237](https://github.com/magento/magento2/pull/27237)_. [GitHub-24704](https://github.com/magento/magento2/issues/24704)

<!-- ENGCOM-7011-->

* Sidindelningen av resultat från REST-begäranden är nu korrekt. När du tidigare begärde resultat från en viss sida (till exempel `page_size` = 1 och ett `current_page` -värde som var utanför omfånget) upprepade anropet den sista resultatsidan i stället för ett informationsmeddelande.  _Korrigering har skickats av Lukasz Bajsarowicz i pull-begäran [26988](https://github.com/magento/magento2/pull/26988)_. [GitHub-26986](https://github.com/magento/magento2/issues/26986), [GitHub-8099](https://github.com/magento/magento2/issues/8099)

<!-- ENGCOM-6540-->

* Resultatet av GET `/V1/orders/items/{id}` innehåller nu ett element för tilläggsattribut som innehåller presentationsmeddelandedata. _Korrigering har skickats av Laura Folco i pull-begäran [25946](https://github.com/magento/magento2/pull/25946)_. [GitHub-19093](https://github.com/magento/magento2/issues/19093)

### Önsklista

<!-- MC-29988-->

* En önskelista fungerar nu som förväntat när den är aktiverad på butiksvisningsnivå och inaktiverad på global nivå. Tidigare när de här inställningarna var på plats, resulterade tillägg av en produkt i en önskelista i ett 404-fel.

<!-- MC-30196-->

* Programmet sparar nu korrekt och visar ett nytt namn för en önskelista när du byter namn på en önskelista i distributioner som innehåller flera önskelistor. Tidigare fortsatte programmet att visa det tidigare önskelistenamnet.

<!-- MC-31948-->

* Nu kan du navigera i och ändra önskelistor från kundvagnen i distributioner som kör Internet Explorer 11.x. Tidigare gick det inte att skapa, redigera eller flytta en önskelista i den här miljön.

<!-- ENGCOM-6518-->

* Vi har förbättrat felmeddelandet som visas när en kund försöker dela sin önskelista med fler e-postadresser än vad som tillåts.  _Korrigering har skickats av divyajyothi5321 i pull-begäran [26066](https://github.com/magento/magento2/pull/26066)_. [GitHub-26064](https://github.com/magento/magento2/issues/26064)

<!-- ENGCOM-6723-->

* Programmet visar nu sidan Min önskelista som förväntat på skärmar med en upplösning på över 768 px och mindre än 1 023 px. _Åtgärd har skickats av Hitesh i pull-begäran [&#x200B; 26546](https://github.com/magento/magento2/pull/26546)_. [GitHub-26543](https://github.com/magento/magento2/issues/26543)

<!-- ENGCOM-7062-->

* Det e-postmeddelande som genereras när du klickar på **Dela önskelista** visar nu samma produktbilder som önskelistsidan. _Korrigering har skickats av Michael Bottens i pull-begäran [&#x200B; 27125](https://github.com/magento/magento2/pull/27125). [GitHub-27124](https://github.com/magento/magento2/issues/27124)_

<!-- ENGCOM-6602-->

* Kunderna kan nu lägga till både en enkel produkt som ingår i en grupperad produkt och samma enkla produkt med en annan kvantitet.  _Korrigering har skickats av MaxRomanov4669 i pull-begäran [26258](https://github.com/magento/magento2/pull/26258)_. [GitHub-11209](https://github.com/magento/magento2/issues/11209)

### WYSIWYG

<!-- ENGCOM-6275-->

* WYSIWYG Image Uploader använder nu `pub/media/wysiwyg` som lagringsrot. Tidigare användes `pub/media` som lagringsrot för den överförda filen, vilket gjorde att de överförda bilderna inte var tillgängliga efter de senaste ändringarna av koden för bildöverföring. _Korrigering har skickats av Pieter Hoste i pull-begäran [24878](https://github.com/magento/magento2/pull/24878)_. [GitHub-22609](https://github.com/magento/magento2/issues/22609)

<!-- ENGCOM-7045-->

* TinyMCE4 i Chrome webbläsare hanterar nu dubbelbyte-tecken som förväntat. Tidigare kunde TinyMCE4 inte hantera dubbelbytetecken (som t.ex. kinesiska) på Chrome. _Korrigering har skickats av Hirokazu Nishi i pull-begäran [25454](https://github.com/magento/magento2/pull/25454)_. [GitHub-24637](https://github.com/magento/magento2/issues/24637)

## Kända fel - allmänt

**Problem**: Anomalier i felmeddelanden i butiker inträffar i distributioner där PHP 7.4.2 är installerat. När 2.4.0 distribueras med PHP 7.4.2 ersätts blankstegssymbolerna i felmeddelanden i butiken med plustecken (+). Felet är inbyggt i PHP 7.4.2 och kan inte korrigeras av Adobe Commerce. **Tillfällig lösning**: Vi rekommenderar att du använder andra versioner av PHP 7.4.x. Se [&#x200B; Visa Raw-meddelandedata på butiken &#x200B;](https://support.magento.com/hc/en-us/articles/360045804332) Kunskapsbasartikeln. <!-- MC-34170-->

**Utgåva**: Det går inte att lägga till beställda produkter i ett paket från sidan Admin Create Package och spara paketet. Se artikeln [Skapa leveransetiketter](https://support.magento.com/hc/en-us/articles/360046750171) i kunskapsbasen. Snabbkorrigeringen **MC-35514-2.4.0-CE-Composer.patch** för det här problemet är nu tillgänglig i [Releases](https://magento.com/tech-resources/download). <!-- MC-35514-->

**Problem**: Programmet visar det här felmeddelandet under installation med tillägg från tredje part som är beroende av API:er för modulen `Store` i CLI-kommandon: `The default website isn't defined. Set the website and try again`. **Tillfällig lösning**: Ta bort beroenden på tillägg från tredje part från Composer, installera Magento och installera sedan tillägg från tredje part.

**Utgåva**: Knappen **Lägg till markeringar i kundvagnen** längst ned i kundvagnen fungerar inte. **Tillfällig lösning**: Använd knappen **Lägg till markeringar i kundvagnen** högst upp på sidan. Se [Det går inte att lägga till markeringar i kundvagnsknappen](https://support.magento.com/hc/en-us/articles/360045838312) i kunskapsbasartikeln. <!-- MC-35313-->

**Utgåva**: Marknadsförare kan inte interagera med några sidelement på retursidan efter att ha skapat en leveransetikett för en RMA (Return Merchandise Authorization). Se [Returnerar redigeringssidan som slutar fungera när en artikel i kunskapsbasen för leveransetikett skapas.](https://support.magento.com/hc/en-us/articles/360046441312) Snabbkorrigeringen **MC-35984-2.4.0-Composer.patch** för det här problemet är nu tillgänglig i [Releases](https://magento.com/tech-resources/download). <!-- MC-35984-->

**Utgåva**: Administratörer kan inte lägga till en konfigurerbar produkt per SKU i en offert. När en administratör klickar på knappen **Lägg till i offert**, var sidan Redigera offert fortfarande i ett inläsningsläge och administratören kunde inte spara ändringarna. **Tillfällig lösning**: Det finns ingen lösning för B2B-offertredigering.  Du kan dock fortfarande beställa produkter genom att välja produkterna i produktlistan i stället för att lägga till dem med SKU. Se [B2B-administratören kan inte lägga till en konfigurerbar produkt i en artikel i kunskapsbasen för citattecken](https://support.magento.com/hc/en-us/articles/360046801971). <!-- MC-35513-->

**Utgåva**: Det går inte att skapa en ny beställning från administratören eftersom **Lägg till produkter efter SKU** och **Lägg till produkter**  saknas knappar på sidan för att skapa order när JavaScript bundling är aktiverat.  **Tillfällig lösning**: Inaktivera JavaScript-paketet för din distribution. <!-- MC-36044-->

**Utgåva**: Programmet innehåller ett `404 not found`-fel när en kund försöker ta bort belöningspunkter när han eller hon checkar ut en order som skickas till flera adresser. <!-- MC-35955-->

**Problem**: Om du redigerar en konfigurerbar produkt från en kunds önskelista uppstår följande oväntade beteende: Ett oväntat fält visas på sidan Konfigurera produkt och sidan Konfigurera produkt försvinner inte när du klickar på **OK**. Programmet visar även det här meddelandet: `Please load Wish List item`. **Tillfällig lösning**: Läs in sidan Konfigurera produkt igen. <!-- MC-35617-->

**Utgåva**: Kunder kan inte ändra antalet beställningar som visas per sida när beställningslistan sträcker sig över flera sidor. För närvarande visas det här meddelandet när du navigerar till den sista sidan med order och försöker ändra antalet order som visas per sida: `You have placed no orders`. Se [Visningsfel för beställningar](https://support.magento.com/hc/en-us/articles/360046802271) i kunskapsbasartikeln.  **Tillfällig lösning**: Om du öppnar sidan Mina beställningar igen visas listan över beställningar. <!-- MC-34153-->

**Problem**: Om du klickar direkt på knappen **Exportera momssatser** på sidan Lägg till ny momsregel ( **Butik** > **Skatteregler**) hämtas inte filen `tax_rates.csv` som förväntat. **Tillfällig lösning**: Klicka på kanten av knappen **Exportera momssatser**.  Se [Export Tax Rates fungerar inte i &#x200B;](https://support.magento.com/hc/en-us/articles/360045850032) Knowledge Base-artikeln. <!-- MC-35345-->

**Problem**: Knapparna **Uppdatera** för de senast beställda objekten, produkterna i jämförelselistan och de senast jämförda produkterna på sidan Administratörskundaktiviteter fungerar inte som förväntat. För närvarande rullar programmet sidan varje gång knappen **Uppdatera** klickas och produktnamnet visas inte. Se [Uppdatera om kundens aktiviteter fungerar inte i &#x200B;](https://magento.zendesk.com/hc/en-us/articles/360046091332) kunskapsbasartikeln. <!-- MC-35296-->

### B2B

**Utgåva**: Om en rabattkod går ut innan en inköpsorder har godkänts fortsätter inköpsordern att visa det rabatterade beloppet, men när inköpsordern har godkänts placeras den på den icke-rabatterade summan. **Tillfällig lösning**: Installera snabbkorrigeringen **B2B-709 Purchase Order Discount** för det här problemet, som nu är tillgänglig under **Mitt konto** > **Hämtningar** i `magento.com`.

**Problem**: Programmet genererar ett undantag under uppgradering till B2B 1.2.0 i en distribuering på flera webbplatser. När `setup:upgrade` körs inträffar det här felet i modulen `PurchaseOrder`: `Module Magento_PurchaseOrder: Unable to apply data patch Magento\PurchaseOrder\Setup\Patch\Data\InitPurchaseOrderSalesSequence for moduleMagento_PurchaseOrder`. **Tillfällig lösning**: Installera **B2B-716-gränssnittet Add NonTransactionableInterface i snabbkorrigeringen InitPurchaseOrderSalesSequence**, som nu är tillgänglig i **Mitt konto** > **Hämtningar** i `magento.com`.

## Kända fel - VBE

### Amazon Pay

* **Utgåva**: Betalningsmetoder saknas i utcheckningsarbetsflödet när en kund klickar på **Återgå till standardutcheckning** vid utcheckning med Amazon Pay.  **Tillfällig lösning**: Uppdatera utcheckningssidan för att visa de metoder som saknas.  <!-- BUNDLE-2661-->

* **Utgåva**: Programmet visar två identiska Amazon Pay-metoder i den nedrullningsbara listan Betalningsmetod som är tillgänglig när en ny kundvagnsprisregel skapas.  <!-- BUNDLE-2685-->

### Braintree

* **Utgåva**: Programmet visar ett fel när en administratör försöker få åtkomst till sidan för Braintree-kvittningsrapport (**Admin** > **Rapporter** ). Programmet visar för närvarande följande meddelande: `An error has happened during application run. See exception log for details`. Se [Braintree kvittningsrapport kan inte läsa in &#x200B;](https://support.magento.com/hc/en-us/articles/360046798251) kunskapsbasartikel. Programfixen **BUNDLE-2683_SettingReport.patch** för det här problemet är nu tillgänglig i [Releases](https://magento.com/tech-resources/download). <!-- BUNDLE-2683-->

* **Utgåva**: Det går inte att skapa partiella fakturor för order i distributioner där Venmo är aktiverat och inställningen **Aktivera valv för kortbetalningar** är inaktiverad. För närvarande visas följande fel: `The "vault_capture" command doesn't exist. Verify the command and try again`. <!-- BUNDLE-2647-->

* **Utgåva**: Programmet visar två identiska PayPal-metoder i den nedrullningsbara listan Betalningsmetod som är tillgänglig när en ny kundvagnsprisregel skapas.   <!-- BUNDLE-2686-->

* **Utgåva**: Det uppstod ett fel i programmet när **Sales** > **Braintree Virtual Terminal** öppnades. Även om formuläret innehåller skadade gränssnittselement accepteras ändå betalningar. **Tillfällig lösning**: Spara rätt Braintree-autentiseringsuppgifter, som korrigerar de komprimerade inmatningsfälten. Se [Braintree Virtual Terminal-sidan är skadad](https://support.magento.com/hc/en-us/articles/360046800071) i kunskapsbasartikeln. Programfixen **BUNDLE-2670_VirtualTerminal.patch** för det här problemet är nu tillgänglig i [Releases](https://magento.com/tech-resources/download). <!-- BUNDLE-2670-->

* **Problem**: Programmet visar ett felmeddelande i följande länder när en kund väljer en lokal betalningsmetod under utcheckning: Belgien, Nederländerna, Italien, Spanien och Polen.  **Tillfällig lösning**: Ignorera felmeddelandet och fortsätt med betalningen.

### dotdigital

* **Problem**: Integrationstester misslyckas med följande fel: `PHP Fatal error: Declaration of Dotdigitalgroup\Email\Test\Integration\Model\Sync\Importer\ImporterFailedTest::setUp() must be compatible with PHPUnit\Framework\TestCase::setUp(): void in /var/www/vendor/dotmailer/dotmailer-magento2-extension/Test/Integration/Model/Sync/Importer/ImporterFailedTest.php on line 36`. **Tillfällig lösning**: Programfixen **BUNDLE-2684 Dotdigital Integration Tests** för det här problemet är nu tillgänglig i [Releases](https://magento.com/tech-resources/download). <!-- BUNDLE-2684-->

### Klarna

* **Problem**: Om fältet **Designtema** lämnas tomt i Klarna On-Site Messaging (**Admin** > **Stores** > **Configuration** > **Klarna settings**) skapas en tom sida.  **Tillfällig lösning**: Välj ett designtema och spara.  <!-- BUNDLE-2623-->

### Hörn

* **Problem**: Programmet visar en **adressverifieringsknapp** i avsnittet för leverans i arbetsflödet för utcheckning, även när adressverifiering är inaktiverad. Adressvalideraren kontrollerar inte den uppdaterade adressen igen och fortsätter att visa ett meddelande som anger att adressen är ogiltig när en kund anger en korrekt adress efter att först ha angett en felaktig adress, även när adressverifiering är aktiverad. **Tillfällig lösning**: Inaktivera vertex-adressverifiering. <!-- BUNDLE-2604-->

## Bidrag från gemenskapen

Vi är tacksamma mot den bredare Magento Open Source-communityn och vill tacka för deras bidrag till denna release. Ta en titt på följande sätt:

* Om en community-medlem har angett en korrigering för den här versionen identifierar vi korrigeringen i avsnittet med åtgärdade fel i dessa anteckningar med frasen *Korrigera från community-medlem*.

* Community Engineering-teamet [Magento Contributors](https://magento.biterg.io/app/kibana) har en lista över de mest bidragsgivande personerna och partnerna per månad, kvartal och år. På den Contributors-sidan kan du följa länkar till deras sammanslagna PR på GitHub.

### Partnerbidrag

I följande tabell visas partnerernas bidrag. I den här tabellen visas den partner som har bidragit med pull-begäran, den externa pull-begäran och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-0-partner.md}}

### Individuella bidrag

Följande tabell visar bidragen från våra communitymedlemmar. I den här tabellen visas externa pull-begäranden, GitHub-utgåvans nummer som är kopplat till den (om tillgängligt) och den community-medlem som bidrog med pull-begäran.

{{$include /help/_includes/release-notes/engcomm-2-4-0-issues.md}}

### Systemkrav

Vår teknikstack bygger på PHP och MySQL. Mer information finns i [Systemkrav](../../../installation/system-requirements.md).

### Installations- och uppgraderingsanvisningar

Du kan installera Adobe Commerce 2.4.0 med Composer.

## Migreringsverktygspaket

Med datamigreringsverktyget kan du överföra befintliga data från Magento 1.x-arkivet till Magento 2.x. Det här kommandoradsgränssnittet innehåller funktioner för verifiering, spårning av förlopp, loggning och testning. Installationsanvisningar finns i [Installera datamigreringsverktyget](https://experienceleague.adobe.com/docs/commerce-operations/tools/data-migration/basics/install.html). Utforska eller bidra till databasen [Datamigrering](https://github.com/magento/data-migration-tool).

Med [Code Migration Toolkit](https://github.com/magento/code-migration) kan du överföra befintliga Magento 1.x-butikstillägg och anpassningar till Magento 2.x. Kommandoradsgränssnittet innehåller skript för konvertering av Magento 1.x-moduler och -layouter.

<!-- Last updated from includes: 2023-06-06 14:26:38 -->
