---
title: Versionsinformation om Magento Open Source 2.4.4
description: Läs om nya funktioner, förbättringar, felkorrigeringar och kända fel i version 2.4.4 Magento Open Source.
recommendations: noCatalog
exl-id: 877e2517-3487-4f54-9e08-a0b67e0de057
source-git-commit: 4bcc68890e16e51f0a84ed3d0d47b1f3dbbd52f0
workflow-type: tm+mt
source-wordcount: '10566'
ht-degree: 0%

---

# Versionsinformation om Magento Open Source 2.4.4

Magento Open Source 2.4.4 har nu stöd för PHP 8.1. Alla projektbibliotek och beroenden har uppdaterats för kompatibilitet med PHP 8.1. Core Composer-beroenden och tredjepartsbibliotek har också uppgraderats till de senaste versionerna som är kompatibla med PHP 8.1. Den här versionen har även stöd för OpenSearch 1.2.

Den här versionen innehåller nästan 250 kvalitetskorrigeringar och förbättringar.

>[!NOTE]
>
>Tack till vår partner [Atwix](https://www.atwix.com/) för deras betydande bidrag till att göra vårt 2.4.4-ramverk kompatibelt med PHP 8.1.

{{bics}}

## Använd `AC-3022.patch` om du vill fortsätta erbjuda DHL som fraktfirma

DHL har introducerat schemaversion 6.2 och kommer inom kort att föråldra schemaversion 6.0. Adobe Commerce 2.4.4 och tidigare versioner som stöder DHL-integration stöder endast version 6.0. Merchants som distribuerar dessa releaser ska tillämpa `AC-3022.patch` så snart som möjligt för att fortsätta erbjuda DHL som fraktfirma. Information om hur du hämtar och installerar korrigeringsfilen finns i [Använd en korrigeringsfil för att fortsätta erbjuda DHL som fraktfirma](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier).

## Annan versionsinformation

Även om koden för de här funktionerna paketeras med kvartalsversioner av Magento Open Source-kärnkoden, kommer flera av dessa projekt också att släppas oberoende av varandra. Felkorrigeringar för dessa projekt beskrivs i den separata, projektspecifika versionsinformation som finns i dokumentationen för varje projekt.

>[!NOTE]
>
>Alla tillägg som ingår i leverantörspaketet, med undantag för Braintree, har tagits bort från Magento Open Source 2.4.4.

>[!NOTE]
>
>Composer 2.2 introducerade en säkerhetsfunktion som kräver att handlare identifierar betrodda plugin-program i sin `composer.json`-fil innan plugin-programmen körs. För närvarande installeras plugin-program som ingår i filen `composer.json` men inte markerats som tillförlitliga automatiskt. Från och med juli 2022 läser Composer emellertid inte in plugin-program om de inte uttryckligen tillåts. Läs artikeln [Problem med plugin-program för disposition när du uppgraderar till Adobe Commerce 2.4.4](https://support.magento.com/hc/en-us/articles/6215997614093-Composer-plugins-issues-when-upgrading-to-Adobe-Commerce-2-4-4) i kunskapsbasen om hur du ändrar filen `composer.json` för att explicit tillåta inläsning av plugin-program.

### Programfixar som ingår i den här versionen

Magento Open Source 2.4.4 omfattar lösning av alla problem som åtgärdats med följande snabbkorrigeringar, som tillhandahölls för Adobe Commerce och Magento Open Source 2.4.3, 2.4.3-p1 och 2.3.7-p2:

* Säkerhetsluckan som åtgärdats av `MDVA-43395_EE_2.4.3-p1_COMPOSER_v1.patch` och `MDVA-43443_EE_2.4.3-p1_COMPOSER_v1.patch` har åtgärdats i den här versionen.

* `AC-384_Fix_Incompatible_PHP_Method__2.4.3_ce.patch`. Den här korrigeringen åtgärdar ett allvarligt PHP-fel som uppstod under uppgraderingen. Läs artikeln [Adobe Commerce upgrade 2.4.3, 2.3.7-p1 PHP Fatal error Hotfix](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) i kunskapsbasen.

## Magento Open Source 2.4.4 - högdagrar

Leta efter följande högdagrar i den här versionen.

### Säkerhetsförbättringar

Den här versionen innehåller en säkerhetskorrigering och en förbättring av plattformssäkerheten. Den här säkerhetsuppdateringen har backporterats till Magento Open Source 2.4.3-p2 och Magento Open Source 2.3.7-p3.

Inga bekräftade attacker relaterade till dessa problem har inträffat hittills. Vissa säkerhetsluckor kan dock utnyttjas för att få tillgång till kundinformation eller ta över administratörssessioner. De flesta av dessa problem kräver att en angripare först får åtkomst till administratören. Därför påminner vi dig om att vidta alla nödvändiga åtgärder för att skydda din administratör, inklusive men inte begränsat till dessa åtgärder:

* IP-tillåtelselistning
* [tvåfaktorsautentisering](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* användning av ett VPN
* användning av en unik plats i stället för `/admin`
* god lösenordshygien

I [Säkerhetsbulletin för Adobe](https://helpx.adobe.com/security/products/magento/apsb22-13.html) finns den senaste informationen om dessa åtgärdade problem.

#### Ytterligare säkerhetsförbättringar

Säkerhetsförbättringar för den här versionen förbättrar efterlevnaden av de senaste bästa säkerhetsrutinerna, inklusive:

* Användning av variabla e-postmeddelanden har ersatts i 2.3.4 som en del av en säkerhetsriskreducering till förmån för en mer strikt variabelsyntax. Detta beteende har i den här versionen helt tagits bort som en fortsättning på den riskreduceringen.

  Det innebär att e-post- och nyhetsbrevmallar som fungerade i tidigare versioner av Magento Open Source kanske inte fungerar korrekt efter uppgradering till Adobe Commerce 2.4.4 eller Magento Open Source 2.4.4. De mallar som påverkas är bland annat adminåsidosättningar, teman, underordnade teman och mallar från anpassade moduler eller tillägg från tredje part. Distributionen kan fortfarande påverkas även om du har använt verktyget [Kompatibilitet för uppgradering](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html?lang=en) för att korrigera inaktuella användningar. Information om möjliga effekter och riktlinjer för migrering av aktuella mallar finns i [Migrera anpassade e-postmallar](https://developer.adobe.com/commerce/frontend-core/guide/templates/email-migration/).

* Integreringstoken kan inte längre användas för autentisering av API Bearer-token. Tidigare kunde en integreringstoken användas som en fristående nyckel för tokenbaserad autentisering. Det här beteendet har dock inaktiverats som standard på grund av säkerhetsaspekterna för en åtkomsttoken som aldrig förfaller. Föregående beteende kan aktiveras via kommandoraden eller Admin. Se [Tokenbaserad autentisering](https://developer.adobe.com/commerce/webapi/get-started/authentication/gs-authentication-token/). <!-- AC-1619 -->

* Sessions-ID:n lagras inte längre i databasen. <!-- AC-522-->

* OAuth-åtkomsttokens och token för lösenordsåterställning krypteras nu när de lagras i databasen. <!-- AC-520 1323-->

* Valideringen har stärkts för att förhindra överföring av icke-alfanumeriska filtillägg. <!-- AC-479-->

* RCAPTCHA-stöd har lagts till för kupongkoder. <!-- AC-461-->

* Swagger är nu inaktiverat som standard när Magento Open Source är i produktionsläge. <!-- AC-1450-->

* HTTPS är nu aktiverat som standard för Magento Open Source storefront. **Använd säkra URL:er på Storefront** och **Använd säkra URL:er i Admin**-inställningarna är aktiverade som standard, och alla inbyggda cookies är nu inställda som säkra.  <!-- AC-1173-->

* Plugin-programmet för beroendeförvirring krävs nu för alla Magento Open Source-installationer. Tidigare krävdes denna plugin endast för Composer-baserade installationer. Nu tillåts tillförlitliga versioner. Merchants kan kringgå begränsningarna som anges i det här plugin-programmet som förbjuder vissa kombinationer av Composer-installationer. Begränsningarna kan åsidosättas för tillförlitliga versioner och Magento Open Source visar nu en varning innan du fortsätter med installationen.  <!-- AC-501 970-->

* Utvecklare kan nu konfigurera begränsningen för storleken på matriser som accepteras av Magento Open Source RESTful-slutpunkter per slutpunkt. Se [API-säkerhet](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-465-->

* Mekanismer har lagts till för att begränsa storleken och antalet resurser som en användare kan begära via ett webb-API på systemnivå och för att åsidosätta standardvärdena för enskilda moduler. Detta löser problemet som åtgärdats av `MC-43048__set_rate_limits__2.4.3.patch`. Se [API-säkerhet](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-1120-->

### Förbättringar av plattformen

Magento Open Source 2.4.4 stöder nu PHP 8.1. Alla projektbibliotek och beroenden har uppdaterats för kompatibilitet med PHP 8.1. Ytterligare plattformsförbättringar:

* Magento Open Source 2.4.4 har stöd för Elasticsearch 7.16 och OpenSearch 1.2. Programmet Öppna Source-handlare med distributioner på plats kan använda båda lösningarna. OpenSearch är nu standardsökmotorn för distributioner av Magento Open Source 2.4.4 som lagras i molnet. Alla kunder med molndistributioner som uppgraderar till version 2.4.4 måste använda OpenSearch. Se [Växla till OpenSearch för Adobe Commerce i molnet 2.4.4](https://support.magento.com/hc/en-us/articles/4419942355725-Switching-to-OpenSearch-for-Adobe-Commerce-on-Cloud-2-4-4)

* Biblioteket `JQuery` har uppgraderats till version 3.6. `jquery-ui` -biblioteket har uppgraderats till version 1.13.0. Flera andra JavaScript-bibliotek har uppdaterats till de senaste versionerna.

* TinyMCE 5.8.1 stöds nu. TinyMCE 4 har tagits bort från kodbasen. <!-- AC-41-->

* Biblioteket `RequireJS` har uppgraderats till den senaste versionen (v2.3.6). [GitHub-33672](https://github.com/magento/magento2/issues/33672) <!-- AC-40 422-->

* PHPUnit har uppgraderats till den senaste versionen (9.5.x). Test- och testramverk har uppdaterats för att vara kompatibla med den nya versionen. <!-- AC-404-->

* De flesta Laminas-beroenden har uppgraderats till de senaste versionerna som är kompatibla med PHP 8.1. Tre Laminas-beroenden togs bort från kodbasen för att minska antalet beroenden.

#### jQuery UI-uppgradering

jQuery-gränssnittet har uppgraderats till den senaste versionen (v1.13.0). Följande jQuery-komponenter v1.10.0 har tagits bort:

* `ajaxOptions` och `cache` alternativ för flikar. Se [Tabbar](https://jqueryui.com/changelog/1.10.0/#tabs).

* `.zIndex()`. jQuery UI v1.12.1 innehåller `jquery/z-index.js` som stöder användningen av `.zIndex()`. Se [UI Core](https://jqueryui.com/changelog/1.12.0/#ui-core).

* Datareservdelar för widgetnamn. Du måste använda det fullständiga namnet för nyckeln `.data()`.

* Hård kodning av klasser som `ui-corner-all` i widgetar.

### GraphQL

Den här versionen innehåller följande GraphQL-förbättringar:

* **Prestandaförbättringar**:

   * Prestandan för kundvagnsverksamheten i GraphQL har förbättrats. Metoden `collectQuoteTotals()` anropas nu bara en gång under en GraphQL-begäran, vilket minskar svarstiden. <!-- PWA-2110-->

   * Prestandan för Storefront har förbättrats genom ändringar i hur GraphQL-begäranden cachelagras. Fast och Varnish cachelagrar nu GraphQL-förfrågningar som skickas med `auth` token. <!-- PWA-1817-->

* **Nya butiksrelaterade administratörskonfigurationsinställningar**. Frågan `storeConfig` returnerar nu konfigurationsinställningarna för betalningsmetoderna Zero Subtotal Checkout och Check/Money Order. <!-- PWA-1576-->

* **Huvudbiblioteket för GraphQL har uppdaterats**. Biblioteket `webonyx`, som aktiverar funktionen för GraphQL, har uppgraderats till version ^14.9. <!-- PWA-2137 2184 -->

* **Korrigerade översättningsproblem i GraphQL med arkiv för flera webbplatser och flera språk**. GraphQL-lösaren returnerar nu översatta strängar baserat på butiksomfånget som förväntat. <!-- PWA-1946-->

* GraphQL förser nu New Relic med beskrivande transaktionsnamn som kan vara till hjälp vid felsökning. [GitHub-30915](https://github.com/magento/magento2/issues/30915) <!-- PWA-1311-->

Mer information om dessa förbättringar finns i [GraphQL Developer Guide](https://devdocs.magento.com/guides/v2.4/graphql/).

### Leverantörsprogramtillägg

Med undantag av [Braintree](https://docs.magento.com/user-guide/payment/braintree.html) har alla tillägg som paketerats av leverantörer tagits bort från kodbasen Magento Open Source 2.4.4. Handlare bör migrera till de officiella tilläggen som är tillgängliga på [Commerce Marketplace](https://marketplace.magento.com/extensions.html).

[Amazon Pay](https://docs.magento.com/user-guide/payment/payments.html)

[dotdigital](https://docs.magento.com/user-guide/marketing/communications.html)

[Klarna](https://docs.magento.com/user-guide/payment/payments.html)

[Hörn](https://docs.magento.com/user-guide/tax/taxes.html)

[YotPo](https://docs.magento.com/user-guide/marketing/product-reviews.html)

### Förbättringar av PayPal-betalningar

* Betalningsalternativet Venmo stöds nu.  <!-- AC-1229-->

* Betala senare har lagts till som ett alternativ för kunder baserat på var kunden befinner sig, inte var handlaren befinner sig.

* Handelsföretag kan nu sätta upp köplandet när de testar shoppingupplevelsen i sitt valland. Tidigare var testerna begränsade till att endast testas för det land där handlaren finns. Den här ändringen är endast giltig i sandlådeläge.

* Meddelanden på utcheckningssidan visar nu korrekta meddelanden om hur mycket och i hur många steg kunden förväntas betala när han/hon använder Betala senare.

### Tillgänglighetsuppdateringar

Den här versionen uppfyller de vanliga riktlinjerna för tillgänglighet bättre. Den innehåller förbättrade verktygstips, hjälpmedelsanpassad namngivning och taggning av skärmelement samt omdesignade ikoner och knappar. Över 80 % av dessa korrigeringar hjälper till att förbättra shoppingupplevelsen för användare utan vision eller begränsad vision.

### Page Builder

Merchants kan nu lägga till alternativ text (`alt_text`) till bilder (bild, banderoll, bild) för att förbättra innehållets tillgänglighet. [GitHub-746](https://github.com/magento/magento2-page-builder/issues/746) <!-- PB-1193-->

## Åtgärdade problem

Vi åtgärdar hundratals problem i Magento Open Source 2.4.4-kärnkoden. En deluppsättning av de åtgärdade problemen beskrivs nedan.

### Installation, uppgradering, driftsättning

<!-- MC-42026-->

* Magento Open Source loggar nu fel vid statisk innehållsdistribution i byggloggfiler som förväntat.

<!-- MC-43094-->

* Datapatchar kan inte längre ignorera en tabells unika begränsningar och infoga dubblettvärden i en MySQL-databastabell. Tidigare kunde korrigeringsfiler infoga dubblettvärden, vilket skadade databasen.

<!-- AC-1480-->

* Merchants kan nu uppgradera från en Magento Open Source 2.4.2-distribution med Klarna till Magento Open Source 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- ACP2E-77-->

* Konfigurationen för platskartor kan nu ändras från kommandoraden. Tidigare visades det här felet i applicationOpen Source när du försökte ändra platskartskonfigurationen utanför Admin: `Import failed: Notice: Trying to access array offset on value of type null in app/code/Magento/Cron/Model/Config/Backend/Sitemap.php on line 78`.  [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-215-->

* Kommandot `bin/magento app:config:import` körs nu utan fel när du uppdaterar `time`-värden i `config.php`. Tidigare har en ändring av produktvarningskonfigurationen genom manuell redigering (d.v.s. inte med Admin) resulterat i ett fel.

### Tillgänglighet

<!-- AC-1589-->

* Tillgänglighetsfel med navigering på korgs- och utcheckningssidorna har åtgärdats. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Skärmläsare kan nu läsa alla relevanta formulärelement på produktsidor.

<!-- AC-1277-->

* Kontrasten har förbättrats för ikonknappar för att ta bort bilder och flytta ikoner i hela butiken för att förbättra läsbarheten för användare med nedsatt syn.

<!-- AC-1272-->

* Förstoringsglaset, som används för att utföra sökningar i hela produktgränssnittet, har fått ett hjälpmedelsnamn och ett textalternativ.

<!-- AC-1275-->

* Verktygsfältet för textredigeraren är nu tillgängligt med tabbtangenten.

<!-- AC-1283-->

* **Det här objektet har** vikt och valda indata på informationssidan **Katalog** > **Produkt** har nu synliga etiketter och ett tillgängligt namn.

<!-- AC-1284-->

* Kontrollens hjälpmedelsnamn innehåller nu texten för dess synliga etikett för antalet objekt per sida.

<!-- AC-1287-->

* Tabellkontrollerna på informationssidan **Katalog** > **Produkt** har nu synliga etiketter och ett tillgängligt namn när tabellen är komprimerad.

<!-- AC-1288-->

* Redigeringslänkarna i tabellen Produkter har nu en unik, meningsfull länktext.

<!-- AC-1276-->

* Utlösarna som utökar verktygstipsen har nu textnamn.

<!-- AC-1285-->

* Knappar i hela butiken har nu unika, beskrivande namn. Tidigare hade delade knappar med en textknapp och en intilliggande nedpil-ikon samma hjälpmedelsnamn.

<!-- AC-1277-->

* Kontrasten har förbättrats för ikonknappar för att ta bort bilder och flytta ikoner i hela butiken för att förbättra läsbarheten för användare med nedsatt syn.

<!-- AC-1279-->

* Textuella alternativ har lagts till i pennikonen som visas när en handlare redigerar indata för sökmotoroptimeringsdragspelet.

<!-- AC-1272-->

* Förstoringsglaset, som används för att utföra sökningar i hela produktgränssnittet, har fått ett hjälpmedelsnamn och ett textalternativ.

<!-- AC-1286-->

* Textinmatningsfältet för produktsidan **Ny vy** har nu ett namn som kan nås.

<!-- AC-1283-->

* **Det här objektet har** vikt och valda indata på informationssidan **Katalog** > **Produkt** har nu synliga etiketter och ett tillgängligt namn.

### Backend

<!-- MC-43161-->

* Administratörer kan nu logga in på Admin i en distribution där en anpassad administratörssökväg har konfigurerats och en hemlig nyckel har aktiverats. Tidigare visades följande fel i applicationOpen Source: `Invalid security or form key. Please refresh the page`.

<!-- MC-41949-->

* Magento Open Source dirigerar inte längre om till omfattningen för all butiksvy när hierarkin för flera butiker ändras. Tidigare, när hierarkin sparades, omdirigerades shopparna till en felaktig butiks-URL och omfånget Alla butiksvyer valdes i en multibutiksdistribution.

### Paketprodukter

<!-- MC-42885-->

* Köpare kan nu lägga till en paketprodukt med fast produktskatt och två alternativ i kundvagnen. Tidigare lade inte applicationOpen Source till produkten och det här felet visades: `We can't add this item to your shopping cart right now`.

<!-- MC-42249-->

* Formulärvalidering i form av attributen `data-validate` och `min` har lagts till i fältet för kundkvantitet för att förhindra negativa värden för paketprodukter.

<!-- MC-41794-->

* Frågan `products` filtrerar nu produkter korrekt när underordnade produkter inaktiveras på butiksvynivå. Tidigare returnerade frågan underordnade produkter som var inaktiverade på butiksvynivå.

<!-- MC-42811-->

* `cron` rensar nu produktkategoricachen som förväntat under körningen av `indexer_update_all_views`. Tidigare visade programmet Open Source ett felaktigt produktantal på kategorisidan efter massuppdateringen av många produkter i kategorin.

<!-- MC-42811-->

* Magento Open Source uppdaterar nu kategoriproduktcachen som förväntat när en paketprodukt visas på nytt i lager.

<!-- AC-715-->

* Valutakonvertering sker nu som förväntat i e-postbekräftelser för produktinköp i distributioner med flera butiker som använder olika valutor. [GitHub-33426](https://github.com/magento/magento2/issues/33426)

<!-- ACP2E-64-->

* Specialprisrabatter för avancerad prissättning visas nu korrekt för paketprodukter med ett %-prefix i produktrutnätet. Tidigare visades en %-rabatt felaktigt med $-prefix i stället för % i produktrutnätet.

<!-- ACP2E-262-->

* Paketproduktstatus i administratören uppdateras nu automatiskt när en relaterad produkt ändrar sin status.

<!-- ACP2E-326-->

* GraphQL-lösaren för paketprodukter kontrollerar nu om underordnade paketprodukter har inaktiverats. Tidigare utfördes inte den här kontrollen och frågor som `categoryList` returnerade underordnade produkter som inte kunde säljas.

<!-- MC-43223-->

* `cart` frågesvar returnerar nu korrekta rabatter för paketprodukter med dynamiska priser. Tidigare innehöll frågesvaren rabatter som tillämpades på varje enskild paketprodukt.

### Cache

<!-- MC-42811-->

* Cacherengöringsalgoritmen som körs under omindexering har optimerats. Paketprodukter visas nu som förväntat när en kategori cachas under omindexering. Tidigare visades inte paketprodukter i timmar efter att produktkategorier cachelagrades under omindexering.

<!-- AC-328-->

* Sidcachen växer inte längre snabbt vid normal användning. [GitHub-9458](https://github.com/magento/magento2/issues/9458)

<!-- magento/magento2/pull/33468-->

* När du placerar en order tas inte längre alla cachetaggar som är relaterade till de beställda produkterna bort från lack-cachen. [GitHub-30128](https://github.com/magento/magento2/issues/30128)

<!-- AC-1478-->

* Cacheminnet för en hel webbplats rensas inte längre bort när du uppdaterar en produkt från de översta kategorierna eller kör ett index för att uppdatera produktattribut eller Stock-status. Tidigare lade lack-cachen till kategori-ID:n för den översta menyn i alla sidcache-taggar. [GitHub-33465](https://github.com/magento/magento2/issues/33465)

### Kundvagn och kassan

<!-- MC-41494-->

* Det minsta annonserade priset **Vad är detta?**-länken på kundvagnssidan är nu klickbar och öppnar informationsfönstret som förväntat. Tidigare hade klickandet på länken ingen effekt.

<!-- MC-42639-->

* Köpare kan nu göra beställningar utan fel efter en sessionstimeout i distributioner där beständig kundvagn är aktiverad. Tidigare visades ett betalningsfel i applicationOpen Source efter en sessionstimeout.

<!-- MC-42638-->

* När ett kundadressattribut tilldelas ett högt sorteringsordningsvärde försämras inte längre prestanda på utcheckningssidan.

<!-- MC-42813-->

* Magento Open Source återställer nu varukvantiteten i kundvagnen till det tidigare värdet om den uppdaterade kvantiteten är ogiltig.

<!-- MC-42347-->

* Om du klickar på knappen **Lägg till i kundvagnen** i avsnittet Senast visade omdirigeras nu produkten som förväntat till sidan med produktinformation. Tidigare omdirigerades kunderna till produktlistsidan.

<!-- MC-33705-->

* Gästkunder kan nu checka ut med en kundadress som innehåller flera typer av anpassade kundadressattribut. Tidigare formaterades inte värden för anpassade attribut korrekt när de visades vid utcheckning. [GitHub-30290](https://github.com/magento/magento2/issues/30290)

<!-- MC-24379-->

* Magento Open Source tillämpar nu tröskelvärdet för fri frakt korrekt på beställningar när registertaxor är aktiverade. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- AC-271-->

* Du kan nu använda `POST /V1/guest-carts/:cartId/items` för att lägga till enkla produkter med olika alternativ i en kundvagn. Tidigare ändrades antalet för den första enkla produkten du lade till i stället för att en andra enkel produkt med de angivna alternativen lades till. [GitHub-32302](https://github.com/magento/magento2/issues/32302)

<!-- AC-1089-->

* I avsnittet Ordersammanfattning på utcheckningssidan visas nu rätt valuta och belopp när en distribution har konfigurerats för `Poland` land och `PLN` valuta. Tidigare visades beloppet **zloty** på kundvagnssidan och kassasidan.

<!-- MC-32805-->

* Magento Open Source genererar inte längre något fel när en kund klickar på **Uppdatera kundvagn** efter att ha ändrat en produktkvantitet i minivagnen. Tidigare visades följande fel i applicationOpen Source: `The quote item isn't found. Verify the item and try again`.

<!-- MC-43176-->

* GraphQL `products`-frågor om konfigurerbara produkter i en viss butik returnerar nu endast prisintervallen för produkter i den angivna butiken. Tidigare returnerade förfrågningar prisintervall för enkla produkter i ospecificerade butiker.

<!-- AC-691-->

* Magento Open Source genererar inte längre det här felet när en kund lägger till en faktureringsadress som saknar ett gatufält: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- AC-1625-->

* Magento Open Source genererar inte längre ett konsolfel vid utcheckning i butiker från vilka minivagnen har tagits bort. [GitHub-34513](https://github.com/magento/magento2/issues/34513)

<!-- AC-691-->

* Utcheckningen misslyckas inte längre i betalningsfasen när faktureringsadressen saknar värden för gatufält eller om gatufältets värde inte är en matris. Tidigare misslyckades utcheckningen med följande fel: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- ACP2E-10-->

* Magento Open Source beräknar nu rabatterna korrekt när två kundvagnsregler tillämpas på en order som uppfyller dessa villkor: en kundvagnsregel tillämpas med en kupongkod och ett **fast pris på hela kundvagnen** och den andra kundvagnsprisregeln har ingen kupong och ett **Procent av produktprisrabatt** -villkor. Tidigare kunde den relevanta algoritmen inte dela upp rabatten proportionerligt mellan kundvagnsprodukter när en tidigare kundvagnsregel redan hade tillämpat en rabatt på vissa produkter.

<!-- ACP2E-22-->

* Försäljningssumman beräknas nu korrekt i kupongrapportens rutnät. Tidigare innehöll försäljningssumman inte fraktbeloppet.

<!-- ACP2E-44-->

* Rabatterna för hela kundvagnen beräknas nu korrekt när kunden växlar mellan olika fraktsätt.

<!-- ACP2E-159-->

* Listrutan för fältet **Läge** på sidan för att skapa ordning för administratör fylls nu i med de fördefinierade värdena för det valda landet. Tidigare var det här fältet ett inmatningsfält i stället för en listruta.

<!-- ACP2E-172-->

* Magento Open Source genererar inte längre något fel när du har använt mutationen `addConfigurableProductsToCart` för att lägga till en konfigurerbar produkt i en kundvagn direkt efter att butiksvyn har ändrats.

<!-- ACP2E-176-->

* Magento Open Source genererar inte längre något fel när du använder mutationen `addConfigurableProductsToCart` för att lägga till ett inaktiverat underordnat objekt till en konfigurerbar produkt i kundvagnen. Tidigare inträffade ett integritetsbegränsningsfel i applicationOpen Source.

<!-- ACP2E-157-->

* Kuponganvändningsvärdet ändras inte längre om den ordning som kupongen har tillämpats på misslyckas.  Tidigare markerades autogenererade engångskuponger som ogiltiga efter att kupongen tillämpades i kundvagnen, men ordern lades inte.

<!-- ACP2E-137-->

* Validering har lagts till i arbetsflödet för utcheckning för att jämföra kundens gatuadress med standardvärdet. Om verifieringsprocessen identifierar ändringar anges `customer_address_id` till `null` för att behandlas som en ny kundadress. Tidigare, om kunden sparade adressen utan validering vid utcheckning och samma kund försökte göra en beställning med samma adress efter att valideringen hade tillämpats på utcheckningsfältet, accepterade inte programmet Open Source den redigerade adressen och ett undantag genererades.

### Kundprisregler

<!-- MC-42288-->

* Kuponggenerering blockeras nu tills den relaterade kundvagnsprisregeln sparas med alternativet `auto` aktiverat. Om du försöker spara den här regeln utan att aktivera alternativet `auto` visas följande meddelande i programmet Öppna Source: `Rule is not saved with auto generate option enabled. Please save the rule and try again`.

<!-- MC-42743-->

* Testet för att bekräfta korrekt tillämpning av rabatt på kundprisregel har lagts till.

<!-- ACP2E-213-->

* Kundprisregler som använder ett SKU-villkor med **Om ett objekt hittas/INTE hittas i vagnen med alla/något av dessa villkor är sant** fungerar nu som väntat med konfigurerbara produkter.

<!-- ACP2E-225-->

* Kundprisreglerna gäller nu korrekt för paketprodukter med fast pris. Tidigare gällde inte kundvagnsprisreglerna för dessa produkter när minst en underordnad produkt hade samma attribut angivet i regelvillkoret.

<!-- ACP2E-285-->

* En produkt med priset 0 kan nu läggas till i kundvagnen när Magento Open Source har konfigurerats med regeln **Fast belopp för kundvagnsrabatt**. Tidigare visades följande fel i applicationOpen Source: `report.ERROR: Warning: Division by zero in /home/mer33515/public_html/ee24develop/app/code/Magento/SalesRule/Helper/CartFixedDiscount.php on line 85`.

<!-- ACP2E-306-->

* Ett villkor där frågan `cart` returnerade ett felaktigt rabattbelopp när kundvagnsregler med fasta beloppsrabatter aktiverades har korrigerats.

### Katalog

<!-- MC-41796-->

* Magento Open Source genererar inte längre något undantag när en åtgärd för uppdatering av massattribut utförs på produktrutnätet när en produkt har ett `datetime`-attribut.

<!-- MC-42571-->

* GraphQL-frågor returnerar nu resultat för underordnade produkter i en konfigurerbar produkt enligt synlighetsfilterinställningarna för de underordnade produkterna.

<!-- MC-41853-->

* Magento Open Source ändrar inte längre relaterade produktpriser när de konfigurerbara produktattributen ändras. Tidigare skrevs priset på relaterade produkter i butiken över av det lägsta kampanjpriset (MAP) för en konfigurerbar produkt.

<!-- MC-41796-->

* Magento Open Source genererar inte längre något undantag när en åtgärd för uppdatering av massattribut utförs på produktrutnätet när en produkt har ett `datetime`-attribut.

<!-- MC-42132-->

* Attributvärden för listruta/flerval för Admin-produktrutnätet och -filter hämtas nu som väntat från Admin-inställningarna. Tidigare har attributvärden härletts från standardinställningarna för arkivet.

<!-- MC-43010-->

* GraphQL kategorifrågor returnerar information om ändringar i mellanlagrade kategorier som förväntat.

<!-- AC-711-->

* Produktlistor återges nu korrekt i Admin i distributioner med produkter som är tilldelade till både en överordnad kategori och dess underkategorier, men på olika positioner inom varje kategori. Tidigare misslyckades återgivningen av produktlistan med följande fel: `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145)

<!-- AC-1148-->

* Flervalsattribut med många alternativ (över 150) kan nu tilldelas nya produkter. Tidigare sparades attributalternativ i tabellen `catalog_product_entity_varchar` och inte alla alternativ fanns när du öppnade produkten på nytt i Admin. [GitHub-33486](https://github.com/magento/magento2/issues/33486)

<!-- AC-904-->

* Tillagd validering för fall när en router inte kan instansiera en åtgärdsklass som samlats in från en URL. Programmet Öppna Source visar nu standardfelmeddelandet. Tidigare visades följande fel i applicationOpen Source: `PHP Error: Cannot instantiate abstract class Magento\Catalog\Controller\Product\Compare`.

<!-- ACP2E-115-->

* När många produkter (ungefär 10 000) tilldelas till en kategori kraschar inte längre webbläsaren.

<!-- ACP2E-122-->

* Bildattribut sparas nu konsekvent i databasen oavsett om du sparar från administratören eller importerar. Tidigare sparades ALT-textvärden för bilder inkonsekvent. Om bilden fanns och etiketten ställdes in på null återställdes inte etikettvärdet i databasen.

<!-- ACP2E-155-->

* SQL-frågan för katalogwidgeten har optimerats. Tidigare saktade stora MySQL-frågor ned sidinläsningen och resulterade i MySQL-avbrott.

<!-- ACP2E-165-->

* Prisfilter fungerar nu korrekt med färdiga konfigurerbara produkter. Tidigare visades inte produkter som inte fanns i lager i rätt prisintervall.

<!-- ACP2E-330-->

* När en underordnad produkt uppdateras tas inte längre den katalogregelrabatt som ärvts från den överordnade konfigurerbara produkten bort under den partiella indexeringsprocessen. När vi tidigare tilldelade en konfigurerbar produkt till en kategori men inte till dess tillhörande enkla produkter, och sedan använde den kategorin för att skapa en katalogregel, tog programmet Öppna Source bort katalogregeln som tilldelats den enkla produkten under den partiella indexeringsprocessen.

<!-- ACP2E-216-->

* Rutnätsvylistan med grupperade och konfigurerbara produkter innehåller nu bara enkla och virtuella produkter när du lägger till produktalternativ. Tidigare innehöll programmet enkla produkter med alternativ.

### Katalogregel

<!-- MC-41807-->

* Dagliga uppdateringar av katalogregler resulterar inte längre i sämre prestanda. Tidigare tog partiell indexering av katalogproduktpriser inte bort gamla priser eller datum.

<!-- MC-38263-->

* Magento Open Source tar inte längre bort katalogprisregler för konfigurerbara produkter under partiell omindexering. Tidigare indexerades endast delprodukter om när konfigurerbara produkter omindexerades.

<!-- ACP2E-331-->

* Katalogens prisregler med kategorin **gäller nu inte category_id** för produkter som inte tillhör någon kategori.

### Konfigurerbara produkter

<!-- MC-42188-->

* Etikettnamnet för det konfigurerbara produktalternativet baseras nu på den valda butiksvyn när administratörsorder skapas. Tidigare använde applicationOpen Source etikettnamnet från standardbutiksvyn.

<!-- MC-42187-->

* Produktlistor innehåller nu korrekt underordnade produkter till en produkt som inte finns i lager när den globala flaggan för visning av produkter som inte finns i lager är aktiverad. Tidigare innehöll produktlistan inte den underordnade produkten om ett av flera alternativ för underordnade produkter inte fanns på plats när den här flaggan var aktiverad.

<!-- MC-42340-->

* Du kan nu använda mutationen `addConfigurableProductsToCart` för att lägga till en konfigurerbar produkt i kundvagnen i en icke-standardbutiksvy. Tidigare kunde du inte lägga till en konfigurerbar produkt i en kundvagn när webbplats-ID och butiks-ID skiljer sig åt. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

<!-- MC-43051-->

* GraphQL `products`-frågor returnerar inte längre data om inaktiverade underordnade produkter för konfigurerbara produkter.

<!-- ACP2E-101-->

* När du skapar nya konfigurationer för en konfigurerbar produkt åsidosätts inte längre ändringar i befintliga konfigurationer. Tidigare åsidosattes statusen för befintliga variationer med standardstatusen `enabled` efter att nya variationer genererades.

<!-- ACP2E-175-->

* Magento Open Source genererar inte längre ett internt fel när du försöker lägga till ett inaktiverat underordnat objekt till en konfigurerbar produkt i kundvagnen.

### Kund

<!-- MC-24204-->

* Magento Open Source hanterar nu webbplatsomfånget för administratörsspråken när beställningarna skapas. Tidigare fungerade beställningsinformation som kundadressattribut korrekt på en webbplats endast i en multisitedistribution. [GitHub-23254](https://github.com/magento/magento2/issues/23254)

### E-post

<!-- MC-42592-->

* Verifieringsfel för e-postfält på popup-fönstret för utcheckning matchar nu e-postvalideringsfel på kundens inloggningssida när en kund försöker logga in med ett ogiltigt e-postkonto.

<!-- MC-42764-->

* Magento Open Source innehåller inte längre något felmeddelande i e-postmeddelandet med leveransinformation när en leveranskommentar läggs till från administratören och kryssrutan **Meddela kund** aktiveras. Tidigare innehöll e-postmeddelanden med leveransbekräftelse följande meddelande: `We're sorry, an error has occurred while generating this content`.

<!-- MC-42486-->

* Värden för region- och lands-ID konverteras nu korrekt i e-postmallar. Tidigare visades inte land och regionnamn korrekt när du klickade på länken **Förhandsgranska** i e-postmallen för administratörer.

<!-- MC-36262-->

* E-postmeddelanden om försäljningsuppdateringar som skickas från administratören för icke-standardbutiksvyer innehåller nu korrekta orderstatusetiketter. Tidigare visade dessa e-postmeddelanden alltid status från standardbutiken. [GitHub-29263](https://github.com/magento/magento2/issues/29263)

<!-- AC-721-->

* Magento Open Source innehåller nu `Content-Disposition: inline` rubriker i e-postmeddelanden som förväntat. [GitHub-29258](https://github.com/magento/magento2/issues/29258)

<!-- magento/magento2/pull/32720-->

* E-postmeddelanden med beställnings- och leveransmeddelanden fungerar nu som väntat i distributioner med Microsoft Outlook och MS Exchange Server. Tidigare var e-postmeddelandet tomt men innehöll en ATT*-märkt bilaga. [GitHub-25076](https://github.com/magento/magento2/issues/25076)

<!-- ACP2E-47-->

* Ordermeddelanden innehåller nu data som lokaliserats med kundens språkområde som förväntat. Tidigare användes Admin-språket för att beställa e-postmeddelanden.

<!-- ACP2E-107-->

* När du klickar på förhandsgranskningen av en e-postmall öppnas nu mallförhandsvisningen i ett separat fönster som förväntat.  Tidigare öppnade programmet Open Source mallförhandsvisningen samtidigt från rutnätet E-postmallar och i ett popup-fönster.

<!-- ACP2E-127-->

* Asynkrona e-postmeddelanden om beställningar som skickas från en icke-standardwebbplats innehåller nu URL-adresser för logotyper från rätt webbplats. Tidigare innehöll dessa e-postmeddelanden alltid logotyper från standardwebbplatsen eller den primära webbplatsen. (En standardnyckel med ett `storeCode`-värde har tilldelats det andra arrayargumentet som skickas till funktionen `UrlInterface` `getUrl`. Det här värdet skiljer URL:er från andra butiker/webbplatser och genererar rätt `baseUrl` för e-postinnehållet som skickas till kunden.)

### Ramverk

<!-- AC-515-->

* Icke-strikta jämförelser mellan tal och icke-numeriska strängar fungerar nu genom att talet byts till en sträng och strängarna jämförs. Jämförelser mellan tal och numeriska strängar fortsätter att fungera som tidigare. Det innebär att `0 == "not-a-number"` nu betraktas som falskt. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-1338-->

* Hjälpprogrammet `Magento\Payment\Helper\Data` skapar inte längre nya layouter i konstruktorer. Tidigare uppstod ett fel i Magento Open Source när den här hjälpen användes i anpassade kommandon utan att ange en riktkod. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1068-->

* `allure-framework/allure-php-api`-dispositionsberoendet har uppdaterats.

<!-- MC-42091-->

* Magento Open Source returnerar nu en 500-svarskod när ett undantag inträffar i bootstrap-filen. Tidigare returnerade applicationOpen Source en 200 OK-statuskod. [GitHub-22196](https://github.com/magento/magento2/issues/22196)

<!-- AC-1318-->

* Valutasymbolen läses nu in som förväntat på informationssidor för butiksprodukter. Den här symbolen försvinner ibland när JavaScript-sidan har lästs in igen.

<!-- AC-719-->

* Uppdatering av `symfony/console` orsakar inte längre ett fel när `bin/magento setup:di:compile` körs. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- AC-1504-->

* Nya obligatoriska alternativ har lagts till i `.htaccess`- och `nginx.conf`-filerna som distribueras med Magento Open Source för PHP 8.x-stöd. Inaktuella alternativ har också tagits bort. [GitHub-34358](https://github.com/magento/magento2/issues/34358)

<!-- MC-42448-->

* Merchants kan nu ladda upp en video för flera produkter. Filgenereringsprocessen lägger nu till ett filtillägg i filnamnet endast om det överförda filnamnet innehåller ett filtillägg. Tidigare när en handlare försökte överföra och sedan spara samma video för två olika produkter genererades följande fel i programmet Open Source: `Notice: Undefined index: extension in /app/7ha7zds7wvqys_stg/vendor/magento/framework/File/Uploader.php on line 699`. Detta inträffade eftersom Magento Open Source försökte lägga till ett filtillägg till namnet, oavsett om det överförda filnamnet hade ett tillägg eller inte.

<!-- magento/magento2/pull/34106-->

* Korrigerade problem med `sprintf(__())` och `sprintf(Magento\Framework\Phrase())`-konstruktion för kompatibilitet med PHP 8.x genom hela kodbasen. Tidigare genererades den här typen av fel i applicationOpen Source: `Expected parameter of type 'string', 'Magento\Framework\Phrase' provided`. [GitHub-34085](https://github.com/magento/magento2/issues/34085)

<!-- AC-1605-->

<!-- MC-42934-->

* Förbättrad validering av avancerade sökfrågeparametrar. [GitHub-33589](https://github.com/magento/magento2/issues/33589)

<!-- ACP2E-69-->

* När `bin/magento support:backup:code` körs skapas nu en säkerhetskopia som förväntat. Tidigare skapade applicationOpen Source en säkerhetskopia men ett fel uppstod.

<!-- ACP2E-82-->

* `cron` processer har nu tilldelats statusen `success`. Tidigare kunde samma `cron`-process köras två gånger eftersom slutförda `cron`-processer tilldelats statusen `pending`.

<!-- ACP2E-102-->

* Modulen `Magento_Logging` har nu stöd för IPv6.

### Allmänna korrigeringar

<!-- MC-42506-->

* Magento Open Source kopierar nu alla produktfält enligt definierade omfattningar när en produkt dupliceras. Tidigare återställdes fälten **name** och **description** till scopet `global`.

<!-- MC-42612-->

* Magento Open Source tillämpar inte längre deltavrundning på en rabatt när produktpriset är 0. Tidigare beräknade ApplicationOpen Source ett negativt rabattbelopp.

<!-- MC-42215-->

* Produkter med ett **Set as New**-attribut som har tilldelats ett tomt startdatum och ett förfallodatum kan nu sparas. Tidigare uppstod det här felet i applicationOpen Source när du sparade en produkt med följande inställningar: `Make sure the To Date is later than or the same as the From Date`.

<!-- MC-42775-->

* Administratörer kan nu göra om åtgärder som har körts under den maximala bearbetningstiden. Standardvärdet är högst 12 timmar.

<!-- MC-42514-->

* Trasig pipe-fel uppstår inte längre under gruppbearbetning på grund av okända meddelanden för konsumenten. En egenskap för antal förhämtningar begränsar nu dessa meddelanden för konsumenten och undviker fel. Tidigare genererades följande fel när `bin/magento queue:consumers:start async.operations.all` kördes: `Broken pipe or closed connection`.

<!-- MC-42075-->

* Köpare dirigeras nu tillbaka till inloggningssidan som förväntat efter ett andra misslyckat inloggningsförsök. Tidigare omdirigerades kunderna till en 404-sida efter ett andra misslyckat inloggningsförsök. [GitHub-32885](https://github.com/magento/magento2/issues/32885)

<!-- magento/magento2/pull/25279-->

* Giltigheten för token för lösenordsåterställning har utökats för att undvika att ett konkurrensvillkor uppstår när sidan för lösenordsändring skickas. [GitHub-29647](https://github.com/magento/magento2/issues/29647)

<!-- AC-1316-->

* Behörigheter som tilldelas till nya integreringar respekteras nu. [GitHub-33347](https://github.com/magento/magento2/issues/33347)

<!-- AC-1328-->

* Ett regressionsproblem som påverkade meddelanden som fanns kvar i undantagsloggarna för formuläret Kontakta oss har korrigerats. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- magento/magento2/pull/31654-->

* Löste flera problem med JavaScript inläsning av kunddata. [GitHub-30498](https://github.com/magento/magento2/issues/30498)

<!-- magento/magento2/pull/33324-->

* Om du använder `QuoteIdToMaskedQuoteId` i ett tillägg ökar svarstiden inte längre signifikant. [GitHub-33676](https://github.com/magento/magento2/issues/33676)

<!-- AC-720-->

* Klassen `BundleDiscountPrice` i `magento2/app/code/Magento/Bundle/Pricing/Price/ConfiguredPrice.php` har nu deklarerats som förväntat. Tidigare uppstod följande fel i applicationOpen Source: `Class Magento\Bundle\Pricing\Price\BundleDiscountPrice not found`. [GitHub-3334](https://github.com/magento/magento2/issues/33334)

<!-- AC-1239-->

* CSV-fältvärden som skrivits av AWS S3-adaptern matchar nu data som skrivits av andra filsystemskort.

<!-- MC-43046-->

* S3-kompatibel lagring stöds nu. [GitHub-32114](https://github.com/magento/magento2/issues/32114)

<!-- ACP2E-123-->

* Logga ut från en enhet och logga inte längre ut till kunden automatiskt från andra enheter.

### GraphQL

<!-- PWA-1938-->

* `generateCustomerToken`- och `revokeCustomerToken`-mutationerna ger nu korrekt cache-ID för användartillståndet. Tidigare använde dessa mutationer en ogiltig `x-magento-cache-id`, vilket försämrade prestanda.

<!-- PWA-1506-->

* mutationen `setBillingAddressToCart` använder nu parametern `same_as_shipping` korrekt för att ställa in faktureringsadressen så att den matchar leveransadressen som förväntat. Tidigare visades följande fel i applicationOpen Source: `The shipping method is missing. Select the shipping method and try again`. [GitHub-30924](https://github.com/magento/magento2/issues/30924)

<!-- PWA-1980-->

* GraphQL kundvagnsåtgärder beräknar nu kundvagnssummor endast när frågan begär det. Tidigare har kundvagnsåtgärder alltid beräknat totalsumman, vilket är en resurskrävande åtgärd.

<!-- MC-42781-->

* mutationen `addProductsToCart` läggs nu till endast produkter som är tilldelade butiken som är definierad i huvudet i varukorgen.

<!-- MC-42783-->

* `products` frågor som använder navigeringsfilter i lager returnerar nu korrekta underordnade kategorilistor. [GitHub-33387](https://github.com/magento/magento2/issues/33387)

<!-- MC-42831-->

* Frågor och mutationer som returnerar objektet `ConfigurableCartItem` innehåller information om konfigurerade varianter som förväntat.

<!-- MC-42082-->

* Frågan `products` returnerar nu värden för konfigurationsproduktalternativ och variantattributvärden. Tidigare var dessa värden tomma i frågesvar.

<!-- MC-41794-->

* Frågan `products` filtrerar nu produkter korrekt när underordnade produkter inaktiveras på butiksvynivå. Tidigare returnerade frågan underordnade produkter som var inaktiverade på butiksvynivå.

<!-- MC-42903-->

* mutationen `setShippingAddressesOnCart` har nu stöd för inställning av leveransadresser i en kundvagn med ett tomt telefonnummervärde när konfigurationsinställningen **Visa telefonadministratör** är inställd på valfritt. Tidigare uppstod följande fel i applicationOpen Source: `Field CartAddressInput.telephone of required type String! was not provided`.

<!-- MC-42970-->

* Ett problem har korrigerats där mutationen `addSimpleProductsToCart` gjorde att du kunde lägga till enkla produkter i en kundvagn som inte är tilldelad till målwebbplatsen.

<!-- MC-42600-->

* MySQL-frågor har optimerats för GraphQL `products`-frågor som använder sökparametrar för att förfina sökresultaten.

<!-- MC-43189-->

* mutationen `addConfigurableProductToCart` stöder inte längre tillägg av en produkt i en kundvagn om produkten inte ingår i det begärda omfånget.

<!-- MC-42666-->

* Frågan `products` returnerar nu bara konfigurerbara varianter som har tilldelats den begärda granskningen. Tidigare returnerades alla varianter av den begärda konfigurerbara produkten.

<!-- MC-42652-->

* `addSimpleProductsToCart` begäranden kan nu köras parallellt. Tidigare skapade flera begäranden för samma SKU dubblettobjekt för samma kundvagn-ID i stället för att öka produktkvantiteten som förväntat.

<!-- AC-856-->

* mutationen `addProductsToCompareList` kan nu användas för att jämföra varianter av konfigurerbara produkter.

<!-- MC-42443-->

* När priset på en nivåprodukt uppdateras från kundens baksida uppdateras det nya priset korrekt i kundvagnen. Tidigare uppdaterades inte delsumman i kundvagnssammanfattningsavsnittet korrekt, men delsumman uppdaterades inte.

<!-- AC-697-->

* mutationen `addProductsToCart` lägger nu till alla valda alternativ i kundvagnen när den används för att lägga till paketprodukter med flera markeringsalternativ. Tidigare lades mutationen bara till den sista markeringen. [GitHub-33123](https://github.com/magento/magento2/issues/33123)

<!-- MC-38815-->

* GraphQL-frågor returnerar nu faktureringsadressen som förväntat när värdet för ett valfritt telefonfält är inställt på en tom sträng. Tidigare returnerade frågor ett null-adressvärde. [GitHub-30218](https://github.com/magento/magento2/issues/30218)

<!-- ACP2E-51-->

* Frågesvaret `products` visar nu produkter enligt den angivna sorteringsordningen när flera produkter har samma relevans eller prisvärde.

<!-- ACP2E-75-->

* Samtidiga `addSimpleProductsToCart`- och `addProductsToCart`-begäranden resulterar inte längre i duplicerade offertobjekt.

<!-- ACP2E-76-->

* `products`-frågelageravigeringsfilter returnerar nu korrekta listor med underordnade kategorier. Endast direkta underkategorier inkluderas nu när flaggan `includeDirectChildrenOnly` anges i begäran. Tidigare ingick alla kategorier som svar i aggregeringsavsnittet när en produkt tilldelades flera kategorier.

<!-- ACP2E-132-->

* Lagt till funktioner för sökförslag för GraphQL sökfrågor.

<!-- ACP2E-288-->

* Fältet `OrderAddress.telephone` är nu valfritt i frågan `customer` eller andra frågor och mutationer som returnerar eller ändrar kundorderadresser.

<!-- ACP2E-278-->

* Priserna uppdateras nu korrekt för kunder i en angiven grupp i både butiken och administratören när ett grupp-ID ändras via API. Tidigare uppdaterades inte dessa priser korrekt när ett grupp-ID ändrades via API.

### Bild

<!-- MC-42080-->

* Vattenstämpelbilder med genomskinliga bakgrunder har inte längre en vit bakgrund på den genomskinliga produktbilden som den täcker över. Tidigare visades vattenstämpeln med vit bakgrund när både vattenstämpelbilden och produktbilden hade en genomskinlig bakgrund.

<!-- AC-1240-->

* Logotyper för fakturor och kvitton överförs och visas som väntat när AWS S3 är aktiverat.

<!-- MC-42160-->

* Medietaggen som är associerad med en bild som lagts till på en CMS-sida i en distribution där Admin är inställd på en annan domän än butikens URL innehåller nu butiks-URL:er som förväntat. Tidigare innehöll medietaggar statiska URL:er för administratörer i stället för förväntade URL:er för butik. [GitHub-32930](https://github.com/magento/magento2/issues/32930)

<!-- ACP2E-315-->

* Magento Open Source genererar inte längre något fel när du tömmer bildcachen samtidigt som bilder läses in i butiken.

### Importera/exportera

<!-- AC-1486-->

* `bin/magento remote-storage:sync` fungerar inte längre när filnamnen är lika, men skiljer sig åt med bara ett eller två tecken. Tidigare lagrades den första bilden korrekt, men den andra bilden med liknande namn utlöste ett synkroniseringsfel och det här felet: `Notice: Undefined index: media/catalog/product/5/_ in /src/vendor/magento/module-remote-storage/Driver/Adapter/Cache/Generic.php on line 197`. [GitHub-34337](https://github.com/magento/magento2/issues/34337)

<!-- MC-41672 23734-->

* Magento Open Source konverterar nu tidsstämpeln i exportfilens namn till användarens tidszon efter en schemalagd export. Tidigare konverterades inte dessa värden och Magento Open Source visade UTC-tidsstämpeln.

<!-- MC-42330-->

* Magento Open Source skapar inte längre duplicerade bilder i fjärrlagring när samma CSV-fil importeras mer än en gång.

<!-- AC-1045-->

* Importen misslyckas inte längre med det här meddelandet: `Import failed: Area code not set: Area code must be set before starting a session`. [GitHub-16171](https://github.com/magento/magento2/issues/16171)

<!-- AC-988-->

* Du kan nu importera korrekt när du har kört `bin/magento app:config:dump` och redigerat `config.php` manuellt. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- MC-41672-->

* Flervärdesavgränsare som inte är standard kan nu användas i anpassade flervalsattribut. Tidigare misslyckades valideringen under importen. [GitHub-23156](https://github.com/magento/magento2/issues/23156)

<!-- ACP2E-86-->

* Produktpositionen i kategorier tilldelas nu korrekt vid import från CSV.

### Index

<!-- MC-42791-->

* Magento Open Source visar nu produkter som förväntat på butiken efter omindexering. När de första 500 produkterna som omindexerades fanns i lager och de kommande 500 produkterna inte fanns i lager visades inga ytterligare produkter i butiken.

<!-- magento/magento2/pull/27212-->

* Löste problem med konsekvens i sammanfogade `indexer.xml` filer. De tillåtna värdena i `classType` är nu desamma i `indexer.xml`-filer som inte har sammanfogats. [GitHub-29609](https://github.com/magento/magento2/issues/29609)

<!-- AC-190-->

* En synkroniseringsmekanism har implementerats i kategoriindexerare för att förhindra att fullständiga och partiella indexerare körs parallellt. Tidigare när dessa indexerare kördes parallellt kunde produkter tillfälligt utelämnas från kategorisidor i butiker eller kategorisidor kunde vara tillfälligt tomma för produkter.

### Infrastruktur

<!-- AC-1172-->

* Metoden `str_contains` som inte stöds har ersatts med en funktion som stöds. Det här var ett känt fel för Magento Open Source 2.4.3. [GitHub-33680](https://github.com/magento/magento2/issues/33680)

<!-- magento/partners-magento2ee/pull/573-->

* Koddatabasen återgavs för att korrigera användningen av nyckelordet `match`, som är ett reserverat nyckelord i PHP 8.x. [ GitHub-33626 ](https://github.com/magento/magento2/issues/33626)

* HTML-taggar kapslas och stängs nu korrekt för att uppfylla standarderna i JQuery 3.5.x för icke-void-element inklusive anpassade element. <!-- AC-1942-->

<!-- magento/magento2/pull/34234)-->

* Åtgärdade `abs()`- och `round()`-funktioner för kompatibilitet med PHP7.x och PHP8.x.  [ GitHub-34322 ](https://github.com/magento/magento2/issues/34322)

<!-- AC-719-->

* Uppdatering av `symfony/console` orsakar inte längre fel när `bin/magento setup:di:compile` körs. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- magento/magento2/pull/34175-->

* Begränsningen för `colinmollenhour/cache-backend-redis`-dispositionsberoendet har korrigerats. [GitHub-34177](https://github.com/magento/magento2/issues/34177)

<!-- magento/magento2/pull/33932 magento/magento2/pull/33992-->

* Kodbasen har omarbetats för att ta bort anrop till föråldrade metoder för `phpunit/phpunit`. [GitHub-33916](https://github.com/magento/magento2/issues/33916)

<!-- MC-42960-->

* Magento Open Source visar nu ett informativt fel när en administratör med skrivskyddad `pubs/media` försöker komma åt produktinformationssidan för en produkt som innehåller bilder. Tidigare inträffade ett PHP-fel i applicationOpen Source. [GitHub-32819](https://github.com/magento/magento2/issues/32819)

<!-- AC-853-->

* Alla `@api`-anteckningar på medlemsnivå har flyttats till sin klass genom hela kodbasen.

<!-- AC-1977-->

* `gift-card Cms` widgetdata har flyttats från `Magento/WidgetSampleData` (Magento Open Source) till `Magento/GiftCardSampleData` (Adobe Commerce). Detta löste problem med att installera (Magento Open Source) med exempeldata på PHP8.1.

<!-- AC-1001-->

* Markerade gränssnitt i Adobe Stock Integration-kodbasen med `@api` efter behov. [GitHub-32875](https://github.com/magento/magento2/issues/32875)

<!-- AC-1770-->

* Heltal och flyttal i resultatuppsättningar returneras nu med interna PHP-typer i stället för strängar när emulerade förberedda satser används. [GitHub-34625](https://github.com/magento/magento2/issues/34625)

<!-- AC-1697-->

* Automatiskt skapande av arrayer från falska värden har inaktiverats för att säkerställa kompatibilitet med PHP 8.1.

<!-- AC-1338-->

* Hjälpprogrammet `Magento\Payment\Helper\Data` skapar inte längre nya layouter i konstruktorer. Tidigare uppstod ett fel när den här hjälpen användes i anpassade kommandon utan att någon riktkod angavs i programmet Open Source. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1077-->

* Du kan nu skicka ett `data`-argument till en blockinstanskonstruktor av `di.xml`.

<!-- MC-43096-->

* Optimerad `Generator.php` för läsbarhet. [GitHub-33809](https://github.com/magento/magento2/issues/33809)

<!-- AC-1313-->

* Förbättrade JWK-kontrollen i klassen `JwsManager` för att hantera situationer när algoritmen har angetts direkt i huvudet. Tidigare ignorerades det här giltiga scenariot. [GitHub-32636](https://github.com/magento/magento2/issues/32636)

#### JavaScript beroendeuppdateringar

<!-- magento/magento2/pull/33871-->

* `jquery-validate` tredjepartsbibliotek [GitHub-33853](https://github.com/magento/magento2/issues/33853)

<!-- ENGCOM-8667-->

* `Less.js` (v3.13.1) [GitHub-32845](https://github.com/magento/magento2/issues/32845)

#### Borttagning och borttagning av bibliotek

* Följande bibliotek har tagits bort eftersom alla webbläsare som Magento Open Source 2.4.x stöder har inbyggt stöd för den här funktionen:

   * `es6-collections.js`   <!-- AC-18-->
   * `MutationObserver.js` <!-- AC-15-->
   * `Modernizr` <!-- AC-12-->
   * `FormData.js`

* Tog bort det oanvända JavaScript-biblioteket `jquery.hoverIntent`. [GitHub-33732](https://github.com/magento/magento2/issues/33732) <!-- AC-97-->

* `lib/internal/Magento/Framework/Filter/Money.php` har tagits bort. Den innehåller funktionen `money_format()` som togs bort i PHP 8.x. [ GitHub-33870 ](https://github.com/magento/magento2/issues/33870)<!-- magento/magento2/pull/34366)-->

* Borttagen det borttagna `grunt-autoprefixer`-paketet som inte stöds. [GitHub-34037](https://github.com/magento/magento2/issues/34037) <!-- magento/magento2/pull/34032-->

#### Biblioteksuppgraderingar

* Följande bibliotek har uppgraderats till senare versioner:

   * `script.aculo.us` <!-- AC-363-->
   * `Chart.js`  <!-- AC-361-->
   * `moment.js` <!-- AC-11-->
   * `moment-timezone-with-data.js`   <!-- AC-10-->
   * `matchMedia.js` <!-- AC-8-->
   * `underscore.js`  <!-- AC-13-->
   * `PrototypeJS`  <!-- AC-17-->
   * `RequireJS`
   * `LessCSS`

### Faktura

<!-- AC-1564-->

* Datatypsbyte till `int` har tagits bort för automatiskt ökade faktura-ID:n när de föregås av en sträng. Därför visar nu fakturor 0 för tal som är prefix med en sträng. [GitHub-34451](https://github.com/magento/magento2/issues/34451)

### Loggning

<!-- MC-42360-->

* Magento Open Source skapar inte längre loggposter för misslyckade API-anrop som kör massåtgärder i **System** > **Massåtgärder**. Tidigare lades permanenta poster för misslyckade API-anrop till i gruppåtgärdsloggen.

<!-- AC-1607-->

* Automatiskt skapande av arrayer från falska värden tillåts inte längre. [GitHub-34499](https://github.com/magento/magento2/issues/34499), [GitHub-34589](https://github.com/magento/magento2/issues/34589)

### Adobe Commerce kodstandard

<!-- magento/magento-coding-standard/pull/219-->

* `phpunit/ phpunit` har uppdaterats till den senaste versionen för databasen `magento-coding-standard`. [GitHub-33622](https://github.com/magento/magento2/issues/33622)

<!-- magento/magento2/pull/33858-->

* `webonyx/graphql-php`-beroendet har uppdaterats till version ^14.9 i Adobe Commerce standarddatabas för kodning. [GitHub-32863](https://github.com/magento/magento2/issues/32863)

<!-- magento/magento-coding-standard/pull/322-->

* Den nya kodningen `Magento2.PHP.ArrayAutovivification` har lagts till i kodningsstandarden Adobe Commerce för att identifiera det automatiska skapandet av arrayer från ett falskt värde. [GitHub-34509](https://github.com/magento/magento2/issues/34509)

<!-- magento/magento-coding-standard/pull/325-->

* Den nya kodningen `Magento2.Functions.DeprecatedFunction` har lagts till i kodningsstandarden Adobe Commerce. [GitHub-34547](https://github.com/magento/magento2/issues/34547)

<!-- magento/magento-coding-standard/pull/326-->

* Funktioner som inte längre används i kodningen `Magento2.Functions.DiscouragedFunction` har lagts till i kodningsstandarden Adobe Commerce. [GitHub-34548](https://github.com/magento/magento2/issues/34548)

<!-- magento/magento-coding-standard/pull/335-->

* `Magento2.Annotation.MethodAnnotationStructure`-sniff misslyckas inte längre med falskt positivt resultat. [GitHub-34679](https://github.com/magento/magento2/issues/34679)

### Mediegalleri

<!-- AC-1054-->

* Kommandot `bin/magento media-gallery:sync` fungerar inte längre i distributioner där AWS S3 är aktiverat.

<!-- AC-1000-->

* Nyligen tillagda undermenytitlar för innehåll i mediegalleriet visas nu när menyalternativen överskrider 11 och konfigurationsinställningen **Aktivera gammalt mediegalleri** är aktiverad. [GitHub-33889](https://github.com/magento/magento2/issues/33889)

<!-- MC-42837-->

* Inläsningstiden för fliken Mediegalleri har förbättrats när du redigerar en produkt med många bilder. [GitHub-33434](https://github.com/magento/magento2/issues/33434)

### MFTF

<!-- AC-516-->

* `CURLOPT_POSTFIELDS` accepterar inte längre objekt som arrayer. Utför en explicit (`array`)-skiftning om du vill tolka ett objekt som en array. Detta gäller även andra alternativ som accepterar arrayer. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

* `curl_init()` returnerar nu ett `CurlHandle`-objekt i stället för en resurs. Funktionen `curl_close()` har inte längre någon effekt. I stället tas instansen `CurlHandle` automatiskt bort om den inte längre refereras. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

<!-- AC-1397-->

* Korrigerade fel i MFTF-tester för hämtningsbara produkter. [GitHub-34270](https://github.com/magento/magento2/issues/34270)

<!-- magento/magento2/pull/33530-->

* `CliCacheFlushActionGroup` togs bort från modulerna `CatalogSearch`, `GroupedProduct`, `Newsletter`, `Paypal`, `Quote` och `Review`. [GitHub-33531](https://github.com/magento/magento2/issues/33531)

<!-- AC-515-->

* Icke-strikta jämförelser mellan tal och icke-numeriska strängar fungerar nu genom att talet byts till en sträng och strängarna jämförs. Jämförelser mellan tal och numeriska strängar fortsätter att fungera som tidigare. Det innebär att 0 == &quot;not-a-number&quot; nu betraktas som falskt. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-517-->

* `parse_url()` skiljer nu mellan saknade och tomma frågor och fragment. [GitHub-33782](https://github.com/magento/magento2/issues/33782)

<!-- magento/magento2-functional-testing-framework/pull/873-->

* Kodbasen har uppdaterats för att undvika ett allvarligt fel när metoden `ReflectionType::isBuiltin()` används. [GitHub-34194](https://github.com/magento/magento2/issues/34194)

#### Nya åtgärdsgrupper

`AdminCheckOrderStatusInGridActionGroup` [GitHub-33747](https://github.com/magento/magento2/issues/33747)

`StorefrontSelectFirstShippingMethodActionGroup` [GitHub-33773](https://github.com/magento/magento2/issues/33773)

`AdminClickUpdateChangesOnCreateOrderPageActionGroup` [GitHub-33689](https://github.com/magento/magento2/issues/33689)

#### Åtgärdsgrupper

Upprepande åtgärder har ersatts med åtgärdsgrupper i dessa tester:

`AdminAddInStockProductToTheCartTest` [GitHub-34512](https://github.com/magento/magento2/issues/34512)

`AdminAddBundleItemsTest` [GitHub-34312](https://github.com/magento/magento2/issues/34312)

`AdminConfigurableProductAddConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductBulkUpdateTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminConfigurableProductDisableAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductOutOfStockAndDeleteCombinationTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductOutOfStockTestDeleteChildrenTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductRemoveAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductRemoveConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminCreateAndEditSimpleProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateAndEditVirtualProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateInactiveFlatCategoryTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminCreateInactiveInMenuFlatCategoryTest` [GitHub-34510](https://github.com/magento/magento2/issues/34510)

`AdminCreateDuplicateCategoryTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminCreateDuplicateProductTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminDeleteSimpleProductTest` [GitHub-33783](https://github.com/magento/magento2/issues/33783)

`AdminEditRelatedBundleProductTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminMassDeleteBundleProductsTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminNavigateMultipleUpSellProductsTest` [GitHub-34314](https://github.com/magento/magento2/issues/34314)

`AdminSimpleProductSetEditContentTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminSimpleProductTypeSwitchingToConfigurableProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminConfigurableProductTypeSwitchingToVirtualProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminCreateConfigurableProductWithDisabledChildrenProductsTest` [GitHub-33775](https://github.com/magento/magento2/issues/33775)

`AdminUpdateFlatCategoryAndAddProductsTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminUpdateTopCategoryUrlWithNoRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`AdminUpdateTopCategoryUrlWithRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`CatalogProductListWidgetOperatorsTest` [GitHub-34579](https://github.com/magento/magento2/issues/34579)

`CreateProductAttributeEntityWithReservedKeysTest`[GitHub-34422](https://github.com/magento/magento2/issues/34422)

`EnableDisableBundleProductStatusTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`StorefrontCheckRefundGrandTotalActionGroup` [GitHub-34315](https://github.com/magento/magento2/issues/34315)

`StorefrontInactiveCatalogRuleTest` [GitHub-33556](https://github.com/magento/magento2/issues/33556)

`StorefrontConfigurableProductCantAddToCartTest` [GitHub-33786](https://github.com/magento/magento2/issues/33786)

`StorefrontConfigurableProductOptionsTest` [GitHub-33785](https://github.com/magento/magento2/issues/33785)

`StorefrontConfigurableProductCanAddToCartTest` [GitHub-33784](https://github.com/magento/magento2/issues/33784)

`StorefrontConfigurableProductGridViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontConfigurableProductListViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontProductNameWithHTMLEntitiesTest` [GitHub-33806](https://github.com/magento/magento2/issues/33806)

`StorefrontProductNameWithDoubleQuoteTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

#### Nya tester

`AdminCreateOrderWithCheckedAppendCommentCheckboxTest` [GitHub-32381](https://github.com/magento/magento2/issues/32381)

`CheckoutWithEnabledCaptchaTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

`StorefrontAddProductWithBackordersAllowedOnProductLevelToCartTest` [GitHub-33635](https://github.com/magento/magento2/issues/33635)

`StorefrontGiftMessageForOrderOnCheckoutCartPageTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCaptchaCheckoutWithEnabledCaptchaTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCheckoutWithEnabledMinimumOrderAmountOptionTest` [GitHub-33460](https://github.com/magento/magento2/issues/33460)

#### Refrakterade tester

`CaptchaWithDisabledGuestCheckoutTest` [GitHub-30828](https://github.com/magento/magento2/issues/30828)

### Nyhetsbrev

<!-- ACP2E-147-->

* Användare med rätt behörighet kan nu hantera kundnyhetsbrevsprenumerationer som förväntat. Tidigare var det bara administratörer med fullständig behörighet som kunde hantera prenumerationer på nyhetsbrev för kunder på sidan Admin Customer Account.

### Beställning

<!-- MC-41981-->

* Köpare kan nu beställa en beställning som innehåller en produkt med en kombination av anpassade filtyper och typfält från både butiken och administratören. Tidigare uppstod ett fel i applicationOpen Source och ombeställningen bearbetades inte.

<!-- MC-42332-->

* Sidan Administratörsorderinformation läses nu in som förväntat. Tidigare genererades följande fel i applicationOpen Source vid inläsning av orderdetaljsidan för order med vissa skatter: `Call to a member function getId() on array`.

<!-- MC-38521-->

* Administratörer med begränsade behörigheter som inkluderar beställnings- och leveransbehörigheter kan nu visa ordersidan som förväntat. Tidigare inträffade ett fel i applicationOpen Source när en administratör med dessa behörigheter försökte visa en order. [GitHub-14633](https://github.com/magento/magento2/issues/14633)

<!-- ACP2E-74-->

* Köpare kan nu göra en beställning som innehåller en underordnad konfigurerbar produkt när en högsta tillåtna kvantitet har angetts.

## Betalningsmetoder

<!-- AC-1830-->

* Köpare kan nu använda Braintree för att göra en beställning med en faktureringsadress utan ett visst område i distributioner där 3DS är aktiverat. Tidigare låstes utcheckningen när kunden klickade på **Gör en beställning** och köpet kunde inte slutföras. [GitHub-34204](https://github.com/magento/magento2/issues/34204)

<!-- AC-1229-->

* Betalningsalternativet Venmo stöds nu.

<!-- AC-1228-->

* PayPal kan nu spåra efter BN-kod.

<!-- AC-493-->

* `bin/magento setup:upgrade` körs nu som förväntat när du uppgraderar från Magento Open Source 2.4.2-p1. Tidigare uppstod följande fel i applicationOpen Source: `Unable to apply data patch Magento\Paypal\Setup\Patch\Data\UpdateBmltoPayLater for module Magento_Paypal`. [GitHub-33678](https://github.com/magento/magento2/issues/33678)

<!-- MC-42830-->

* Korrekt butiks-ID används nu för att hämta sparade kreditkort vid placering av administratörsorder. Lagrade kreditkort visas nu under orderplacering enligt inställningarna för webbplatsens omfång. När en administratör tidigare försökte skapa en beställning för en kund från Admin och valde metoden Stored Credit Cards fanns det inga alternativ tillgängliga för lagrade kort.

<!-- AC-344-->

* Anomalier med PayPal-kreditvisning av presentkortsbelopp har lösts. Tidigare uppdaterades inte beloppet för avbetalningar när PayPal-kredit var aktiverad och flera presentkortsbelopp hade konfigurerats om en kund ändrade värdet för ett presentkort. Detta var ett känt fel i Magento Open Source 2.4.3.

### PayPal

<!-- MC-42154-->

* Magento Open Source visar inte längre något fel vid utcheckning med betalningsmetoden PayPal Express. Tidigare visades följande fel i programmet Open Source: `Something went wrong`, trots att utcheckningsprocessen är slutförd.

<!-- AC-722-->

* PayPal Express fungerar nu som väntat i kundvagnen. När du tidigare klickade på knappen **PayPal** för att starta en explicit utcheckning från kundvagnen genererades följande fel i programmet Open Source: `To check out, please sign in with your email address`. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42279-->

* PayPal Payflow Pro utför nu fördröjd hämtning med korrekta överordnade transaktions-ID:n i distributioner där PayPal Payflow Pro-gatewayen med **betalningsåtgärd** är inställd på **auktorisering**. En **Försäljning**-transaktion skickas till betalningsflödet med ett överordnat transaktions-ID för den valvtoken som skapades vid utcheckning som förväntat. Tidigare skapades en **fördröjd Capture**-transaktion och skickades till PayPal Payflow. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42442-->

* Köpare dirigeras nu till framgångssida som förväntat efter att betalning med PayPal Payments Advanced Payment har slutförts. Tidigare omdirigerades inte kunderna till den här sidan trots att betalningen kunde bearbetas och inga fel loggades.

### Prestanda

<!-- MC-42158-->

* Inläsningstiden för modullistan har förbättrats.

<!-- AC-932-->

* Prestandan för cacheminnet för den populära söktermen har förbättrats. Tidigare tog det längre tid att slutföra en sökfråga eftersom tabellen `search_query` var större. [GitHub-27559](https://github.com/magento/magento2/issues/27559)

<!-- MC-42892-->

* Som standard ändrar Magento Open Source storlek på bilder synkront när du sparar en produkt. Merchants kan nu ändra storlek på bilder som en asynkron bakgrundsprocess genom att göra mindre ändringar i en `di.xml`-fil.

<!-- ENGCOM-9168-->

* Prestandan för indexeraren för kategoriprodukter har förbättrats i distributioner av flera butiker. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-1179-->

* Den nya cacheminnet i minnet för `glob()` systemanrop förbättrar prestanda genom att minska antalet `glob()` anrop.  [GitHub-34025](https://github.com/magento/magento2/issues/34025)

<!-- ACP2E-63-->

* Prestanda för omindexeringsprocessen för asynkront orderrutnät har förbättrats.

<!-- ACP2E-117-->

* Minnesförbrukningen under produktexporten har optimerats.

### Priser

<!-- MC-42243-->

* Prissorteringen fungerar nu som väntat när produktpriserna är nästan noll eller lika med noll och delade kataloger är aktiverade. Tidigare ignorerades nollnivåpriser vid omindexering av priser.

### ProductAlert

<!-- MC-41917-->

* Den nya `product_alert`-konsumenten förbättrar utskicket av kundvarningar genom att skapa kömeddelanden, köra konsumenten och förbättra körningstiden. Tidigare inträffade ett undantagsfel när appOpen Source skickade över 100 000 produktvarningar. Programmet Open Source tog också mer än 20 timmar att skicka alla aviseringar.

<!-- ACP2E-87-->

* Magento Open Source genererar inte längre ett fel om prisfiltret på kategorisidan inte innehåller ett andra värde. Tidigare genererades ett undantag i loggfilen för applicationOpen Source.

### Produktvideo

<!-- MC-42105-->

* Magento Open Source aktiverar nu knappen **Spara** och fyller i fält automatiskt när du anger en ofullständig URL-adress när du lägger till en video (Admin **Katalog** > **Produkter** > **Lägg till video**). Tidigare inaktiverades knappen **Spara** och fälten fylldes inte i.

### Recensioner

* I produktlistvyn visas nu korrekt stjärngradering för produkter. [GitHub-30196](https://github.com/magento/magento2/issues/30196)

<!-- ACP2E-89-->

* Granskningar visas nu som förväntat när en kund klickar på **Granska** på butikens produktsida.

<!-- ACP2E-111-->

* Produktstjärngraderingen är nu konsekvent i alla rutnät- och listvyer på butikens listsida. Tidigare kunde samma produkt ha olika graderingar i stödraster- och listvyläge.

### Försäljning

<!-- MC-42025-->

* Prestanda för uppdateringar av säljstödraster i asynkront läge för tabeller med stora datauppsättningar efter uppgradering till MariaDB 10.2.34 har förbättrats.

<!-- MC-42531-->

* Magento Open Source tar nu bort HTML-taggar som förväntat från butikens **konto** > **Mina beställningar** > **Visa beställning**. Tidigare visades HTML-taggar i kommentarsdelen i programmet Open Source.

<!-- MC-42377-->

* Automatiserad testdisponering för att verifiera att det finns ett index för `sales_shipment_grid.order_id` har lagts till.

<!-- MC-43163-->

* `POST V1/orders` anrop uppdaterar nu tilläggsattribut utan fel. Tidigare uppstod ett SQL-syntaxfel.

### Sök {#search-heading}

<!-- MC-42799-->

* Navigeringsalternativ för lager för prisintervall fungerar nu som väntat med anpassade prisattribut. Programmet Open Source använder prisnavigeringsstegets konfiguration när anpassade prisattribut filtreras. Tidigare använde ApplicationOpen Source den manuella stegkonfigurationen.

<!-- MC-42545-->

* I butiken visas nu alla underkategorier i den aktuella kategorin i lagerstyrd navigering oavsett antalet tillgängliga kategorier i katalogen.

<!-- MC-41706-->

* Katalogsökningar i Elasticsearch är nu inte diakritiska. Tidigare gav sökningar efter termer utan accent andra resultat än sökningar med samma term med accent.

<!-- ACP2E-8-->

* Sökbredden anges nu korrekt för SKU-attribut som innehåller specialtecken.

<!-- ACP2E-36-->

* `category_name` har lagts till i de systemreserverade produktattributkoderna. Programmet Open Source visar nu ett fel om en användare försöker skapa ett produktattribut med attributkoden `category_name`. Tidigare fanns inte produkterna i den förväntade kategorin och ett fel i Elasticsearch loggades.

<!-- ACP2E-68-->

* De populära söktermerna uppdateras nu efter varje GraphQL-sökfråga.

<!-- ACP2E-249-->

* Magento Open Source lägger nu till korrekta prisfält i Elasticsearch prisindexmappningen. Tidigare lades felaktiga prisfält till i indexet med butiks-ID i stället för webbplats-ID.

### Leverans

<!-- MC-42758-->

* E-postmeddelandet för leverans innehåller nu endast spårningsnumret för den aktuella leveransen. Tidigare, när en order innehöll flera försändelser, innehöll varje försändelsees e-postadress spårningsnummer från alla försändelser som var kopplade till ordern.

<!-- MC-42396-->

* Magento Open Source uppdaterar nu minivagnen när en kund tar bort en produkt från kundvagnen i flerleveransläge och sedan byter till en enda leveransadress. Tidigare uppdaterades inte produktpriserna som förväntat.

<!-- AC-267-->

* Import av tabellfrekvenser fungerar nu som väntat när du använder lagringskortet S3. Tidigare visades följande fel i applicationOpen Source: `File "https://[bucket].s3.eu-central-1.amazonaws.com/[prefix]/tmp/phpLjGmHf" not found`. [GitHub-33072](https://github.com/magento/magento2/issues/33072)

<!-- magento/magento2/pull/33232-->

* Du kan nu inaktivera e-postmeddelanden om leveransuppdatering som förväntat från **Lager** > **Konfiguration** > **Försäljning** > **E-postmeddelanden om försäljning**. [GitHub-33165](https://github.com/magento/magento2/issues/33165)

<!-- ACP2E-31-->

* Magento Open Source visar nu kostnadsfri frakt (0) på summor för Admin- och butiksfakturasidan. Tidigare, när leveransen var noll för en order, visade inte programmet Open Source leveransbeloppet på den totala fakturasidans leveranssumma.

<!-- ACP2E-120-->

* Antalet förfrågningar till transportföretag online har reducerats från flera förfrågningar till en. Paketets försäkrings- och hanteringspris per artikel/paket beräknas nu korrekt. Tidigare visade programmet Open Source felaktiga fraktpriser för fraktmetoderna FedEx.

<!-- ACP2E-174-->

* Magento Open Source visar nu UPS-priser när du skapar etiketter för frakt från Puerto Rico. Tidigare visades inte dessa UPS-hastigheter i applicationOpen Source.

<!-- ACP2E-227-->

* Gatuadressen för leveransen är nu helt rensad som förväntat efter att den tagits bort från inmatningsrutan. Tidigare innehöll textrutan ett eller flera tecken efter att du tog bort adressen.

### Butik

<!-- MC-42884-->

* Funktionen Logga in som kund fungerar nu som förväntat i distributioner som innehåller flera butiker på olika URL:er. Tidigare lästes inte korrekt butik in i applicationOpen Source, även när rätt butik användes.

### Moms

<!-- MC-41924-->

* Magento Open Source beräknar nu delsumman för minikundvagnen korrekt när en kund tar bort en artikel efter att ha valt leverans till flera adresser.

<!-- MC-41945-->

* Magento Open Source visar nu samma skattesats på alla utcheckningssidor när kundvagnen bara innehåller virtuella produkter.

<!-- AC-714-->

* Nivåpriserna för konfigurerbara produkter visar nu korrekta inkluderade och exkluderade momsvärden i butiken. Tidigare visades samma värden för både inkluderade och exkluderade skatter. [GitHub-33673](https://github.com/magento/magento2/issues/33673)

### Testa

<!-- magento/magento2/pull/34798-->

* WebAPI-tester är nu kompatibla med PHP 8.1. [GitHub-34653](https://github.com/magento/magento2/issues/34653)

<!-- magento/magento2/pull/34820-->

* Integrationstester är nu kompatibla med PHP 8.1. [GitHub-34567](https://github.com/magento/magento2/issues/34567), [GitHub-34569](https://github.com/magento/magento2/issues/34569)

<!-- AC-1225-->

* Handelsföretag kan nu testa shoppingupplevelsen i det land där shopparen finns, i stället för var handlaren befinner sig.

* Funktionstester har stabiliserats för kompatibilitet med PHP 8.x. [GitHub-34327](https://github.com/magento/magento2/issues/34327), [GitHub-34188](https://github.com/magento/magento2/issues/34188)

<!-- magento/magento2/pull/34198-->

* Funktionsfel i WebAPI-tester har åtgärdats. [GitHub-34196](https://github.com/magento/magento2/issues/34196)

<!-- AC-1207-->

* Korrigerade fel som resulterade i falskt positiva statiska tester. [GitHub-34056](https://github.com/magento/magento2/issues/34056)

<!-- magento/magento2/pull/34300-->

* Testtäckningen har uppdaterats för `call_user_func_array`. [GitHub-34301](https://github.com/magento/magento2/issues/34301)

<!-- AC-1978-->

* `Magento\GraphQl\CatalogGraphQl\ProductSearchTest`-testet genererar inte längre det här felet när det körs med AWS Elasticsearch: `Magento\GraphQl\CatalogGraphQl\ProductSearchTest::testSearchSuggestions Failed asserting that an array is not empty. /var/www/html/dev/tests/api-functional/testsuite/Magento/GraphQl/CatalogGraphQl/ProductSearchTest.php:94 /var/www/html/dev/tests/api-functional/framework/Magento/TestFramework/TestCase/GraphQlAbstract.php:257`.

<!-- magento/magento2/pull/33699-->

* Flera icke-kritiska enhetstestvarningar har korrigerats genom att alla modellvariabler döptes om till att inkludera suffixet `Mock` och referenser till en inaktuell Object Manager-klass togs bort. [GitHub-33695](https://github.com/magento/magento2/issues/33695)

* Testet `Magento\Framework\MessageQueue\TopologyTest` är nu kompatibelt med AWS MQ för tjänsten [!DNL RabbitMQ]. Tidigare misslyckades det här testet med följande meddelande: `Invalid exchange configuration: magento-topic-based-exchange1 Failed asserting that two arrays are equal`. <!-- AC-1248-->

<!-- magento/magento2/pull/34454-->

* Enhetstester är nu kompatibla med PHP 8.1. [GitHub-34441](https://github.com/magento/magento2/issues/34441)

#### Enhetstester

Följande enhetstester har omarbetats för att använda `PHPUnit` i stället för `AspectMock`:

`AllureHelperTest` [GitHub-33294](https://github.com/magento/magento2/issues/33294)

`ObjectHandlerUtil` [GitHub-33584](https://github.com/magento/magento2/issues/33584)

`MockModuleResolverBuilder` [GitHub-33583](https://github.com/magento/magento2/issues/33583)

`MagentoTestCase` [GitHub-33582](https://github.com/magento/magento2/issues/33582)

`ModuleResolverTest` [GitHub-33308](https://github.com/magento/magento2/issues/33308)

`ParallelGroupSorterTest` [GitHub-3306](https://github.com/magento/magento2/issues/33306)

`SuiteGeneratorTest` [GitHub-33299](https://github.com/magento/magento2/issues/33299)

`OperationDataArrayResolverTest` [GitHub-33296](https://github.com/magento/magento2/issues/33296)

### Tema

<!-- MC-41887-->

* Meddelandemeddelanden visas nu korrekt när Magento Open Source har en undersökväg konfigurerad i sin bas-URL.

<!-- MC-42469-->

* Ett `aria-label`-element har lagts till i mallen för butikssida för att ange till vilken sida kunden ska navigera när han/hon klickar på en länk. Tidigare användes samma länktext för länkar till olika sidor. [GitHub-33075](https://github.com/magento/magento2/issues/33075)

<!-- ACP2E-73-->

* Magento Open Source visar inte längre något felmeddelande när hemsidan för en butik med ett anpassat tema läses in. Tidigare visade applicationOpen Source följande meddelande: `The store will not work correctly in the case when cookies are disabled`.

### Översättningar och språkinställningar

<!-- AC-285-->

* Valideraren `UserExpiration` fungerar inte längre med språkinställningarna `de_DE` och `uk_UA`. Tidigare uppstod ett fel i applicationOpen Source när en administratör försökte ange ett förfallodatum när en ny användare skulle skapas från Admin med språkinställningar inställda på `de_DE` eller `uk_UA`. [GitHub-32497](https://github.com/magento/magento2/issues/32497)

<!-- magento/magento2/pull/33787-->

* Namn på schweiziska områden visas nu konsekvent på engelska i formulär för att skapa eller redigera adresser. [GitHub-32602](https://github.com/magento/magento2/issues/32602)

<!-- magento/magento2/pull/33128-->

* `zip_codes.xml` mönster för Guernsey har uppdaterats med stöd för GY10-postkoder för Sark. [GitHub-33144](https://github.com/magento/magento2/issues/33144)

<!-- AC-1080-->

* Lade till vitryska regioner i tabellen `directory_country_region`. [GitHub-33924](https://github.com/magento/magento2/issues/33924)

<!-- AC-1178-->

* Visningsavvikelser med butiker som kör filipino-språkinställningarna (Filippinerna) har åtgärdats. [GitHub-33996](https://github.com/magento/magento2/issues/33996)

<!-- AC-1308-->

* Du kan nu ange ett kunddatum när du skapar ett nytt konto i butiker som är inställda på portugisiska (Portugal). Tidigare inträffade ett fel i Magento Open Source när du försökte skapa ett konto. [GitHub-34130](https://github.com/magento/magento2/issues/34130)

<!-- ACP2E-457-->

* Produktinformationssidan visas nu med språkinställningen för arabiska (Saudiarabien). Tidigare hade den här språkinställningen sönder produktinformationssidan.

### UI

<!-- AC-258-->

* Korrigerade fel med MFTF-tester som använder `maps.googleapis.com`.

<!-- MC-41850-->

* Magento Open Source trimmar nu de hårda blankstegstecknen från e-postinmatningsfältet Kontakta oss. Tidigare skickades formuläret utan att de fasta blankstegstecknen togs bort från e-postindata (om de angavs), vilket orsakade fel i loggfilerna. Fältet **Svar till** saknades också i det genererade e-postmeddelandet till butiksadministratören.

<!-- MC-42793-->

* Magento Open Source visar nu relaterade produkter, merförsäljningsprodukter och korsförsäljningsprodukter enligt sina positioner i Admin.

<!-- MC-42502-->

* `.action-close`-knappar fungerar nu som förväntat när `Multiselect` används i ett modalt program. Tidigare fungerade inte knappen `action-close` eftersom den ärvde CSS-koden för knappen `.action-close` för spärrformen. [GitHub-27240](https://github.com/magento/magento2/issues/27240)

<!-- AC-1217-->

* Det omfattande fragmentet för erbjudanden finns nu i huvudprisfältet i produktvyn. Tidigare saknades detta kodutdrag i det här fältet i relaterade produktblock i produktvyn, vilket medförde att Google sökresultat visade felaktiga priser. [GitHub-34063](https://github.com/magento/magento2/issues/34063)

<!-- AC-1584-->

* Problem med modal höjd på enheter som kör iOS har åtgärdats. [GitHub-34467](https://github.com/magento/magento2/issues/34467)

<!-- MC-40106-->

* Menyerna i listrutan Åtgärder är nu korrekt placerade i hela butiken. [GitHub-31379](https://github.com/magento/magento2/issues/31379)

<!-- AC-1589-->

* Tillgänglighetsfel med navigering på korgs- och utcheckningssidorna har åtgärdats. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Skärmläsare kan nu läsa alla relevanta formulärelement på produktsidor.

<!-- AC-872-->

* Sorteringsordningen för katalogproduktwidgeten (**Katalog** > **Kategori** > **Produkter**) matchar nu den ordning som konfigurerats i administratören. [GitHub-27126](https://github.com/magento/magento2/issues/27126)

<!-- AC-725-->

* Regionväljaren fungerar nu som förväntat på sidan Skapa ett konto. [GitHub-30099](https://github.com/magento/magento2/issues/30099)

<!-- MC-42750-->

* Admin-kundens rutnät visar nu alla kunddata, inklusive nyligen tillagda `date` anpassade attribut, som förväntat. Tidigare uppstod ett fel i applicationOpen Source och kundrutnätet för administratörer visades inte korrekt när attributuppsättningen `date` angavs som en kolumn.

<!-- AC-1280-->

* Indataetiketter på informationssidan **Katalog** > **Produkt** har ändrats så att de exakt återspeglar syftet med indata. I fält där användarinmatning inte krävs visas inte längre etiketter med en asterisk.

<!-- AC-1275-->

* Verktygsfältet för textredigeraren är nu tillgängligt med tabbtangenten.

<!-- AC-1284-->

* Kontrollens hjälpmedelsnamn innehåller nu texten för dess synliga etikett för antalet objekt per sida.

<!-- AC-1287-->

* Tabellkontrollerna på informationssidan **Katalog** > **Produkt** har nu synliga etiketter och ett tillgängligt namn när tabellen är komprimerad.

<!-- AC-1285-->

* Knappar i hela butiken har nu unika, beskrivande namn. Tidigare hade delade knappar med en textknapp och en intilliggande nedpil-ikon samma hjälpmedelsnamn.

<!-- AC-1168-->

* Ett visningsalternativ för **Idag** har lagts till i kontrollpanelsdiagrammen för administrationsorder och belopp för att ge en sammanfattning av försäljning och order under dagen. [GitHub-34008](https://github.com/magento/magento2/issues/34008)

<!-- AC-1481-->

* Det aktiva läget (klickläget) för den flervalda knappen **Stäng** fungerar nu konsekvent. [GitHub-34338](https://github.com/magento/magento2/issues/34338)

<!-- magento/magento2/pull/31879-->

* Magento Open Source visar inte längre det här meddelandet efter uppgraderingen när läget för cookie-begränsning är inaktiverat: `The store will not work correctly in the case when cookies are disabled`. [GitHub-33811](https://github.com/magento/magento2/issues/33811)

<!-- ACP2E-7-->

* Helskärmsbilder visas nu korrekt på teman med lodrät navigeringsriktning för miniatyrbilder på mobila enheter. Tidigare skalades produktbilder felaktigt eller var osynliga på teman med lodrät navigeringsriktning för miniatyrbilder på mobila enheter i helskärmsläge.

<!-- ACP2E-23-->

* Felmeddelanden på informationssidan försvinner inte längre snabbt när konfigurationsinställningen **Synkronisera widgetprodukter med serverdelslagring** är aktiverad.

<!-- ACP2E-70-->

* Validering av negativa värden har lagts till i fältet **Kvantitet att returnera** i formuläret Skapa ny retur.

<!-- ACP2E-105-->

* Magento Open Source visar inte längre dubblettadresser när en kund klickar på **Ändra adress** på sidan Granska och betalningar i en distribution där konfigurationsinställningen **Adresssökning** är aktiverad.

<!-- ACP2E-136-->

* Knappen **Lägg till produkter** är nu aktiverad som förväntat för administratörer med begränsade behörigheter när de arbetar i butiksvyn på sidan Administratörskategori.

<!-- ACP2E-169-->

* Visa brytpunkter är nu konsekventa över hela Magento Open Source.

<!-- ACP2E-199-->

* Magento Open Source visar nu anpassade attribut för kunddatum med anpassade språk på kundsidan Admin.

<!-- MC-41760-->

* Bilder som läggs till med Page Builder dupliceras inte längre i butiken när de visas med webbläsarfönstrets bredd 768px. Tidigare, med den här webbläsarfönsterbredden, duplicerade programmet Öppna Source bilder i butiken genom att visa både mobilversionen och skrivbordsversionen av bilder.

### URL-omskrivningar

<!-- AC-1510-->

* URL-omskrivningar genereras inte längre om för alla butiksvyer när en ny butiksvy skapas när `bin/magento setup:upgrade` körs. [GitHub-32954](https://github.com/magento/magento2/issues/32954)

### Webb-API-ramverk

<!-- MC-42008-->

* Webb-API-begäranden om självauktoriserade kundresurser orsakar inte längre auktoriseringsfel när beständig kundvagn är aktiverad.

<!-- MC-42313-->

* Nu kan du skapa objekt med hjälp av de underordnade klasserna för `\Magento\Framework\Api\AbstractSimpleObjectBuilder` i PHP 7.3. Tidigare utlöste `preg_match` detta varningsmeddelande när Magento Open Source var värd för Redhat med PHP 7.3: `Warning: preg_match(): Compilation failed: unrecognized character follows...` .

<!-- MC-24548-->

* De summor som hämtas av `PUT /V1/guest-carts/:cartId/collect-totals`-begäran uppdateras nu med rätt `shippingMethod`. [GitHub-18508](https://github.com/magento/magento2/issues/18508)

<!-- MC-30627 AC-796-->

* Om du lägger till en ny avserialisering i REST API tas inte längre andra avserialiserare bort. Tidigare accepterade REST API en ny innehållstyp, men CORE definierade innehållstyper för API:er fungerade inte längre och returnerade ett 400-fel. [GitHub-26433](https://github.com/magento/magento2/issues/26433)

<!-- AC-698-->

* Du kan nu ta bort en åsidosättning för en parameter som är definierad i en `webapi.xml`-fil. [GitHub-33843](https://github.com/magento/magento2/issues/33843)

<!-- AC-1212-->

* Magento Open Source genererar nu en `customertoken` av GraphQL eller REST API-begäranden som förväntas efter flera misslyckade inloggningsförsök i följd. Tidigare kollade inte applicationOpen Source om värdet för `lock_expires_at` i `oauth_token_request_log` var större än det aktuella datumet och den aktuella tidpunkten och returnerade alltid antalet misslyckade försök, vilket hindrade kunden från att logga in. [GitHub-34067](https://github.com/magento/magento2/issues/34067)

<!-- AC-1190-->

* Om ett maskerat citattecken-ID läggs till i `QuoteRepository::getList` uppstår inte längre en oändlig slinga. Tidigare aktiverades det här beteendet om du använde den betalningsprocessor som förlitade sig på REST API för att uppdatera order. [GitHub-33675](https://github.com/magento/magento2/issues/33675)

<!-- MC-41612-->

* `/rest/all/V1/categories/<above_created_category_id>`  Anropet från PUT respekterar nu de värden som anges av `available_sort_by` .  Tidigare valdes den tillgängliga listrutan Sortera efter med alla möjliga alternativ på kategorisidan och kryssrutan **Använd alla** markerades. [GitHub-32596](https://github.com/magento/magento2/issues/32596)

<!-- ACP2E-11-->

* Prestandan för REST API-begäranden om att skapa kundtoken har förbättrats.

<!-- ACP2E-91-->

* Ett fel som uppstod när **Lägg till butikskod till URL:er** angavs till **Ja** har korrigerats och ett REST-anrop innehöll ingen butikskod. Trots att nyttolasten var giltig returnerade anropet följande fel: `Fatal error: Allowed memory size of ********** bytes exhausted (tried to allocate **** bytes) in vendor/magento/module-store/Model/StoreRepository.php on line 75`.

<!-- ACP2E-153-->

* Delfakturor för samma order kan nu skapas samtidigt med REST API.

### Önskningslista

<!-- MC-41880-->

* Magento Open Source återger inte längre en önskelista i kategorisidofältet när alternativet **Visa i sidofältet** är inaktiverat. Tidigare ignorerades det här alternativet av applicationOpen Source.

### WYSIWYG

<!-- ACP2E-17-->

* PageBuilder återger nu anpassade widgetar korrekt med WYSIWYG-redigeraren.

## Kända fel

**Utgåva**: Merchants kan se information om nedgradering av paketversioner vid uppgradering från Adobe Commerce 2.4.4 till Adobe Commerce 2.4.4-p1. Dessa meddelanden kan ignoreras. Skillnaden i paketversioner beror på avvikelser vid paketgenerering. Ingen produktfunktion har påverkats. I artikeln [Paket som nedgraderats efter uppgradering från 2.4.4 till 2.4.4-p1](https://support.magento.com/hc/en-us/articles/8214752983949) i kunskapsbasen finns information om vilka scenarier och lösningar som påverkas.

**Utgåva**: Köpare kan inte lägga till en produkt i kundvagnen när inga alternativ har valts i Admin **Store** > **Konfiguration** > **Allmänt** > **Lands-alternativ** > **Tillåt länder**. Programmet Öppna Source visar i stället följande konsolfel: `Failed to load resource: the server responded with a status of 400 (Bad Request)`. <!-- AC-2564-->

**Problem**: Beskrivningen av Dotdigital för **Hitta partners och tillägg** > **Magento Marketplace** är inaktuell. Här är en uppdaterad beskrivning:

Dotdigital är en plattform för kundengagemang som hjälper digitala marknadsförare och utvecklare att leverera kommunikation under hela kundresan. Vi utnyttjar kraften i kunddata, stärk engagemanget, konverteringen och lojaliteten hos varumärken när de växer och skalas. Kunderna älskar vår lättanvända plattform som kopplar samman förstahandsdata över systemen, ger kraftfulla insikter och automatiserar prediktiva kanalövergripande meddelanden.

Dotdigital&#39;s över 350 anställda betjänar medelstora och stora företag runt om i världen och över olika branscher. Vi strävar efter att inspirera till ansvarsfull marknadsföring och strävar efter hållbarhet, integritet och säkerhet. Dotdigital är stolt över att vara världens första koldioxidneutrala automatiseringsplattform för marknadsföring, certifierad för ISO 14001, ISO 27701 och ISO 27001.

Se [Dotdigital — Marketing Automation](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html) för information om köp och nedladdning.

## Bidrag från gemenskapen

Vi är tacksamma mot den bredare Magento Open Source-communityn och vill tacka för deras bidrag till denna release.

Community Engineering-teamet [Magento Contributors](https://magento.biterg.io/app/kibana) har en lista över de mest bidragsgivande personerna och partnerna per månad, kvartal och år. På den Contributors-sidan kan du följa länkar till deras sammanslagna PR på GitHub.

### Partnerbidrag

I följande tabell visas partnerernas bidrag. I den här tabellen visas den partner som har bidragit med pull-begäran, det externa pull-begärandenumret och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-4-partner.md}}

### Individuella bidrag

Följande tabell visar bidragen från våra communitymedlemmar. I den här tabellen visas den community-medlem som har bidragit med pull-begäran, det externa pull-begärandenumret och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-4-issues.md}}

### Systemkrav

Vår teknikstack bygger på PHP och MySQL. Mer information finns i [Systemkrav](../../../installation/system-requirements.md).

### Installations- och uppgraderingsanvisningar

Du kan installera Magento Open Source 2.4.4 med [Composer](../../../installation/composer.md).

## Migreringsverktygspaket

Med datamigreringsverktyget kan du överföra data från Magento 1.x-lagringsplatsen till Magento 2.x. Det här kommandoradsgränssnittet innehåller funktioner för verifiering, spårning av förlopp, loggning och testning. Installationsanvisningar finns i [Installera datamigreringsverktyget](../../../tools/data-migration-tool/install.md). Utforska eller bidra till databasen [Datamigrering](https://github.com/magento/data-migration-tool).

Med [Code Migration Toolkit](https://github.com/magento-commerce/code-migration) kan du överföra befintliga butikstillägg och anpassningar för Magento 1.x till Magento 2.x. Kommandoradsgränssnittet innehåller skript för konvertering av moduler och layouter i Magento 1.x.
