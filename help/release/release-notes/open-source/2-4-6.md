---
title: Versionsinformation om Magento Open Source 2.4.6
description: Läs om nya funktioner, förbättringar, felkorrigeringar och kända fel i Magento Open Source version 2.4.6.
recommendations: noCatalog
exl-id: bf25d53e-dfb1-4ff9-89fe-f26bc99f3f01
source-git-commit: 9eeb0e3a1c75b25cc70b092d23f02ebfe355d6bd
workflow-type: tm+mt
source-wordcount: '8267'
ht-degree: 0%

---

# Versionsinformation om Magento Open Source 2.4.6

Magento Open Source 2.4.6 har nu stöd för PHP 8.2. PHP 8.1 stöds fortfarande, men stödet för PHP 7.4 har tagits bort. Det innehåller betydande prestanda- och skalbarhetsförbättringar. GraphQL-åtgärder för gruppvaruåtgärder och kategoriträdåtergivningssvar har optimerats.

Den här versionen innehåller fler kvalitetskorrigeringar och förbättringar. Core Composer-beroenden och tredjepartsbibliotek har uppgraderats till de senaste versionerna som är kompatibla med PHP 8.2.

{{bics}}

## Annan versionsinformation

Även om koden för de här funktionerna paketeras med releaser av Magento Open Source kärnkod, kommer flera av dessa projekt också att släppas oberoende av varandra. Felkorrigeringar för dessa projekt beskrivs i den separata, projektspecifika versionsinformation som finns i dokumentationen för varje projekt.

## Magento Open Source 2.4.6 - i korthet

Leta efter följande högdagrar i den här versionen.

### Säkerhetsförbättringar

Den här versionen innehåller åtta säkerhetsförbättringar och plattformssäkerhetsförbättringar.

Inga bekräftade attacker relaterade till dessa problem har inträffat hittills. Vissa säkerhetsluckor kan dock utnyttjas för att få tillgång till kundinformation eller ta över administratörssessioner. De flesta av dessa problem kräver att en angripare först får åtkomst till administratören. Därför påminner vi dig om att vidta alla nödvändiga åtgärder för att skydda din administratör, inklusive men inte begränsat till dessa åtgärder:

* IP-tillåtelselistning
* [tvåfaktorsautentisering](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* användning av ett VPN
* användning av en unik plats i stället för `/admin`
* god lösenordshygien

Läs [Adobe säkerhetsbulletin](https://helpx.adobe.com/security/products/magento/apsb23-17.html) för den senaste informationen om dessa åtgärdade problem.

#### Ytterligare säkerhetsförbättringar

Säkerhetsförbättringar för den här versionen förbättrar efterlevnaden av de senaste bästa säkerhetsrutinerna, inklusive:

* Mellanrum i administratörens åtgärdsloggar har åtgärdats med mer specifik granskning av åtgärder i stödrastervyer, massåtgärder och export. <!-- AC-1553 -->

* reCAPTCHA-validering misslyckas inte längre vid utcheckning om oväntade fel inträffar under betalningshanteringen. [GitHub-35093](https://github.com/magento/magento2/issues/35093) <!-- AC-2642 -->

* **Ny systemkonfiguration som kräver e-postbekräftelse när en administratörsanvändare ändrar sin e-postadress**. För att minska sårbarheten för webbplatser lades en ny systemkonfigurationsinställning till (inaktiverad som standard) som kräver e-postbekräftelse när en administratörsanvändare ändrar sin e-postadress: **[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL Customers]** > **[!UICONTROL Customer Configuration]** > **[!UICONTROL Account Information Options]** > **[!UICONTROL Require email confirmation if an email has been changed]**. När det här alternativet är aktiverat kommer programmet att begära e-postbekräftelse varje gång som administratören ändrar sin e-postadress. Följande modul påverkas av den här ändringen: `Magento_Customer`. <!-- AC-3064 -->

### Förbättringar av plattformen

Magento Open Source 2.4.6 har nu stöd för PHP 8.2. PHP 8.1 stöds fortfarande till fullo. <!-- AC-6598 -->

Stöd för PHP 7.4 har tagits bort från den här versionen. Du kan inte köra Magento Open Source 2.4.6 på PHP 7.4.

Magento Open Source har nu stöd för

* Composer 2.2.x Composer 1.x har tagits bort. <!-- AC-2839 -->

* Redis 7.0.x Även om kompatibiliteten med Redis 6.2 kvarstår rekommenderar vi att du distribuerar den här versionen med Redis 7.0.x eftersom Redis 6.2 förväntas sluta sin livstid 2024. <!-- AC-6606 -->

* OpenSearch stöds nu som standardsökmotor för Magento Open Source lokala distributioner och molndistributioner. Det stöds som en oberoende sökmotor för Magento Open Source. Den här versionen stöder OpenSearch v2.x och har testats med OpenSearch 2.5. Även om kompatibilitet med OpenSearch 1.x kvarstår rekommenderar vi att du använder den här versionen med OpenSearch 2.x. Du kan installera och köra Magento Open Source och Magento Open Source 2.4.6 med OpenSearch 2.x på både molnet och på plats [Krav för sökmotorn](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/prerequisites/search-engine/overview.html). <!-- AC-449 3555 -->

* Elasticsearch 8.x Se [Uppgradera Elasticsearch](../../../upgrade/prepare/prerequisites.md#upgrade-elasticsearch). <!-- AC-6597 -->

* MariaDB 10.6 (LTS-version). Den här versionen är fortfarande kompatibel med MariaDB 10.4, men vi rekommenderar att du uppgraderar till MariaDB 10.6. <!-- AC-6921 -->

#### Andra uppgraderingar och ersättningar

* DHL-schemat har migrerats från v6.2 till v10.0. <!-- AC-3023-->

* Inaktuella JavaScript-bibliotek har uppdaterats till de senaste versionerna och inaktuella beroenden har tagits bort. Dessa ändringar är bakåtkompatibla. <!-- AC-2036-->

* PHP 7.4-kompatibiliteten har tagits bort från Commerce- och Magento Open Source-kodbaserna. <!-- AC-2841-->

* Symfoniska beroenden har uppgraderats till den nya LTS-versionen. Beroenden inkluderar:<!-- AC-2656-->

   * `friendsofphp/php-cs-fixer`
   * `symfony/console`
   * `symfony/event-dispatcher`
   * `symfony/finder`
   * `symfony/process`
   * `web-token/jwt-framework`

* `jquery-migrate` har tagits bort från Commerce- och Magento Open Source-kodbaserna. [GitHub-21406](https://github.com/magento/magento2/issues/21406) <!-- AC-1199 -->

* Uppgraderade biblioteket `jQuery/fileUpload` till v10.32. <!-- AC-2658-->

* Zend framework-komponenter (ZF1) som har nått slutet av livscykeln har tagits bort från kodbasen. Se [Bakåtkompatibla ändringar av högdagrar](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/).<!-- AC-1512 -->

* Laminaberoenden har uppdaterats för att stödja PHP 8.2. <!-- AC-7019-->

* `laminas/laminas-dependency-plugin` Composer-plugin-programmet har tagits bort. [GitHub-36515](https://github.com/magento/magento2/issues/36515) <!-- AC-7100-->

* Ersatte `Zend_Filter` med `laminas/laminas-filter`. <!-- AC-5922-->

* Uppgraderade `web-token/jwt-framework` till v3.0.5. (senaste versionen) <!-- AC-3772-->

* Uppgraderade `allure-framework/allure-phpunit` till v2.x. <!-- AC-2660-->

* Uppgraderade biblioteket `Chart-js` till v3.9.1 <!-- AC-2661-->

### Tillgänglighetsuppdateringar

Fokus på den här versionen har varit att skapa en butiksupplevelse på Venia (PWA) som är mer överskådlig, användbar, förståelig och robust. Bland dessa förbättringar finns:

<!-- AC-2479-->

* Den visuella textetiketten för knappen **[!UICONTROL Sign in]** matchar nu dess hjälpmedelsnamn. (Bästa tillvägagångssätt rekommenderar att ett gränssnittselements hjälpmedelsnamn börjar med den synliga etikettexten.)

<!-- AC-2481 2492-->

* Beskrivande hjälpmedelsnamn har lagts till i knappar i hela butiken.

<!-- AC-2488-->

* Lodräta beskrivande etiketter har lagts till i kryssrutorna **[!UICONTROL Has Video]** i sökfiltren.

<!-- AC-2787-->

* Användare som bara har tangentbord har nu tillgång till alla sidfunktioner i butiken. Tidigare kunde kunderna inte komma åt länkar under navigering med enbart tangenttryckningar.


### Adobe Commerce-integrering med Adobe IMS

Följande Adobe IMS-moduler har kopplats bort från Adobe Commerce- och Magento Open Source-kärnkoden och paketeras nu som ett separat metapaket:

* `adobe-ims`
* `adobe-ims-api`
* `admin-adobe-ims`

Nya `adobe-ims-metapackage` v2.2.0 ingår i Adobe Commerce 2.4.6 och Magento Open Source 2.4.6. Ingen funktionalitet har ändrats i den här versionen.<!-- CABPI-505-->

### Braintree

<!-- BUNDLE-3107-->

* Knappen **[!UICONTROL Pay Later]** och banners (meddelanden) för Italien och Spanien har aktiverats för Braintree.

<!-- BUNDLE-3109-->

* PaySenare-meddelanden med PayPal Vault har aktiverats.

<!-- BUNDLE-3140-->

* Lagt till Bedrägeriskydd och VARJE webbhooks. Webbkroken för bedrägeriskydd aktiveras när ett riskbeslut har fattats i Braintree. ACH-webbkroken aktiveras när statusen för en ACH-betalning uppdateras till `settled` eller `settlement decline`.

<!-- BUNDLE-3141-->

* LPM-webbkrok (Local Payment Methods) har lagts till.

### GraphQL

GraphQL prestandaförbättringar omfattar:

**Förbättrad svarstid när kategorier med kategoribehörigheter aktiverade efterfrågas**. Svarstiderna har förbättrats vid frågor om produkter i kategorier för vilka kategoribehörigheter är aktiverade och som innehåller många kundgrupper eller delade kataloger. Kodändringar som stöder den här prestandaförbättringen inkluderar: <!-- B2B-2179 2404 2329-->

* GraphQL resolver-åtgärden har optimerats.
* Dataleverantören återställer inte längre cachelagrade data för varje ny produkt som bearbetas, vilket har förbättrat prestandan. <!-- B2B-2452-->
* Bearbetning av produktbehörigheter har optimerats i GraphQL Resolver. Nu gäller produktbehörigheter för produktsamlingar i stället per produkt.  <!-- B2B-2404-->
* Optimerade behörigheter läses i delade kataloger i mutationen `addProductsToCart`. <!-- B2B-2424-->
* Produktbehörigheter har optimerats med produktinline-fragment. <!-- B2B-2459-->

**Optimerade prestanda för kategoriträdåtergivning**. `categoryList`-frågan har optimerats för att ge stöd åt kunder med ett stort antal kategorier. Handlare som använder den här frågan för att söka i mer än 1 500 kategorier med upp till fem nivåer av kapslade underkategorier kommer att märka en prestandaförbättring. Inläsningen av underordnade kategorier genom omfaktorisering av kod har förbättrats genom att onödiga metodanrop har tagits bort, kategoriträdets cachelagring har förbättrats och kategoridata har lästs in rekursivt.  Kodändringar som stöder den här prestandaförbättringen inkluderar: <!-- B2B-2484 2469 2472-->

* Hämtning av metadata för anpassade attribut för kategorimodeller har förbättrats. <!-- B2B-2463-->
* Hämtningen av kategori-ID har förbättrats och `getChildren` anrop har reducerats. <!-- B2B-2464-->
* Inläsningen av underordnade kategorier har förbättrats.<!-- B2B-2469-->

**Reducerade svarstider för gruppvaruåtgärder**. Produktmutationer som lagts till har optimerats för att förbättra frågeprestanda när man lägger till upp till 500 enkla och konfigurerbara produkter. Paketprodukter påverkas inte. De optimerade mutationerna är `addProductsToCart`, `addConfigurableProductsToCart`, `addDownloadableProductsToCart`, `addSimpleProductsToCart`, `addVirtualProductsToCart`, `addWishlistItemsToCart` och `updateCartItems`. <!-- B2B-2331 2423-->

**kundfrågan har nu stöd för ordersortering**. `orders`-utdataobjektet för `customer`-frågan innehåller nu ett sorteringsfält. Nu kan du sortera order efter ordernummer eller skapandedatum och i stigande eller fallande ordning. <!-- AC-6903-->

Nya mutationer:

`deleteCustomer` <!-- AC-2879-->


### Page Builder

Page Builder v.1.7.3 är kompatibelt med Magento Open Source 2.4.6.

### PWA Studio

PWA Studio v.13.0.x är kompatibelt med Magento Open Source 2.4.6. Det innehåller flera förbättringar som förbättrar tillgängligheten. Mer information om felkorrigeringar finns i [PWA Studio-utgåvor](https://github.com/magento/pwa-studio/releases). Se [Versionskompatibilitet](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) om du vill se en lista över PWA Studio-versioner och deras kompatibla grundversioner för Adobe Commerce.


### Känt fel

**Problem**: New Relic är för närvarande inte kompatibelt med PHP 8.2. Distributioner som kör New Relic kan köra Adobe Commerce 2.4.6 i PHP 8.1 men inte i PHP 8.2. **Tillfällig lösning**: Kör Adobe Commerce 2.4.6 i PHP 8.1 tills en ny version av New Relic som stöder PHP 8.2 släpps. Den här versionen förväntas bli klar sommaren 2023. <!-- AC-7769-->

## Åtgärdade problem

Vi har åtgärdat hundratals problem i Magento Open Source 2.4.6 Core-koden.

### Installation, uppgradering, driftsättning

<!-- ACP2E-1168-->

* Statisk distribution av innehåll gör inte längre timeout eller misslyckas under standarddistributioner eller kompakta distributioner med flera språkområden och webbplatser.

<!-- ACP2E-923-->

* Kompakt strategi orsakar inte längre en ogiltig referens till en extern domän när statisk innehållsdistribution (`bin/magento set:static-content:deploy -f --strategy compact`) körs.

<!-- AC-5994-->

* Körning av `bin/magento setup:di:compile -vvv` (eller med alternativen `-v` eller `-vv`) returnerar nu ett informativt meddelande om felet. [GitHub-35391](https://github.com/magento/magento2/issues/35391)

<!-- AC-5973-->

* Magento Open Source genererar inte längre följande undantag när du kör kommandot `bin/magento setup:upgrade` i en distribution som redan kör datamigreringsverktyget: `PHP Fatal error:  Declaration of Migration\Logger\Logger::addRecord(int $level, string $message, array $context = []): bool must be compatible with Monolog\Logger::addRecord(int $level, string $message, array $context = [], ?Monolog\DateTimeImmutable $datetime = null): bool in /var/www/html/vendor/magento/data-migration-tool/src/Migration/Logger/Logger.php on line 34`. [GitHub-35604](https://github.com/magento/magento2/issues/35604)

<!-- AC-5970-->

* Kommandot `bin/magento setup:db:status` fungerar inte längre i miljöer där MySQL 8.0.29 körs. Tidigare hade kommandoutdata felaktigt angett att det deklarativa schemat var inaktuellt. [GitHub-35671](https://github.com/magento/magento2/issues/35671)

<!-- AC-1377-->

* Kommandot `composer install` skriver inte längre över `.gitignore` filer. [GitHub-32888](https://github.com/magento/magento2/issues/32888)

<!-- AC-6671-->

* Det går inte längre att köra `bin/magento sampledata:remove` för att ta bort exempeldata efter en uppgradering på Alpine Linux. Felkod: `Undefined constant "MagentoHackathon\Composer\Magento\Deploystrategy\GLOB_BRACE`. [GitHub-36062](https://github.com/magento/magento2/issues/36062)


<!-- AC-6933-->

* `bin/magento setup:upgrade` körs nu korrekt efter den första körningen av `composer install --no-dev`. [GitHub-36351](https://github.com/magento/magento2/issues/36351)

<!-- AC-6796-->

* Spårningsposter för undantag och undantagsstackar ingår nu i `var/log/exception.log`. [GitHub-36054](https://github.com/magento/magento2/issues/36054)

<!-- AC-2681-->
Magento Open Source genererar nu ett parametervalideringsfel när du använder kommandoraden för att ange en Redis-anslutning utan lösenord.


### Tillgänglighet

<!-- AC-6678 6679 6677-->

* Knapparna **[!UICONTROL Proceed to Checkout]**, **[!UICONTROL Review Order]** och **[!UICONTROL Place Order]** i arbetsflödet för utcheckning fungerar nu som förväntat med tangentbordsinmatningar.

<!-- AC-2485-->

* Visuell indikation på knappfokus när **[!UICONTROL TAB]** eller **[!UICONTROL SHIFT + TAB]** används för att navigera genom sidkontroller fungerar nu som förväntat.


#### Skärmläsare

<!-- AC-2498-->

* Skärmläsaren för orderhistoriksidan läser nu rätt bildbeskrivning.

Skärmläsare meddelar nu:

* Totalt antal objekt hittades i sökresultat som förväntat <!--- AC-3522-->
* Inloggad användarnamn när en användare loggar in med tangentbordskontroller <!--- AC-6477-->
* Sidhuvudet för resultatet av produktsökningen läser nu rätt värde för elementet `<title>` <!--- AC-2489-->
* Om indatafält krävs <!--- AC-2494-->
* Korrigera aktuellt läge för dragspelselement (komprimerat och expanderat) <!--- AC-2487-->
* När sidinnehållet har uppdaterats efter att användaren har klickat på knappen **[!UICONTROL Create an account]** <!---AC-6676-->


### Paketprodukter

<!-- ACP2E-906-->

* Uppdatering av paketprodukt via API för en viss butiksvy åsidosätter nu inte andra butiksvydata för samma paketprodukt. Tidigare åsidosattes produktalternativtitlar av den första alternativtiteln för andra butiksvyer.

<!-- AC-3769-->

* Paketerade produkter kan nu filtreras korrekt från Admin **[!UICONTROL Catalog]** > **[!UICONTROL Products]** när en nederländsk språkinställning används. Tidigare visades det här felet i Magento Open Source när du försökte filtrera på `Type: Bundle Product`: `Something went wrong with processing the default view and we have restored the filter to its original state`. [GitHub-35704](https://github.com/magento/magento2/issues/35704)

<!-- ACP2E-1038-->

* Produktstödrastret genererar inte längre ett undantag när paketprodukterna har ett specialpris som överstiger 1 000. Tidigare när du antingen sökte efter produkten av SKU eller navigerade till **[!UICONTROL Catalog]** > **[!UICONTROL Products]**, utlöste Magento Open Source följande fel: `Non Numeric value encountered`. [GitHub-36284](https://github.com/magento/magento2/issues/36284))

<!-- ACP2E-1220-->

* Kolumner i kreditnota och faktura-PDF:er för order som innehåller en blandning av paket och enkla produkter återges nu korrekt. Tidigare var kolumner förvrängda eller feljusterade.

<!-- ACP2E-1315-->

* I GraphQL-frågor som innehåller ett `BundleProduct`-fragment innehåller `items.options.product`-objektet data som förväntat. Tidigare kunde objektet i vissa fall vara null.

<!-- AC-6548-->

* Decimalkvantiteter för paketalternativ återges nu korrekt när **[!UICONTROL Quantity uses decimals]** är aktiverat. Tidigare återgavs bara heltalsdelen av kvantiteten, inte bråkdelen. En kvantitet på 1,5 återgavs till exempel som 1,0. [GitHub-35964](https://github.com/magento/magento2/issues/35964)

<!-- B2B-2453-->

* GraphQL produktfrågor returnerar nu endast produktalternativ i den butik som efterfrågas.

<!-- B2B-2455-->

* Produkter som inte är tilldelade kategorier men som är produktalternativ för paketerade eller grupperade produkter returneras nu i svar när konfigurationsinställningen **[!UICONTROL Allow Category Browsing]** är aktiverad för kunden som skickar frågan.

### Cache

<!-- ACP2E-134-->

* Helsidescacheminnet rensas inte längre när beställningarna är klara, såvida inte den beställda produkten inte finns i lager. Tidigare rensades cachen för kategorin när en leverans skapades.

<!-- ACP2E-1321-->

* Data cachelagras nu när L2-cachen har konfigurerats och fjärrdata delvis avlägsnas. Tidigare sparades inte den nya cachen när datacachen tömdes utan hash-taggar.

<!-- B2B-2471-->

* Korrigerade fel i `CatalogUrlResolverIdentity` och `CmsUrlResolverIdentity` som förhindrade cachelagring. Detta påverkade ruttfrågecachning vid flera begäranden.

### Kundvagn och kassan


<!-- ACP2E-965-->

* Köpare kan nu lägga till ytterligare en artikel i kundvagnen när kundvagnen innehåller den minsta kvantiteten av den enkla produkten.

<!-- ACP2E-964-->

* REST API-anrop för att hämta kundvagnsdata returnerar nu samma `grand_total`- och `base_grand_total`-värden när butiksvalutan och basvalutan är desamma. [GitHub-34649](https://github.com/magento/magento2/issues/34649)

<!-- ACP2E-962-->

* Det exporterade värdet för **[!UICONTROL Maximum Qty Allowed in Shopping Cart]** matchar nu standardvärdet som angetts i konfigurationsinställningen för Admin.

<!-- ACP2E-889-->

* Magento Open Source beräknar nu totalsumman för återbetalningar av beställningar korrekt med rabatt för frakt.

<!-- ACP2E-876-->

* Google reCAPTCHA fungerar nu som väntat för butiksbeställningar. Tidigare visade Magento Open Source dessa fel när Google ReCAPTCHA inte först valdes innan en kund försökte göra en beställning: `ReCaptcha validation failed, please try again` och `No such cart with id = ID`.

<!-- AC-2338-->

* CAPTCHA-bilduppdateringen uppfyller nu Admin-konfigurationsinställningen och aktiveras inte när inställningen är inaktiverad. Tidigare aktiverades uppdateringen när betalningsmetoden ändrades oavsett om inställningen var aktiverad eller inaktiverad. [GitHub-34855](https://github.com/magento/magento2/issues/34855)

<!-- ACP2E-479-->

* Magento Open Source visar nu ett bekräftelsefönster som väntat innan en kund dirigeras om till nästa sida när kunden ändrar produktkvantiteten på kundvagnssidan utan att uppdatera kundvagnen och sedan försöker navigera till nästa sida.

<!-- AC-5987-->

* Köpare kan nu minska en produkts kvantitet från kundvagnen efter att den minskats i Admin. Tidigare inträffade följande fel när en kund försökte minska produktkvantiteten: `The requested qty is not available`. [GitHub-35780](https://github.com/magento/magento2/issues/35780)

<!-- AC-6744-->

* Magento Open Source genererar inte längre något fel i JavaScript-konsolen när produktkvantiteten överskrider det konfigurerade maxantalet vid utcheckning av flera leveranser. I stället visas nu ett informativt felmeddelande i Magento Open Source. [GitHub-36184](https://github.com/magento/magento2/issues/36184)

<!-- ACP2E-1276-->

* Artikelkvantiteten på kundvagnssidan representeras inte längre som ett negativt tal när en kund använder nedpilstangenten på sitt tangentbord för att ändra produktkvantiteten. [GitHub-36299](https://github.com/magento/magento2/issues/36299)

<!-- ACP2E-1232-->

* Köpare kan inte längre lägga till en produkt från en kategori som nu är otillåten efter att ha bytt kundgrupp till vilken kunden hör. Magento Open Source kontrollerar nu om kundgruppens behörigheter gäller för specifika kategorier när behörighetskonfigurationsinställningarna har ändrats.

<!-- ACP2E-926-->

* Kundvagnarna töms inte längre innan administratörens order skapas, och kundvagnens innehåll återställs nu om ordern annulleras eller överges. Objekten tas nu bort från vagnen först när ordern har skapats. Tidigare tömdes kundvagnen när en administratörsanvändare försökte skapa en beställning på sidan Admin Manage Shopping Cart.

<!-- AC-6939-->

* Nu visas rätt produktbilder i minivagnen när du har kört `bin/magento catalog:image:resize`. Tidigare ersattes alla bilder av standardproduktplatshållarbilden. [GitHub-35535](https://github.com/magento/magento2/issues/35535)

<!-- AC-2376-->

* Utcheckningen kan nu slutföras när leveransadressen innehåller ett tilläggsattribut. Tidigare inträffade följande fel i Magento Open Source: `Object of class Magento\Quote\Api\Data\AddressExtension could not be converted to string`. [GitHub-34202](https://github.com/magento/magento2/issues/34202)

<!-- AC-2793-->

* `addBundleProductsToCart`-mutationen lägger inte längre till produkter i en offert om ett nödvändigt produktalternativ saknar värde. [GitHub-25676](https://github.com/magento/magento2/issues/25676)

<!-- B2B-2458-->

* Magento Open Source returnerar nu ett informativt meddelande när en `addProductsToCart`-mutation misslyckas när en produkt läggs till i kundvagnen med otillräcklig behörighet.

<!-- ACP2E-1242-->

* Magento Open Source genererar inte längre något fel på kundvagnssidan när Snabborder används för att lägga till en produkt i en kvantitet som överskrider det tillgängliga lagret.


### Kundprisregel

<!-- AC-2242-->

* Alternativ för fri frakt av kundprisregel som ställs in när regler skapas används nu på order som förväntat. Tidigare ignorerades alternativ för fri frakt som tillämpades när regeln skapades under utcheckningen och fri frakt tilläts inte när regeln tillämpades. [GitHub-35013](https://github.com/magento/magento2/issues/35013)

<!-- ACP2E-1074-->

* Kolumnen `discount_percent` i tabellen `sales_order_item` för en produkt fylls nu i som förväntat med rabattprocenten när artikelrabattkvantiteten inte har angetts eller är större än eller lika med orderartikelkvantiteten. Tidigare fylldes den här kolumnen inte i när en kundprisregel tillämpades på den här produkten.

### Katalog

<!-- ACP2E-1181-->

* Produktlistwidgeten visar inte längre felaktiga eller cachelagrade priser för en inloggad kund. Priset som visas i widgeten för hemsidan matchar nu kundens adress och uppdateras när kunden uppdaterar adressen. Tidigare uppdaterades inte produktpriserna på hemsidan baserat på kundgruppens momsregler i webbläsarens cache.

<!-- ACP2E-1007-->

* Listfunktionen Jämför produkter fungerar nu korrekt i en flerwebbplatsdistribution och är beroende av en webbplats.

<!-- ACP2E-900-->

* Magento Open Source visar inte längre data från föregående sida när du läser in en produktinformationssida igen. Tidigare, när produktinformationssidan lästes in på nytt, sammanfogades data från den första fliken med nyligen inlästa data för en delad sekund.

<!-- ACP2E-816-->

* Kategorier med underkategorier kan nu utökas på huvudmenyn på mobila enheter som förväntat. Tidigare gick det inte att öppna eller utöka kategorier med underkategorier i mobildistributioner. [GitHub-35329](https://github.com/magento/magento2/issues/35329)

<!-- ACP2E-789-->

* Kategorilistor uppdateras nu som förväntat när en produkt tilldelas till en ny webbplats eller butik. Tidigare markerades inte produktprisindexeraren som ogiltig och utlöstes sedan på nytt för en `cron`-körning som förväntat. Därför saknades produktens prispost i prisindextabellen och den visades inte på den nya butiken eller webbplatsen.

<!-- AC-6395-->

* Lagerinventeringen för lagerplats är nu korrekt när konfigurationsinställningen **[!UICONTROL Display Out of Stock Products]** är aktiverad. [GitHub-35899](https://github.com/magento/magento2/issues/35899)

<!-- AC-6384-->

* Kategorisidan är inte längre tom när inställningen **[!UICONTROL Allow All Products Per Page]** är aktiverad. [GitHub-35900](https://github.com/magento/magento2/issues/35900)

<!-- AC-6330-->

* Konfigurationsalternativet **[!UICONTROL Display Out of Stock Products]** fungerar nu som förväntat när det aktiveras. Tidigare visades alla produkter som ej lagrade i butiken när det här alternativet var aktiverat i Admin. [GitHub-35898](https://github.com/magento/magento2/issues/35898)

<!-- ACP2E-1306-->

* Produktsortering efter booleska attribut fungerar nu som förväntat. [GitHub-36390](https://github.com/magento/magento2/issues/36390)

<!-- ACP2E-1206-->

* Rabatterna för katalogprisregel tillämpas inte längre på anpassade produktalternativ med fast pris, utan endast på produktens ursprungliga pris.

<!-- AC-6810-->

* Katalogprisreglerna tar nu hänsyn till det valda omfånget och gäller endast för produkter för webbplatser för vilka attributet har ett alternativvärde som matchar regeln. Tidigare tog regeln inte hänsyn till det valda omfånget i distributioner på flera platser. [GitHub-36049](https://github.com/magento/magento2/issues/36049)

<!-- ACP2E-891-->

* Färg- och storleksattributen för färgrutealternativen är nu förinställda på produktinformationssidan när en kund ändrar den konfigurerbara produkten från sidan Min kundvagn. (jQuery 3.x-versionen har nu stöd för `swatchRenderer`-widgetens namn, som nu är ett kamelexempel.) Tidigare är alternativet för färgruta inte förvalt.

<!-- ACP2E-1361-->

* Kunderna meddelas nu om produktprisfall när kunden prenumererar på varningen om prisfall. Tidigare skickades inte alltid meddelanden om prisfall på grund av cachelagring på programnivå.

<!-- ACP2E-1348-->

* Katalogregler som baseras på SKU:er med villkoret **[!UICONTROL is not one of]** fungerar nu som förväntat.

<!-- AC-729-->

* Magento Open Source utgår inte längre felaktigt från att en kategori är den överordnade kategorin för en annan baserat på kategorisökvägen. Tidigare, när två kategorier var intilliggande och ett kategori-ID börjar med en annan kategoris kategori-ID, antog Adobe Commerce att kategorierna hade samma överordnade kategori. [GitHub-32464](https://github.com/magento/magento2/issues/32464)

### Konfigurerbara produkter


<!-- ACP2E-1083-->

* Magento Open Source genererar inte längre något fel när en admin-användare lägger till produkter manuellt i en konfigurerbar produkt som redan har många enkla produkter tilldelade. Tidigare visade Magento Open Source följande fel: `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- AC-2877-->

* Shoppare kan inte längre lägga till konfigurerbara produkter med en säljbar kvantitet på 0 i kundvagnen i distributioner där restorder är inaktiverade. Magento Open Source anger nu att produkten inte finns i lager. [GitHub-35319](https://github.com/magento/magento2/issues/35319)

<!-- AC-2678-->

* Om du skapar en ny produkt genom att importera en konfigurerbar produkt med många alternativ från en annan butiksvy skapas nu en exakt kopia av den första produkten som förväntat. Tidigare var sorteringsordningen för den nya produktens konfigurerbara alternativ felaktig, och titlarna översattes inte till den nya butiksvyns språkområde i distributioner med flera butiksvyer och språkområden. [GitHub-35200](https://github.com/magento/magento2/issues/35200)

<!-- AC-535-->

* Konfigurerbara produkter med alla underordnade produkter som inte finns i lager visas nu som färdiga produkter i butiken.

<!-- AC-6852-->

* Konfigurerbara SKU:er och produktnamn visas nu korrekt. Tidigare visades namn och SKU:er som odefinierade efter att du flyttat en attributgrupp ovanför produktinformationsgruppen på **[!UICONTROL Stores]** > **[!UICONTROL Attribute set]**. [GitHub-36309](https://github.com/magento/magento2/issues/36309)


### Kuponger

<!-- ACP2E-1053-->

* Valideringslogiken har lagts till i arbetsflödet Hantera kupongkoder för att tvinga fram inställningar för kupongkod när kuponger genereras. Tidigare ignorerade kupongkodgenerering inställningen **[!UICONTROL Code Length]** när värdet för **kupongkvantitet** var större än 2500.

<!-- ACP2E-1029-->

* Belöningspoäng läggs nu till i kundens konto som förväntat när en belöningskupong används i kassan med betalningsmetoden PayPal Express.

<!-- ACP2E-1225-->

* Du kan nu använda en kupongkod när en administratörsorder skapas när kundprisregeln har vikt som villkor. Tidigare har kupongkoder inte angetts om andra fält inte har valts för produkten. [GitHub-36271](https://github.com/magento/magento2/issues/36271)

<!-- ACP2E-1223-->

* Nu kan du filtrera kupongrapporter efter flera kundprisregler. [GitHub-36272](https://github.com/magento/magento2/issues/36272)

<!-- AC-2812-->

* Anpassade alternativ används och sparas nu när en administratörsanvändare trycker på **[!UICONTROL Enter]** när en produkt konfigureras med anpassade alternativ. Tidigare kunde du välja alternativ och lägga till produkten i en beställning, men alternativen sparades inte och administratören uppmanades att välja produktalternativ igen. [GitHub-35284](https://github.com/magento/magento2/issues/35284)

<!-- AC-6688-->

* Kupongkoder kan nu exporteras till Excel XML. Tidigare innehöll den genererade filen inte alla valda kupongkoder, utan bara så många objekt som valdes i väljaren för artiklar per sida.[GitHub-36073](https://github.com/magento/magento2/issues/36073)


### cron

<!-- ACP2E-1243-->

* Kronjobbet `catalog_index_refresh_price` körs nu. Tidigare loggade Magento Open Source det här felet vid körning av kron: `report.ERROR: Cron Job catalog_index_refresh_price has an error: SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens`.

### Valuta

<!-- ACP2E-1012-->

* Det saknas utrymme mellan anpassade valutasymboler och priser i både butiks- och administrationspriserna. Lämpliga villkor och regex-uttryck har lagts till för att tillåta en anpassad NBSP i valutasymboler. IDRx 105.00 visades tidigare som IDRx105.00.


### E-post


<!-- ACP2E-1063-->

* Magento Open Source skickar inte längre dubbla e-postmeddelanden till en kund när en order har skapats från administratören.

<!-- ACP2E-1200-->

* Administratörens e-postmeddelanden om beställning skickas inte längre när inställningen **[!UICONTROL Email order confirmation]** är inaktiverad. [GitHub-36256](https://github.com/magento/magento2/issues/36256)

<!-- ACP2E-1151-->

* Bildalternativen visas inte längre som HTML-kod i kreditnotan, orderbekräftelsen och fakturakundmeddelanden (standardmall) för produkter med anpassade alternativ.

### Ramverk


<!-- AC-6385-->

* Administratörsanvändare kan nu öppna sidan Admin **[!UICONTROL Store]** > **[!UICONTROL Configuration]** när inget land i inställningen **EU-länder** (**[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL General]** > **[!UICONTROL Country options]** > **[!UICONTROL European Union Countries]**). Tidigare när en administratörsanvändare försökte öppna den här sidan uppstod följande fel i Magento Open Source: `TypeError: explode(): Argument #2 ($string) must be of type string, null given in /var/www/php/folder/vendor/magento/module-config/ViewModel/CountryFilter.php:46`. [GitHub-35901](https://github.com/magento/magento2/issues/35901)

<!-- AC-6361-->

* `jquery.cookie` beroenden fungerar nu som förväntat med JavaScript-beroenden. Tidigare gick det inte att använda alias för `jquery/jquery.cookie`. [GitHub-35913](https://github.com/magento/magento2/issues/35913)

<!-- AC-3226-->

* Kommandot `bin/magento i18n:collect-phrases` innehåller nu `<title>`-text i den exporterade CSV-filen. [GitHub-35462](https://github.com/magento/magento2/issues/35462)

<!-- AC-6841-->

* `Magento\Framework\Code\Reader\ArgumentsReader::getParentCall()` har nu stöd för namngivna konstruktorargument. Nu kan du anropa en funktion genom att ange parametrarna efter deras namn.

<!-- ACP2E-1287-->

* Fel loggas nu som förväntat i filen `exception.log`. Tidigare var fel inte inloggade i `system.log`, trots att de hade loggats i filen `var/log/exception.log`.

<!-- AC-3758-->

* Handlare kan nu ange en anpassad extern SMTP-provider. [GitHub-26104](https://github.com/magento/magento2/issues/26104)

<!-- AC-3752-->

* OAuth-integreringar kan nu omauktoriseras som förväntat på distributioner som kör Magento Open Source 2.4.3-p2. Tidigare misslyckades omauktorisering med följande fel: `The attempt to post data to consumer failed due to an unexpected error. Please try again later`. Magento Open Source försökte också dekryptera okrypterade värden. [GitHub-35313](https://github.com/magento/magento2/issues/35313)

<!-- ACP2E-1201-->

* Den korrekta parametern `rowId` skickas nu när kategorin `urlKey` sparas för kategorier som har underordnade kategorier. Tidigare skickades fel `categoryId` när kategorin `URLKey` sparades.

<!-- ACP2E-981-->

* Produktattributkoden `event` har lagts till i listan över reserverade produktattributkoder, vilket eliminerar fel som är kopplade till användning av ett attribut med det här namnet på butiken. Tidigare uppstod det här felet i programmet på produktdetaljerna och sök-/produktlistsidorna när `event` användes: `report.CRITICAL: Error: Call to a member function getStatus() on string in /home/mer33515/public_html/ee24develop/magento2ee/app/code/Magento/CatalogEvent/Observer/ApplyIsSalableToProduct.php:23`.

<!-- AC-5985-->

* Valideringsfelmeddelanden för Storefront som inträffar under orderplaceringen visas nu enhetligt. Tidigare visades meddelanden, komprimerades och visades igen. [GitHub-35651](https://github.com/magento/magento2/issues/35651)

<!-- AC-2943-->

* AMQP-konsumenter misslyckas inte längre på grund av en inaktuell `trim()`-funktion i distributioner som kör PHP 8.1. Tidigare inträffade följande fel när AMQP-konsumenten startades efter installationen: `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in .../vendor/magento/framework-amqp/Config.php on line 143` [GitHub-35380](https://github.com/magento/magento2/issues/35380)

<!-- AC-2882-->

* Metoden `getFilteredTimerIds` fungerar nu som förväntat.  Klassen `Magento\Framework\Profiler\Driver\Standard\Stat` är nu kompatibel med PHP 8.1. Tidigare inträffade ett undantag i Magento Open Source när den här metoden anropades. [GitHub-35307](https://github.com/magento/magento2/issues/35307)

<!-- AC-2784-->

* Tog bort beroendet av biblioteket `imagemin-svgo`.

<!-- AC-2058-->

* Miniatyrmallsprocessen bearbetar nu löpande kommentarer när den första kommentaren börjar med `//`. [GitHub-34880](https://github.com/magento/magento2/issues/34880)

<!-- AC-2241-->

* En databasfråga som utfärdades av modulen `BundleGraphQl` som returnerade felet `"debugMessage": "Notice: Undefined offset: 16 in vendor/magento/module-bundle-graph-ql/Model/Resolver/Options/Collection.php on line 130"` har korrigerats.[GitHub-34991](https://github.com/magento/magento2/issues/34991)


### Allmänna korrigeringar


<!-- ACP2E-1068-->

* Magento Open Source visar nu ett korrekt tidsintervall när en admin-användare väljer alternativet **[!UICONTROL Last 24 Hours]** på kontrollpanelen för administratörsstatistik. Tidigare visade Magento Open Source ett felaktigt tidsintervall. Detta inträffade eftersom databasens tidszon förblev oförändrad.

<!-- ACP2E-1066-->

* Kreditnotor kan nu genereras för både heltal och decimalkvantiteter. Tidigare stöddes endast heltalskvantiteter.

<!-- ACP2E-1001-->

* Indatavalideringsregeln för kundens postnummer för typen **numeric only** fungerar nu som väntat i fältet **[!UICONTROL Edit Customer Address]** (**[!UICONTROL Store]** > **[!UICONTROL Attribute]** > **[!UICONTROL Customer Address]**). Tidigare sparades kundadressinformation utan postnummervalidering.

<!-- ACP2E-873-->

* Globalt delade kundkonton har nu adresser som verifieras mot listan över tillåtna länder för den aktuella webbplatsen och som har sparats. Tidigare validerades dessa konton felaktigt mot de tillåtna länderna på webbplatsen där kunden var registrerad.

<!-- AC-3167-->

* Bläddringar från CMS sidhierarki visas inte längre när **[!UICONTROL Enable Hierarchy Functionality]** är inaktiverat. Tidigare visades vägbeskrivningar och när kunderna klickade på dem visades en 404-sida. [GitHub-35513](https://github.com/magento/magento2/issues/35513)

<!-- AC-2567-->

* Om du tar bort en produkt från alla webbplatser via administratören uppstår inte längre följande fel: `SQLSTATE[42000]: Syntax error or access violation`. [GitHub-35133](https://github.com/magento/magento2/issues/35133)

<!-- AC-2235-->

* Kunder som överskrider det maximala antalet misslyckade inloggningsförsök kan nu logga in efter lösenordsåterställning. [GitHub-34981](https://github.com/magento/magento2/issues/34981)

<!-- AC-2020-->

* Komponenten för dynamiska rader beter sig nu som väntat när en admin-användare lägger till ett nytt element. Tidigare fungerade radkomponenten inte korrekt när en ny enkel produkt lades till i en grupperad produkt. [GitHub-34850](https://github.com/magento/magento2/issues/34850)

<!-- magento/magento2/pull/35598-->

* Korrigerade stavfel och felaktig grammatik i filen `app/code/Magento/Backend/etc/menu.xsd`.

<!-- magento/magento2/pull/35818-->

* Filen `app/code/Magento/Authorization/README.md` har uppdaterats för att beskriva hur tabellen skapas.

<!-- magento/magento2/pull/35940-->

* Metoden `recordLogin` har uppdaterats för att ange inloggningsvärden för användarmodellen samt för att bevara de korrekta värdena i fälten `logdate` och `lognum` i tabellen `admin_user`. Inloggningsförsök för uppdaterade administratörsanvändare har inte registrerats tidigare.

<!-- magento/magento2/pull/35990-->

* Mallar för GitHub-utgåvor har konverterats till utgivningsformulär för utvecklarupplevelseproblem och förslag på nya funktioner.

<!-- ACP2E-961-->

* Kundattributet `Is required` har nu implementerats korrekt per webbplatsomfattning för redigeringsformuläret för Admin-kund.

<!-- ACP2E-895-->

* Fältet **[!UICONTROL Grid Filter Condition Type]** för kund- och kundadressattribut visas inte längre på attributredigeringssidan när inställningen **[!UICONTROL Use in Filter Option]s** är inaktiverad.

<!-- AC-6020-->

* Magento Open Source visar nu ett informativt felmeddelande om en handlare inte kan ange ett valfritt SKU-attributvärde när en produkt skapas. Tidigare utlöstes det här undantaget i programmet när attributet var valfritt: `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/html/mg244/project-community-edition/vendor/magento/module-eav/Model/Entity/AbstractEntity.php on line 932`. [GitHub-35810](https://github.com/magento/magento2/issues/35810)

<!-- ACP2E-716-->

* Filtret **[!UICONTROL Show my quotes]** på sidan **[!UICONTROL My Quotes]** fungerar nu som förväntat. Tidigare innehöll filterresultaten andra administratörsanvändares citat.


### GraphQL


<!-- AC-1730-->

* `Types` som implementerar flera gränssnitt i GraphQL-kod kan nu separeras med ett `&` -tecken samt `,` i enlighet med GraphQL `@doc`-specifikationen.

<!-- ACP2E-885-->

* mutationen `setShippingAddressesOnCart` har nu stöd för att ange koder för numeriska regioner som `region`. Tidigare fungerade den här mutationen felaktigt för kodvärden för numeriska regioner.

<!-- ACP2E-1237-->

* Frågan `products` returnerar nu endast granskningar som är kopplade till det angivna omfånget. Tidigare returnerades granskningar från alla butiker.

<!-- ACP2E-882-->

* Kategoribehörigheter respekteras nu under GraphQL-begäranden.

<!-- AC-1805-->

* Frågan `customer` filtrerar nu på order med ett angivet `from` - och `to`-intervall korrekt. [GitHub-31537](https://github.com/magento/magento2/issues/31537)

<!-- AC-5984-->

* Frågan `product` returnerar nu korrekta kategoridata i aggregering. Tidigare returnerade `attribute_code.category_uid` värdet `category_id` i stället för `category_uid`.

<!-- AC-6084-->

* `customerOrders`-frågan genererar inte längre ett `\"model\" value should be specified`fel. [GitHub-35852](https://github.com/magento/magento2/issues/35852)

<!-- ACP2E-894-->

* Frågan `customer` filtrerar nu order baserat på omfång. Du kan nu ange om frågan ska filtrera beställningar efter butik, webbplats eller globalt.

<!-- ACP2E-1172-->

* Frågan `categoryList` returnerar nu korrekt produktantal för både förankrade och omarkerade överordnade kategorier. Det nya `is_anchor`-attributet har lagts till i listan med markerade kolumner i kategorisamlingen. Tidigare returnerade förfrågningar ett 0-produktantal. [GitHub-36300](https://github.com/magento/magento2/issues/36300)

<!-- AC-2500-->

* mutationen `generateCustomerTokenAsAdmin` fungerar nu som väntat när du skapar en token för att logga in på en icke-standardbutik i en multibutik-distribution. [GitHub-35084](https://github.com/magento/magento2/issues/35084)

<!-- AC-1731-->

* `createEmptyCart`-mutationen genererar nu ett undantag som förväntat när en token som gått ut används. [GitHub-26112](https://github.com/magento/magento2/issues/26112)

<!-- AC-1965-->

* Felmeddelanden för kundvagnsfrågor har gjorts mer informativa. [GitHub-34546](https://github.com/magento/magento2/issues/34546)

<!-- AC-2798-->

* Sammanställningsdata i svaret på en `products`-fråga innehåller nu korrekta värden för pristypsattributet `attribute_code` och `label`. [GitHub-28878](https://github.com/magento/magento2/issues/28878)

<!-- AC-6685-->

* `products`-frågan returnerar kategoriinformation som förväntat när databasprefixet har ett värde som inte är null. Tidigare returnerades `Internal server error`. [GitHub-36117](https://github.com/magento/magento2/issues/36117)

<!-- AC-1003-->

* Returtypen för metoden `getCustomerIsGuest` har korrigerats. [GitHub-29529](https://github.com/magento/magento2/issues/29529)

<!-- B2B-2221-->

* Plugin-programmet `Magento\CatalogGraphQl\Plugin\DesignLoader` har omarbetats.

<!-- B2B-2379-->

* Omladdning av kundvagnen aktiveras nu endast en gång, vilket är väntat när kundvagnen initieras av GraphQL-mutationer. Tidigare ledde inläsningen av varukorgen till onödig omvalidering av varukorgen mot lagret, som förbrukade betydande resurser varje gång vagnen lästes in.

<!-- AC-1726-->

* `gift_message`-typen har lagts till i `OrderItemInterface`. [GitHub-29418](https://github.com/magento/magento2/issues/29418)

<!-- AC-2454-->

* De produktalternativ som returneras i GraphQL-svar innehåller nu endast de produkter som finns i den katalog som användaren tillhör. Om användaren tillhör en delad katalog returneras endast produkter i delade kataloger. Om användaren är gäst eller inte ingår i en anpassad delad katalog returneras endast produkter i den offentliga katalogen.


### Google ReCAPTCHA

<!-- AC-3179-->

* Ett reCAPTCHA-fel i filen `var/log/exception.log` för administratörsinloggningen för Google V3 reCAPTCHA har åtgärdats och inga felmeddelanden loggas. Tidigare utlöstes följande fel var några sekund när en administratörsanvändare konfigurerade sina **[!UICONTROL Configuration]** > **[!UICONTROL Security]** > **[!UICONTROL Google reCAPTCHA Admin Panel]**-inställningar: `main.ERROR: Can not resolve reCAPTCHA parameter. {"exception":"[object] (Magento\Framework\Exception\InputException(code: 0): Can not resolve reCAPTCHA parameter. at /home/xxxxxxx/public_html/vendor/magento/module-re-captcha-ui/Model/CaptchaResponseResolver.php:25)"} []`. [GitHub-34975](https://github.com/magento/magento2/issues/34975)


### Bild

<!-- ACP2E-905-->

* Rekommendationerna om logotypstorlek för PDF Invoice-kort har uppdaterats.


### Importera/exportera


<!-- ACP2E-957-->

* Import av en produkt med samma numeriska URL-nyckel som en befintlig produkt, men utan det avslutande alfabetiska tecknet, orsakar inte längre ett valideringsfel när **[!UICONTROL Product URL Suffix]** är inställt på tom i Admin.

<!-- AC-6588-->

* Kommandot `bin/magento app:config:import` kan nu importera innehållet i en `config.php`-fil när den innehåller vissa `cron`-uttryck. Tidigare misslyckades importen med följande fel: `Import failed: Notice: Trying to access array offset on value of type null in [..]/vendor/magento/module-config/Model/Config/Backend/Currency/Cron.php on line 66`. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-1289-->

* Fullständig export fungerar nu korrekt när AWS S3 används som fjärrlagring. Tidigare misslyckades exporten på grund av den överförda filstorleken.

<!-- ACP2E-982-->

* Produktstatus importeras nu korrekt när lagerdatakolumner i CSV-filen saknas. Tidigare tilldelades standardkällan automatiskt produkten efter produktimporten och dess kvantitet ställdes in på noll och dess status angavs som ej i lager när lagerdatakolumner i CSV-filen saknades.

<!-- ACP2E-841-->

* Om du importerar avancerade prisvärden får du nu rätt antal för nya och uppdaterade poster när importen innehåller mer än 100 poster. Tidigare gav meddelandet om att importen lyckades fel antal.

<!-- ACP2E-984-->

* Exporterade CSV-filer innehåller nu korrekta sökvägar till kategorinamn som har sparats på flera språk. Ett butiks-ID har lagts till för kategorisamling. Tidigare innehöll de exporterade filerna blandade banor med olika språk i stället för en kategorisökväg som härletts från standardbutiksvyn.

<!-- ACP2E-1319-->

* Uppdateringen av anpassade alternativ för en produkt i en viss butiksvy via import har nu slutförts. Tidigare uppstod ett internt serverfel om en produktrelaterad rad delades upp i flera grupper.

<!-- AC-6926-->

* Importtjänsten `Fixer.io` fungerar nu som förväntat. Valutakurser har importerats. [GitHub-36010](https://github.com/magento/partners-magento2ee/issues/36010)

### Index

<!-- ACP2E-1296-->

* Prisomindexeringen fungerar nu när katalogen innehåller paketprodukter inte har tilldelats någon webbplats. Tidigare inträffade följande fel när produktprisindexet kördes: `Warning: Undefined array key <bundel product id > in vendor/magento/module-bundle/Model/ResourceModel/Indexer/Price/DisabledProductOptionPriceModifier.php on line 117`. [GitHub-35796](https://github.com/magento/magento2/issues/35796)

### Infrastruktur

<!-- AC-5972-->

* Problem med modulen `colinmollenhour/php-redis-session-abstract` från tredje part och PHP 8.1 har åtgärdats. [GitHub-35634](https://github.com/magento/magento2/issues/35634)


### Beställning

<!-- ACP2E-998-->

* Orderprefixet som skickas i installationsskriptet läggs nu till korrekt i order-ID:t.

<!-- ACP2E-790-->

* Sidan med orderinformation läses nu in när ordern innehåller en produkt med ett långt anpassat textvärde. Tidigare lästes inte sidan med orderinformation in och värdet i kolumnen `sales_order_item.product_options` sparades inte korrekt om en produkt innehöll ett långt värde för ett anpassat textalternativ.

<!-- AC-3178-->

* Statusen för butiksorder gäller nu för delvis återbetalda order. Tidigare var en order i bearbetningstillstånd efter leverans när en partiell återbetalning tillämpades. [GitHub-35528](https://github.com/magento/magento2/issues/35528)

<!-- AC-3031-->

* Kundgruppen representeras nu korrekt som **Inte inloggad** för en order som skapats av en gästanvändare. Tidigare var kundgruppen NULL i gästordersammanfattningar, som påverkade bekräftelsemeddelanden och orderexport. [GitHub-35440](https://github.com/magento/magento2/issues/35440)

<!-- AC-2811-->

* Statusen **[!UICONTROL Closed]** har nu tilldelats virtuella order som förväntat efter att en kreditnota har utfärdats och kunden har återbetalats. Tidigare visades virtuella produkter som **[!UICONTROL Complete]** i listrutan Status, men **[!UICONTROL Closed]** i sidfoten för orderkommentarerna när kommentaren lades till från Admin. [GitHub-35283](https://github.com/magento/magento2/issues/35283)

<!-- AC-6641-->

* Gäster kan nu göra beställningar för produkter med en kvantitet som är mindre än en, och produktkvantiteten är nu strikt typbestämd som `float`. Tidigare, eftersom produktkvantiteten var strikt typbestämd som `int`, misslyckades beställningar för en produktkvantitet som är mindre än en med följande meddelande: `Some of the products are disabled`. [GitHub-36060](https://github.com/magento/magento2/issues/36060)

<!-- ACP2E-1313-->

* Leveransåterbetalningar beräknas nu korrekt när konfigurationsalternativet **[!UICONTROL Apply discount on prices]** är inställt på **[!UICONTROL including taxes]**.

<!-- ACP2E-1199-->

* Rutnät för faktura, leverans och kreditnotor uppdateras nu asynkront efter att beställningarna har arkiverats.

<!-- ACP2E-1194-->

* Dubblettorder beror inte längre på samtidiga, identiska GraphQL-begäranden. Citattecken är nu låsta i upp till 10 sekunder för att förhindra att dubblettorder skapas, och den andra begäran misslyckas med följande fel: `The cart isn't active` eller `The order has already been placed and is currently processing`. Det här låsvärdet kan konfigureras via ID för parametern `Magento\Quote\Model\PlaceOrderMutex` class `lockWaitTimeout`. [GitHub-36274](https://github.com/magento/magento2/issues/36274)

<!-- ACP2E-860-->

* Företagsattributvärden visas nu som förväntat i fakturerings- och leveransadressavsnitten i arbetsflödet för utcheckning. Tidigare visades inte företagsattribut korrekt på orderdetaljsidan eftersom butikerna inte ställdes in korrekt när beställningarna skapades. Attributvärden lagrades bara korrekt när egenskapen **Show Company** ställdes in på **[!UICONTROL optional]** för **Main Website** i distributioner med flera lager.

<!-- ACP2E-1117-->

* Värdet `customer_address_id` har nu angetts som förväntat för en ny faktureringsadress när kryssrutan **[!UICONTROL My billing and shipping address are the same]** är markerad. Ett ytterligare villkor har införts för att identifiera om faktureringsadressen är samma som leveransadressen innan kundadress-ID anges för leveransadressen.

<!-- AC-6057-->

* Samtidighetsproblem med orderplacering har lösts. Tidigare tilldelades båda beställningarna samma order-ID om två beställningar gjordes i olika webbläsare samtidigt eller nästan samtidigt. [GitHub-35833](https://github.com/magento/magento2/issues/35833)

<!-- AC-6908-->

* Placering av en automatiskt fakturerad order för en kostnadsfri produkt när asynkron indexering är aktiverat fungerar nu som väntat. Inga poster har lagts till i tabellen `sales_order_grid or sales_invoice_grid` för dessa order. Tidigare inträffade ett undantag i Magento Open Source eftersom programmet försökte indexera rutnätet under orderplaceringen i stället för att förlita sig på `cron`. [GitHub-36334](https://github.com/magento/magento2/issues/36334)


### Betalningsmetoder


<!-- ACP2E-862-->

* Betalningsmetoden för postförskott renderas inte längre i arbetsflödet för utcheckning i butiken när postförskott är undantaget för det land som anges i leverans- och faktureringsadresserna. Tidigare har inte administratörskonfigurationsinställningarna för den här funktionen implementerats.

<!-- AC-1119-->

* Valvbetalningsinformation visas inte längre i avsnittet Betalning i arbetsflödet för att skapa administratörsorder om kunden inte har sparat en token. [GitHub-33954](https://github.com/magento/magento2/issues/33954)

<!-- AC-2688-->

* De anpassade priserna fördubblas inte längre efter att en rabatt har tillämpats enligt kundprisregeln. [GitHub-35154](https://github.com/magento/magento2/issues/35154)

<!-- ACP2E-1120-->

* Ny status för väntande order respekteras nu som förväntat när en order placeras med betalningsmetoden Zero Subtotal Checkout.

<!-- ACP2E-1121-->

* Inställningarna för gästmeddelanden gäller nu när en gästkund skapas med PayPal Express via GraphQL. Tidigare åsidosattes e-postadressuppsättningen av den e-postadress som angetts i PayPal-kontot.


#### Braintree


<!-- BUNDLE-3186-->

* Order-ID:n läggs nu till i kvittningsbegäranden för betalningstransaktioner.

<!-- AC-3030-->

* Magento Open Source genererar inte längre följande fel när en handlare klickar på **[!UICONTROL Reports]** > **[!UICONTROL Braintree Settlement]**: `Error: Undefined constant Braintree\PaymentInstrumentType::ANDROID_PAY_CARD in /var/www/html/vendor/paypal/module-braintree-core/Ui/Component/Report/Listing/Column/PaymentType.php:49`. [GitHub-35434](https://github.com/magento/magento2/issues/35434)

<!-- BUNDLE-3043-->

* Frågan `customerPaymentTokens` returnerar inte längre Braintree-token när valvet är inaktiverat i Admin.

<!-- BUNDLE-3107-->

* Knappen **[!UICONTROL Pay Later]** och banners har aktiverats för Italien och Spanien.

<!-- BUNDLE-3137-->

* Administratörsanvändare kan nu skapa en order eller ändra ordning när betalningsmetoden för Braintree är aktiverad. Tidigare inträffade följande fel i Magento Open Source: `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.

<!-- BUNDLE-3139-->

* Utcheckningen med Braintree betalningsmetod har nu slutförts när Braintree PayPal har aktiverats och **[!UICONTROL Enable Card Payments]** har inaktiverats. Tidigare löstes aldrig förloppsindikatorn och Magento Open Source visade följande konsolfel: `adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66)`. [GitHub-35961](https://github.com/magento/magento2/issues/35961)

<!-- BUNDLE-3140 3141-->

* Bedrägeriskydd, ACH-betalning och webbaserade betalningsmetoder har implementerats. Webbkroken för bedrägeriskydd aktiveras endast om ett riskbeslut har fattats i Braintree. ACH-webbkroken aktiveras endast efter att en ACH-betalning har uppdaterats till `settled` eller `settlement decline`.

<!-- BUNDLE-3143-->

* Konfigurationsfälten **[!UICONTROL Tagline]** och **[!UICONTROL Layout]** har tagits bort från alla **[!UICONTROL PayPal]**-knappar i avsnittet Administratörsformat.

<!-- ACP2E-1229-->

* Betalningsmetoden för Braintree Vault förblir markerad i arbetsflödet för kassan när en kund uppdaterar sin faktureringsadress. Tidigare var betalningsmetoden avmarkerad när användaren avmarkerade knappen **[!UICONTROL My billing and shipping address are the same]**.

<!-- BUNDLE-3184-->

* Radartiklar skickas nu för PayPal-transaktioner när konfigurationsinställningen **[!UICONTROL Send Line Items]** aktiveras från Admin.

<!-- BUNDLE-3187-->

* Valideringslogiken i fältet för ACH-betalningsmetod **[!UICONTROL Account Number]** har nu stöd för fyra till sjutsiffriga tecken.

<!-- BUNDLE-3043-->

* Frågan `customerPaymentTokens` returnerar inte längre Braintree-token när valvet är inaktiverat från Admin.

<!-- BUNDLE-3137-->

* Administratörsanvändare kan nu skapa en order eller ändra beställning för kunder när betalningsmetoden för Braintree är aktiverad. Tidigare inträffade följande fel i Magento Open Source: `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`

<!-- BUNDLE-3139-->

* Köpare kan nu använda betalningsmetoden Braintree i butiker där **[!UICONTROL Enable Card Payments]** har inaktiverats. Tidigare inträffade följande JavaScript-fel i Magento Open Source: `_adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66).`


#### Prestanda

<!-- ACP2E-1028-->

* Prisindexeraren tar nu bort inaktuella data som förväntat efter att poster har ersatts under partiell omindexering av stora kataloger. Tidigare tog omindexeringsprocessen bort inaktuella poster innan de ersattes, vilket gjorde att produkter ibland försvann tillfälligt från butiken. [GitHub-35616](https://github.com/magento/magento2/issues/35616)

<!-- ACP2E-963-->

* Prestandan för kommandot `bin/magento/setup:upgrade` har förbättrats. Tidigare återskapades databasutlösarna med det här kommandot, vilket orsakade betydande driftavbrott under kommandokörningen. Indexerarna återgick inte heller till det schemalagda läget och var fortfarande i sparläge. [GitHub-33386](https://github.com/magento/magento2/issues/33386)

<!-- ACP2E-1016-->

* Uppdatering av nivåpriser via API körs nu snabbare. Tidigare genererade en uppdatering av nivåpriser onödiga `SELECT` frågor, som försenade körningen när många kundgrupper tilldelades en produkt.

<!-- ACP2E-1307-->

* Inläsningen av sidor som innehåller katalogwidgetens produktlista har optimerats. Tidigare lästes icke-globala attribut in direkt från databasen.

### Rapporter

<!-- ACP2E-1104-->

* Summarapporten **från** och **till** visas nu korrekt efter att du har valt datum i datumväljaren.

<!-- BUNDLE-3147-->

* Konstanten `ANDROID_PAY_CARD` i `Braintree/Ui/Component/Report/Listing/Column/PaymentType.php` har ersatt `GOOGLE_PAY_CARD`. Detta löser problem med Braintree-rapporten.

### Recensioner

<!-- ACP2E-1214-->

* Administratörsanvändare med begränsad åtkomst till ett specifikt omfång kan nu ta bort produktrecensioner som förväntat.

### Roller

<!-- ACP2E-1277-->

* En saknad ACL har lagts till för **[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL Services]** > **[!UICONTROL OAuth]**. Tidigare gick det inte att definiera åtkomst till den här OAuth-konfigurationsinställningen när du konfigurerade rollbehörigheter.


### Sök

<!-- ACP2E-989-->

* Sökningar efter strängar inom citattecken fungerar nu som väntat när konfigurationsinställningen **[!UICONTROL Minimum Terms to Match]** är aktiverad. Tidigare inträffade följande fel i Magento Open Source: `{"error":{"root_cause":[{"type":"parsing_exception","reason":"[match_phrase] query does not support [minimum_should_match]' ...`.

<!-- ACP2E-877-->

* Sökfiltret **Registrerad punkt** för kundposter i kundraster för försäljningsorder fungerar nu som väntat när order skapas.

<!-- ACP2E-783-->

* Kvaliteten på sökförslagen har förbättrats för frågor med flera ord.

<!-- AC-6768-->

* Sökresultaten inkluderar nu utdata som inte finns i lager för alla tillgängliga produkter när **[!UICONTROL Display Out Of Stock Products]** är aktiverat [GitHub-36055](https://github.com/magento/magento2/issues/36055)


### Leverans

<!-- ACP2E-670-->

* Fraktsatser för FedEx, USPS och UPS beräknas korrekt när regeln för kostnadsfri leveransvagn är inställd på att endast matcha en delmängd av artiklarna i vagnen.

<!-- AC-937-->

* På sidan Administratörens leveranssida visas inte längre alternativet för fri frakt när ordersumman är lägre än det angivna minimiorderbeloppet som berättigar till fri frakt. [GitHub-33697](https://github.com/magento/magento2/issues/33697)

<!-- AC-838-->

* Magento Open Source följer nu konfigurationsinställningen **[!UICONTROL Show Company]** för Admin-kunden när leverans- eller kundadressen visas. När den här inställningen är inaktiverad inkluderas inte längre leveransföretaget i leverans-, kundadress- eller databasorderposten. Tidigare visades informationen trots att inställningen inaktiverades. [GitHub-33729](https://github.com/magento/magento2/issues/33729)

<!-- magento/magento2/pull/35631-->

* En överflödig sparåtgärd för offerter togs bort vid beräkning av leverans.

<!-- magento/magento2/pull/35817-->

* Omfånget `storeId` används nu direkt från `$request->getStoreId()` för att säkerställa att omfånget inte förloras när en offert skapas av en administratörsanvändare. Tidigare uppstod ibland problem med leveransmetoder när en offert skapades från administratören med hjälp av tredjepartsmoduler.

<!-- ACP2E-1304-->

* SEO-anpassade URL:er genereras nu för produkter vars `url_key`-inställning åsidosätts på butiksvynivå. Tidigare omdirigerades inte URL:er för kategoriprodukter till SEO-vänliga URL:er.

<!-- ACP2E-1196-->

* Magento Open Source ger inte längre upphov till ett fel med minimiorderbelopp när rabatt tillämpas på fraktkostnader.

<!-- ACP2E-1190-->

* Fraktåterbetalningar beräknas nu korrekt när moms tillämpas efter att rabatten har tillämpats på leveransen.

<!-- ACP2E-910 AC-3182-->

* Alla tillämpliga erbjudanden för en begärd kundvagn via GraphQL `cart`-frågan returneras tillsammans. Kampanjer omfattar radartikelrabatter, kundvagnsregler/rabatter, kuponger, presentkort och butikskrediter. [GitHub-35545](https://github.com/magento/magento2/issues/35545)

<!-- AC-2363-->

* `price_excl_tax`- och `price_excl_tax`-typerna har lagts till i utdata för mutationen `setShippingMethodsOnCart`. [GitHub-31206](https://github.com/magento/magento2/issues/31206)

<!-- AC-1096-->

* Unika leverans-ID:n skickas nu i GraphQL-svar som förväntat med leveransinformation för order som levereras till flera adresser för GraphQL-frågor.

### Moms


<!-- AC-3201-->

* Konfigurationsinställningen **[!UICONTROL Display Zero Tax Subtotal]** används nu som förväntat för order i distributioner som erbjuder flera leveransmetoder. Föregående var fältet Noll skatt synligt på kundvagnssidan vid utcheckning innan en leveransmetod valdes, även när den här inställningen inaktiverades. [GitHub-35561](https://github.com/magento/magento2/issues/35561)

<!-- AC-3157-->

* Magento Open Source kan nu visa grupperade produkter med moms på butikskategorisidan i distributioner som kör PHP 8.1. Tidigare visades ingen produktlista i Magento Open Source och följande undantag inträffade: `main.CRITICAL: Exception: Deprecated Functionality: ucfirst(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/m24/vendor/magento/module-tax/Pricing/Render/Adjustment.php on line 188 in /var/www/m24/vendor/magento/framework/App/ErrorHandler.php:61`. [GitHub-35500](https://github.com/magento/magento2/issues/35500)

<!-- ACP2E-1258-->

* Det går inte längre att flytta en schemalagd uppdatering till en annan uppdatering som innehåller samma regel-ID. Tidigare skapades dubblettscheman när en uppdatering flyttades till en annan uppdatering som innehöll samma regel-ID.

<!-- ACP2E-1295-->

* Automatisk kundgrupptilldelning fungerar nu när det inte finns något moms-ID kopplat till kundens adress. Om adressen inte innehåller något moms-ID behandlas den som om den tillhör en icke-momsregistrerad kund och Magento Open Source ändrar kundgruppen till en annan momsgrupp. När **[!UICONTROL Enable Automatic Assignment to Customer Group]** var aktiverat tilldelades inte kundkontot automatiskt `customerGroup` när momsregistrerings-ID:t togs bort från kundkontot.

<!-- ACP2E-493-->

* De rätta dynamiska blocken visas nu för reglerna för mellanlagrad katalog i mellanlagringsförhandsgranskningsläget. Tidigare visades icke-relaterade dynamiska block.

<!-- ACP2E-1080-->

* Flera skatter återges nu korrekt i avsnittet Momssammanfattning för fakturor och kreditnotor när flera leveranser görs vid utcheckningen.

<!-- ACP2E-1076-->

* Rabatterna tillämpas inte längre när en orderdelsumma inklusive moms tillsammans med Fast produktskattebelopp överskrider villkoren för kundvagnsregel på kundvagnssidan. Tidigare tillämpades rabatter även när summan överskred villkoren för kundvagnsregeln.

<!-- ACP2E-913-->

* Du kan nu ange en `vat_id` när du använder GraphQL för att lägga till eller uppdatera adressen till en gästkund.


### Testa

<!-- ACP2E-1171-->

* Korrigerad enhet testar fel för olika versioner av biblioteken `ICU` och `libxml`.

<!-- ACP2E-1134-->

* Utvecklare kan nu instruera systemet att utföra en datakorrigering i en viss butiksvy. Den nya valfria parametern `scope` accepterar en `string` som motsvarar arkivkorrigeringsalias.

<!-- ACP2E-1133-->

* Lagt till möjligheten att generera flera instanser av en datakorrigering med den valfria parametern `count`.

<!-- AC-6860-->

* Borttagen icke-inbyggd `array_first`-funktion från dev-beroenden i MFTF-ramverket.

### Översättningar och språkinställningar

<!-- ACP2E-912-->

* Textbunden översättning fungerar nu korrekt med specialtecken, inklusive utökade unicode-tecken i fraser som finns i SCRIPT-taggar. Tidigare återgavs japanska tecken felaktigt i redigerade skript när intern översättning användes.

<!-- ACP2E-844-->

* Tecknet `ñ` i ett produktnamn konverteras nu till `n` vid generering av URL-nycklar.

<!-- AC-3499-->

* Utdata från `bin/magento i18n:collect-phrases` som körs inkluderar nu postmallsöversättningar i `depend`-konstruktioner som förväntat. [GitHub-35449](https://github.com/magento/magento2/issues/35449)

<!-- ACP2E-1135-->

* Japanska tecken kan nu anges direkt i produktsidesattributuppsättningen (kombinationsruta). Tidigare ledde direkt inmatning av japanska tecken i den här kombinationsrutan till ändrade eller borttagna tecken när webbläsaren Firefox kördes i MacOS. HTML-attributet `textInput`, som bättre kan hantera japansk teckenkonvertering i alla webbläsare, har ersatt attributen `Value` och `valueUpdate`.

<!-- ACP2E-1238-->

* Metoden `getOptions` hämtar nu korrekt `price`-attributetikettvärden baserat på butiksvyn. Tidigare översattes attributet `price` under GraphQL-åtgärder för den felaktiga butiksvyn.


### UI


<!-- ACP2E-1018-->

* Webbplatsspecifik valuta används nu som förväntat för kolumnerna Special Price, Cost och MSRP i rutnätet för administratörsprodukter. Tidigare visades inte rätt valutasymbol i produktstödrastret för Admin-katalogen vid filtrering i butiksvyn till specialpris.

<!-- ACP2E-980-->

* Dra-och-släpp-funktionen för anpassade produktalternativ fungerar nu som förväntat. Du kan nu flytta ett anpassningsbart alternativ från en sida till en annan när det finns flera tillgängliga sidor i det anpassningsbara stödrastret.

<!-- ACP2E-866-->

* Admin Dashboard-diagram visar nu YTD-tidsintervall från början av det aktuella kalenderåret till det aktuella datumet som förväntat. Tidigare fanns datumintervall under 12 månader.

<!-- AC-3088-->

* Ett standardfavoritikonobjekt som saknas på butikens startsida har lagts till. [GitHub-35493](https://github.com/magento/magento2/issues/35493)

<!-- ACP2E-1025-->

* Administratören visar nu det senaste inloggningsdatumet för varje administratörsanvändare. Tidigare visades ett tomt inloggningsdatumvärde i administratörens användarrutnät när en administratörsanvändare loggade in första gången.


<!-- AC-3762-->

* E-postmallfunktionen för förhandsgranskning (**[!UICONTROL Marketing]** > **[!UICONTROL Communications]** > **[!UICONTROL Email Templates]**) visar nu mallar korrekt. Tidigare trunkerades förhandsvisningsbilden. [GitHub-35697](https://github.com/magento/magento2/issues/35697)

<!-- magento/magento2/pull/35656-->

* Klassen `new-shipping-address-modal` har lagts till som stöd för formatering av den nya leveransadressen modal.

<!-- magento/magento2/pull/35738-->

* Informativ text har lagts till under `Search Weight`-attributets `Storefront Properties`-indatafält på Admin **[!UICONTROL Stores]**  > [!UICONTROL Attributes] > **[!UICONTROL Product]**.

<!-- ACP2E-1323-->

* Förhandsgranskningar via e-post öppnas nu på en separat flik i stället för i ett popup-fönster, som ger en mer omfattande vy av e-postinnehållet. Tidigare trunkerades e-postinnehåll.

<!-- ACP2E-1299-->

* Filterfunktionen för användarrollstödrastret (Admin **[!UICONTROL System]** > **[!UICONTROL Permissions]** > **[!UICONTROL User roles]** > **[!UICONTROL Administrators]**) fungerar nu som förväntat. Arrayvärdet hanteras nu separat. Tidigare när du försökte ange en fråga i detta rutnät genererades detta konsolfel i Magento Open Source och sidan lästes inte in: `Uncaught TypeError: Cannot read properties of null`. [GitHub-35993](https://github.com/magento/magento2/issues/35993)

<!-- ACP2E-328-->

* Validering av attributvärden har lagts till när en kund skapas via REST API. Skapandet misslyckas nu när ogiltiga attributvärden anges. Tidigare fanns det ingen validering för kön, vilket inte är ett obligatoriskt fält. När kunden skapades sparades det värde som skickades för kön i tabellen `customer_entity`.

<!-- ACP2E-1105-->

* Adresser som läggs till under utcheckning behåller nu det förväntade formatet. Tidigare ignorerades tomma rader.

<!-- ACP2E-897-->

* Om du ändrar kolumnstödrastervyn i produktstödrastret och väljer nya kolumner för en anpassad vy aktiveras inte längre åtgärden Markera alla kolumner i stödrastret. Tidigare försvann kolumnrutan och produkterna i rutnätet valdes eller avmarkerades. [GitHub-36302](https://github.com/magento/magento2/issues/36302)

<!-- ACP2E-1245 1405-->

* Administratörsanvändare kan nu rensa den slutförda aktivitetsloggen för Admin. Tidigare visade administratören följande fel: `Something went wrong`. [GitHub-36255](https://github.com/magento/magento2/issues/36255)

<!-- AC-7525-->

* Inställningen `Welcome Text` för temarubriken kan nu innehålla ett enkelt citattecken. Tidigare inträffade följande JavaScript-fel i Magento Open Source: `Uncaught SyntaxError: Unable to process binding "ifnot: function(){return customer().fullname }"`.

### URL-omskrivningar

<!-- ACP2E-808-->

* Om du ändrar produktsynlighet till **[!UICONTROL Not Visible Individually]** i det globala området för alla butiksvyer tas nu endast URL-omskrivningar bort för butiksvyer som inte har åsidosatt synlighetsattributet. Om du ändrar produktsynlighet på det här sättet genereras även URL-omskrivningar för alla butiksvyer, inklusive de som har åsidosatt URL-nyckelattributet (men inte synlighetsinställningen). Tidigare tillämpades inte regler för URL-omskrivning när synlighetsinställningarna ändrades.

### Webb-API-ramverk

<!-- ACP2E-1207-->

* REST API `DELETE /rest/V1/products/:sku/media/:entryId` returnerar nu ett felmeddelande om bilden inte tas bort från produkten eftersom den har tilldelats en roll i andra butiksvyer. Tidigare returnerade API:t ett lyckat svar även när bilden inte kunde tas bort.

<!-- ACP2E-1155-->

* Handlare kan nu använda REST API för att skapa en kreditnota för en order med noll totalsumma. Tidigare visade Magento Open Source följande fel: `The order does not allow a credit memo to be created. The credit memo's total must be positive. We can't create a credit memo for the invoice/order`.

<!-- ACP2E-1136-->

* Produktredigeringssidan för Admin återspeglar nu en produkts tilldelningar korrekt efter att produktens webbplatstilldelning har ändrats med REST API. [GitHub-36281](https://github.com/magento/magento2/issues/36281)

<!-- ACP2E-863-->

* Det går inte längre att ta med duplicerade alternativ-ID:n för flervalsattribut under massbegäran av REST API för uppdatering av produkter. Tidigare kunde du ange dubbla alternativ-ID:n för flervalsattribut när du skickade en satsnings-API-begäran för att uppdatera en produkt. När det flervalsattributet konfigurerades för inkludering i lagerstyrd navigering misslyckades EAV-indexeringen med ett `Duplicate entry`-fel.

<!-- ACP2E-778-->

* Produktnamnen i kundvagnen använder nu den angivna butiksvyns värden som förväntat. Tidigare returnerade produktnamnen i kundvagnen alltid standardvärdet för butiksvyn i REST API-kundvagnssvaren.

<!-- AC-5986-->

* Värden för anpassade alternativ för kundvagnsobjekt kan nu uppdateras med REST API. [GitHub-35768](https://github.com/magento/magento2/issues/35768)

<!-- AC-1330-->

* Flera API-begäranden för fler än 20 `sourceItems` har nu slutförts i distributioner där Inventory är aktiverat.

<!-- ACP2E-1044-->

* Valutatjänsten Fixer fungerar nu som väntat med nycklar som genererats via ApiLayer, och valutakurserna exporteras korrekt. Tidigare uppstod ett fel när en handlare försökte importera valutakurser via administratören.

<!-- ACP2E-726-->

* Du kan nu använda REST API `/rest/V1/bulk?searchCriteria[filter_groups]`-begäran för att fråga efter gruppåtgärder efter sökvillkor. Tidigare returnerades följande fel: `report.CRITICAL: Report ID: webapi-624bbb1db96c4; Message: Item (Magento\AsynchronousOperations\Model\Operation) with the same ID "0" already exists.`

<!-- magento/magento2/pull/36147-->

* Produktpriserna uppdateras nu korrekt på söksidorna för både Admin- och storefront-katalogen med API:t Hantera baspris. [GitHub-33767](https://github.com/magento/magento2/issues/33767)


### Önskningslista


<!-- ACP2E-1013-->

* Köpare kan nu lägga till produkter i önskelistan efter inloggning. Tidigare ogiltigförklarades den formulärnyckel som skickades med begäran om tillägg till önskelista på grund av problem med formulärnyckelvalidering efter inloggning.

<!-- ACP2E-341-->

* Produkterna läggs nu till som förväntat i önskelistan från produktlistan och visas efter att en gästkund har bekräftat sitt konto via ett bekräftelsemeddelande. Tidigare lades produkterna inte till i önskelistan efter kontouppgifterna.

<!-- ACP2E-1175-->

* Frågan `addProductsToWishlist` returnerar nu ett informativt felmeddelande när en kund försöker lägga till ett objekt i en önskelista med ett ogiltigt värde för det anpassade alternativet `select` för produkten. Tidigare saknades servervalidering för det anpassade alternativvärdet i listrutan, vilket ledde till ett ogiltigt värde i databasen. Därför returnerade slutpunkten följande interna serverfel: `GraphQL endpoint returns Internal server error with "Call`.

## Känt fel

**Utgåva**: Du kan inte skapa en kreditnota när fri frakt är aktiverat (**[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL Sales]** > **[!UICONTROL Delivery Methods]**) och det visade fraktpriset inkluderar moms. När du försöker skapa en kreditnota genererar Adobe Commerce följande undantag: `"Division by zero".vendor/magento/module-sales/Model/Order/Creditmemo/Total/Tax.phpLine 139`. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

**Tillfällig lösning**: Det finns nu en snabbkorrigering för det här problemet. Gå till [Verktyget Kvalitetsuppdateringar: Sök efter patchar](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html) och sök efter patchar ACSD-50814.

## Bidrag från gemenskapen

Vi är tacksamma mot den bredare Magento Open Source-communityn och vill tacka för deras bidrag till denna release.

Community Engineering-teamet [Magento Contributors](https://magento.biterg.io/app/kibana) har en lista över de mest bidragsgivande personerna och partnerna per månad, kvartal och år. På den Contributors-sidan kan du följa länkar till deras sammanslagna PR på GitHub.

### Partnerbidrag

I följande tabell visas partnerernas bidrag. I den här tabellen visas den partner som har bidragit med pull-begäran, det externa pull-begärandenumret och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-6-partner.md}}

### Individuella bidrag

Följande tabell visar bidragen från våra communitymedlemmar. I den här tabellen visas den community-medlem som har bidragit med pull-begäran, det externa pull-begärandenumret och det GitHub-nummer som är kopplat till den (om tillgängligt).

{{$include /help/_includes/release-notes/engcomm-2-4-6-issues.md}}

## Systemkrav

Vår teknikstack bygger på PHP och MySQL. Mer information finns i [Systemkrav](../../../installation/system-requirements.md).

## Installations- och uppgraderingsanvisningar

Du kan installera Magento Open Source 2.4.6 med [Composer](../../../installation/composer.md).
