---
title: Versionsinformation om Magento Open Source 2.4.7-beta1
description: Läs mer om nya funktioner, förbättringar, felkorrigeringar och kända fel i version 2.4.7-beta1 Magento Open Source.
badgeCoreBeta: label="2.4.7-beta1" type="informative"
source-git-commit: 9a28a074ba583698c79c534ff04111b51a5d07be
workflow-type: tm+mt
source-wordcount: '6893'
ht-degree: 0%

---


# Versionsinformation om Magento Open Source 2.4.7-beta1

>[!IMPORTANT]
>
>Betaversioner kan innehålla defekter och tillhandahålls i befintligt skick utan garanti av något slag. Adobe har ingen skyldighet att upprätthålla, korrigera, uppdatera, ändra, modifiera eller på annat sätt ge support (via Adobe Support Services eller på annat sätt) för betaversioner. Kunderna rekommenderas att iaktta försiktighet och att inte på något sätt förlita sig på att betaversionerna och/eller tillhörande dokumentation eller material fungerar korrekt eller fungerar korrekt. Därför är all användning av betaversioner helt och hållet på kundens egen risk.

Magento Open Source 2.4.7-beta1 innehåller över 140 kvalitetskorrigeringar och förbättringar. Core Composer-beroenden och tredjepartsbibliotek har uppgraderats till de senaste tillgängliga versionerna. Stöd för Composer 2.5 har lagts till, medan Composer 2.2.x fortfarande stöds.

Den här versionen ökar GraphQL täckning för anpassade attribut och utökade GraphQL-cachningsfunktioner.

{{bics}}

## Annan versionsinformation

Även om koden för de här funktionerna paketeras med releaser av Magento Open Source-kärnkoden, kommer flera av dessa projekt också att släppas oberoende av varandra. Felkorrigeringar för dessa projekt beskrivs i den separata, projektspecifika versionsinformation som finns i dokumentationen för varje projekt.

## Magento Open Source 2.4.7-beta1

Magento Open Source 2.4.7-beta1 har testats mot följande komponentversioner:

* Composer 2.5
* Elasticsearch 8.5
* MariaDB 10.6
* MySQL 8.0
* OpenSearch 2.5
* PHP 8.2 och 8.1
* RabbitMQ 3.11
* Redis 7.0
* Varnish 7.3

Vår teknikstack bygger på PHP och MySQL. Se [Systemkrav](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Magento Open Source 2.4.7-beta1 - högdagrar

Leta efter följande högdagrar i den här versionen.

### Säkerhetsförbättringar

Den här versionen innehåller 13 säkerhetsförbättringar och plattformssäkerhetsförbättringar.

Inga bekräftade attacker relaterade till dessa problem har inträffat hittills. Vissa säkerhetsluckor kan dock utnyttjas för att få tillgång till kundinformation eller ta över administratörssessioner. De flesta av dessa problem kräver att en angripare först får åtkomst till administratören. Därför påminner vi dig om att vidta alla nödvändiga åtgärder för att skydda din administratör, inklusive men inte begränsat till dessa åtgärder:

* IP-tillåtelselistning
* [tvåfaktorsautentisering](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* användning av ett VPN
* användning av en unik plats i stället för `/admin`
* god lösenordshygien

Se [Adobe säkerhetsbulletin](https://helpx.adobe.com/security/products/magento/apsb23-35.html) om du vill ha den senaste diskussionen om dessa åtgärdade problem.

#### Ytterligare säkerhetsförbättringar

Säkerhetsförbättringar för den här versionen förbättrar kompatibiliteten med de senaste bästa säkerhetsmetoderna, inklusive den här ändringen, som innebär en ändring av standardbeteendet för en befintlig REST-slutpunkt:

**Inbyggd hastighetsbegränsning för betalningsinformation som överförs via REST- och GraphQL-API:er**. Handlare kan nu konfigurera hastighetsbegränsning för betalningsinformation som skickas med REST och GraphQL. Detta extra skydd stöder förebyggande av kardningsattacker och kan minska antalet kardningsattacker som testar många kreditkortsnummer samtidigt. Se [Hastighetsbegränsning](https://developer.adobe.com/commerce/webapi/get-started/rate-limiting/). <!-- AC-1271 -->

Standardbeteendet för [`isEmailAvailable`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) GraphQL query and ([`V1/customers/isEmailAvailable`](https://adobe-commerce.redoc.ly/2.4.6-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)) REST-slutpunkten har ändrats. API:t returnerar nu alltid som standard `true`. Handlare kan aktivera det ursprungliga beteendet, vilket är att returnera `true` om e-postmeddelandet inte finns i databasen och `false` om den finns. <!-- AC-6695 -->

### Förbättringar av plattformen

Plattformsuppgraderingar för den här versionen förbättrar efterlevnaden av de senaste säkerhetsstandarderna. Magento Open Source 2.4.7-beta1 innehåller följande:

* Composer 2.5.x Kompatibiliteten med Composer 2.2.x kvarstår.  <!-- AC-8129 -->

* **Stöd för lack cache 7.3**. Den här versionen är kompatibel med den senaste versionen av Varnish Cache 7.3. Kompatibiliteten är fortfarande kompatibel med versionerna 6.0.x och 7.2.x, men vi rekommenderar att du endast använder Magento Open Source 2.4.7-beta1 med version 7.3 eller 6.0 av Varnish Cache.

* **Stöd för RabbitMQ 3.11**. Den här versionen är kompatibel med den senaste versionen av RabbitMQ 3.11. Kompatibiliteten är fortfarande kompatibel med RabbitMQ 3.9, som stöds fram till augusti 2023, men vi rekommenderar att du endast använder Magento Open Source 2.4.7-beta1 med RabbitMQ 3.11.

#### Andra uppgraderingar och ersättningar

De gamla JavaScript-biblioteken har uppgraderats till de senaste versionerna, bland annat:

* `moment.js` bibliotek (v2.29.4) <!-- AC-7389 -->
* `jQuery UI` bibliotek (v1.13.2)  <!-- AC-7775 -->
* `jQuery` validerings-plugin-bibliotek (v1.19.5) <!-- AC-8077 -->

### GraphQL

I den här versionen har GraphQL förbättrade cachningsfunktioner och stöd lagts till i GraphQL schema för EAV-attribut för kunder, inklusive:

* **Förbättrat stöd för anpassade attribut**. GraphQL stöd för anpassade attribut har förbättrats genom att API-data har berikats så att det nu har stöd för alla attributtyper. GraphQL EAV-attributschemat har nu stöd för att utöka kundattribut och kundadressobjekt i Admin och hämta dem med GraphQL. Specifika förbättringsområden är: <!-- LYNX-61 110-->

   * utökat/tillagt stöd för anpassade attribut inom specifika områden som kund- och kundadress
   * tillagd cachning för anpassade attribut
   * bättre stöd för anpassade attribut

* **Förbättrade funktioner för GraphQL-cachning förbättrar sidinläsningshastigheten**. Cachelagring har lagts till i de här frågorna, vilket förbättrar sidinläsningstiden för de flesta PWA-sidor:

   * [`storeConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) <!-- B2B-2487 2258 -->
   * [`currency`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/) <!-- B2B-2255 -->
   * [`countries`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) och [`country`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/) <!-- B2B-2256 -->
   * [`availableStores`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) <!-- B2B-2257 -->
   * [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata) <!-- B2B-2259 -->

* **Nya cachetyper för GraphQL resolver** inkludera:
   * CMS-sida. Resultatet av CMS-sidmatcharen cache-lagras.  <!-- B2B-2451 -->
   * CMS-block. Detta sparar resultaten från `Magento\CmsGraphQl\Model\Resolver\Blocks::resolve`. <!-- B2B-2659 -->

* Prestandan i GraphQL-parsern har förbättrats genom att minska antalet gånger `parse` metoden anropas per begäran. Den kallas nu en gång. Tidigare anropades parsern minst tre gånger. <!-- B2B-2606 -->

#### Ny fråga

[`customAttributeMetadataV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/) <!-- LYNX-152 160-->

#### Föråldrade frågor

* [`attributesMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/) <!-- LYNX-77-->
* [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/)

### Magento Open Source Extension-metapaket

Den här versionen innehåller metapaketet v1.0.0-beta1 för Magento Open Source, som automatiskt paketerar [Betalningstjänster](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html) i den här kärnversionen. Den version av tillägget som ingår i det här metapaketet installeras när `composer update` körs, vilket förenklar processen att uppgradera tillägget när du uppgraderar till den senaste kärnversionen. Tillägget behåller ett oberoende releaseschema.

Framtida versioner av det här tilläggspaketet kommer att innehålla ytterligare tillägg.

### Page Builder

Page Builder v.1.7.4 är kompatibelt med Magento Open Source 2.4.7-beta1.

### PWA Studio

PWA Studio v.13.2.x är kompatibel med Magento Open Source 2.4.7-beta1. Det innehåller flera förbättringar som förbättrar tillgängligheten. Mer information om felkorrigeringar finns i [PWA Studio](https://github.com/magento/pwa-studio/releases). Se [Versionskompatibilitet](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) för en lista över PWA Studio-versioner och deras kompatibla Magento Open Source-versioner.

## Åtgärdade problem

Vi har åtgärdat hundratals problem i kärnkoden Magento Open Source 2.4.7-beta1. En deluppsättning av de åtgärdade problemen som ingår i den här versionen beskrivs nedan.

### Installation, uppgradering, driftsättning

<!-- ACP2E-1505 -->

* The `bin/magento setup:upgrade` kommandot misslyckas inte längre med den här typen av MINSQL-minnesbegränsningsrelaterat fel: `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. Flervalsattribuering har optimerats för att ta mindre minne under `setup:upgrade`.

<!-- ACP2E-1751 -->

* Nu fungerar säkerhetskopiering av databaser som väntat både på Admin- och kommandoraden. Tidigare inträffade följande fel i Magento Open Source: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 1605-->

* Körs `setup:config:set` utan att ange `--lock-db-prefix` parametern raderar inte längre det aktuella värdet från `env.php` -fil.

<!-- ACP2E-1498 -->

* Slutarkonfigurationen har uppdaterats för att förhindra att gästanvändare får åtkomst till cachelagrat innehåll relaterat till andra kundgrupper.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` slutförs nu korrekt vid installation av en ny modul som installerar både tabeller och associerade `mview` indexerare.

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` visar nu ett mer informativt felmeddelande när ett meddelandeköämne inte innehåller något ämnesnamn. [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` visar nu ett mer informativt felmeddelande när sammanfogade XML-filer är ogiltiga. Felmeddelandet innehåller nu filnamnet.

### Paketprodukter

<!-- ACP2E-1478 -->

* Paketprodukter kan nu importeras utan att man behöver duplicera SKU:er i produktalternativen. Tidigare skapade Magento Open Source flera SKU:er i produktalternativen när du importerade paketprodukter med dubblettposter.

<!-- ACP2E-1388 -->

* Paketproduktpriset beräknas nu korrekt när en av produkterna i paketet inte finns i lager. Tidigare togs en produkt som ingick i paketet bort från prisberäkningen om den inte fanns i lager.

<!-- ACP2E-1503 -->

* Paketprodukter visas nu som färdiga lager när den sista av deras underordnade produkter köpts. Tidigare visades paketprodukter som lagrade i butiken när deras enkla produkter inte fanns i lager.

<!-- ACP2E-1443 -->

* Prestandaproblem när du lägger till paketprodukter med alternativ som inte krävs i kundvagnen med `addBundleProductsToCart` mutationen har lösts.

<!-- ACP2E-1264 -->

* The `categoryList` frågan returnerar nu alla paketalternativ som förväntat när **[!UICONTROL Show out-of-stock products]** konfigurationsinställningen är aktiverad. Tidigare fanns inte alternativ som inte fanns med i frågesvaret.

<!-- ACP2E-1345 -->

* Paket med produkter skapade med `POST V1/products` lyckas nu när katalogprisomfånget är inställt på `website`. Tidigare inträffade en överträdelse av integritetsbegränsningen. [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### Cache

<!-- ACP2E-1524 -->

* Sidcachen rensas nu som förväntat för en överordnad produkt när en av dess underordnade produkter har sparats från administratören. En plugin-kontroll har införts för att uppnå cacheogiltigförklaring för konfigurerbara varianter, som liknar andra produkttyper, oavsett indexerarstatus (schemalagd eller realtid). Tidigare uppdaterades inte priserna korrekt i butiken efter att en konfigurerbar variant uppdaterades från administratören.

<!-- ACP2E-1454 -->

* En cachelagringsmekanism för AWS inloggningsuppgifter har lagts till. En autentiseringsprovider använder nu cacheminnet i Magento för att cachelagra autentiseringsuppgifter som hämtats från AWS för EC2-konfiguration.

<!-- AC-7639 -->

* Det plugin-program vars syfte är att lägga till den konfigurerbara cachetaggen när en enkel produkt som är kopplad till en konfigurerbar produkt sparas fungerar nu som förväntat. Alla relevanta konfigurerbara cachetaggar tas bort som förväntat när en enkel produkt uppdateras av `POST V1/products`. Tidigare uppdaterades inte alla priser i butiken, och cacheminnen måste rensas manuellt. [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### Kundvagn och kassan

<!-- ACP2E-1580 -->

* Kundvagnsskatt och leveransberäkning återspeglar nu korrekt standarddestinationskonfigurationen. Tidigare visades endast ZIP-värdet i kundvagnen under **[!UICONTROL Estimate Tax and Shipping]**. Detta beror på att Magento Open Source har angett region-ID:t till undefined innan villkorssatsen som har angett standardregion-ID:t från administratören anropas.

<!-- ACP2E-1547 -->

* Magento Open Source genererar inte längre det här felet vid utcheckning när en beständig kundvagn är aktiverad: `Invalid state change requested`. Tidigare när det här felet uppstod fanns det flera order med samma `quote_id` skapades ibland.

<!-- ACP2E-1456 -->

* Minivagnen visar nu paketpriser som återspeglar konfigurationsinställningarna för kundvagnen. Tidigare ingick alltid moms i priset på paketprodukter.

<!-- AC-7503 -->

* Fraktuppskattningen från kundvagnssidan är nu korrekt. `collectShippingRates` ställs nu in endast en gång. Tidigare har leveransberäkningen duplicerats. [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* The `cart` frågan returnerar inte längre ett fel när en produkt i den angivna vagnen är lagrad. Tidigare gick det inte att slutföra köpet när en artikel inte fanns i lager och utcheckningssidan var tom.

<!-- ACP2E-1459 -->

* Gäst-API-begäranden till `POST V1/default/V1/guest-carts/<cartId>/shipping-information` returnerar inte längre `cancel` status om sidan läses in igen under inloggning i en mobilmiljö. Tidigare genererade Magento Open Source ett 500-fel och loggade detta undantag: `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* Fri frakt-berättigande beräknas nu som förväntat när **[!UICONTROL Subtotal (Excl. Tax)]** villkor för kundvagnsregler tillämpas. [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* The `cart` frågan returnerar nu korrekt nivåpris för en produkt. [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- AC-1162 -->

* Informativa felmeddelanden har lagts till på utcheckningssidan för att vägleda kunderna när tillämpningen av en kupong på leveranssidan står i konflikt med den valda leveransmetoden. Tidigare sa ett meddelande till kunderna att de skulle återvända till föregående sida.

<!-- ENGCOM-8387 -->

* Autentiserings-popup-fönstret initieras nu bara när det behövs i stället för när gästutcheckning är aktiverat. Den initieras nu när gästshopparen försöker gå vidare till kassan och gästutcheckningen inaktiveras. [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### Kundprisregel

<!-- ACP2E-1516 -->

* Kundprisreglerna tillämpas nu som förväntat när en kundprisregel som är relaterad till en leveransmetod har konfigurerats för butiken och den här leveransmetoden ändras till en annan vid utcheckning. Tidigare `applied_rule_ids` värdet ändrades aldrig i `sales_order_item` och kundvagnsprisregeln tillämpades inte på ordern.

<!-- AC-2044 -->

* Kuponger tillämpas nu korrekt på en beställning när en kund använder kupongen efter att ha valt leveransmetoden där en kundprisregel med leveransmetoden inställd som villkor gäller. Tidigare visade kundvagnssidan `Coupon is Not valid` och kupongen tillämpades inte. [GitHub-34866](https://github.com/magento/magento2/issues/34866)

### Katalog

<!-- ACP2E-1479 -->

* Magento Open Source visar inte längre ett varningsmeddelande när du sparar en produkt som har skapats med anpassade alternativ efter att bilden har tagits bort.

<!-- ACP2E-1419 -->

* Miniatyrbilder av produkter visas nu som väntat i det varningsmeddelande som skickas när en produkt är tillbaka i lager. Den här bilden visades inte i e-postmeddelandet

<!-- AC-3003 -->

* Antalet produkter i kategoriträdet (Admin **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) är nu korrekt. Det gick inte att hämta antalet kategoriprodukter från `catalog_category_product_index` tabell. Det stavfel som utlöste felet har åtgärdats. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* Huvudproduktbilden på informationssidan ändras inte längre nedåt under sidinläsning när `product_image_white_borders` i tema `view.xml` är inaktiverat. Tidigare flyttades produktbilden synligt nedåt under sidinläsningen på grund av felaktiga höjdinställningar i Fotorama JS.

<!-- ACP2E-1361 -->

* Kunderna meddelas nu om prissänkningar när kunden prenumererar på varningar om prisfall. Tidigare skickades inte alltid meddelanden om prisfall på grund av cachelagring på programnivå.

<!-- ACP2E-1422 -->

* Validering på serversidan har lagts till i processen att skapa produktattribut via webb-API:t. Du kan inte aktivera **[!UICONTROL Use in Layered Navigation Catalog]** fältet när **[!UICONTROL Catalog Input Type for Store Owner]** fältvärdet är `Text Field`,  `Text Area`,  `Text Editor`, `Date`, eller `Date and Time`. Tidigare har produkter utelämnats från kategorier och sökresultat.

<!-- ACP2E-1413 -->

* Kategorisidan läses nu in igen med rätt sidnumrering när en kund öppnar sidan, ändrar sidnumreringen, navigerar till en produktsida och sedan återgår till kategorisidan.  [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* Enkla produkter som inte finns i lager och som är alternativ för en konfigurerbar produkt visas nu som inaktiverade i butiken när **[!UICONTROL Display Out of Stock Products]** är inställd på **Ja**. Tidigare visades alla alternativ som tillgängliga, trots status och verklig tillgänglighet.

<!-- ACP2E-1384 -->

* När webbplatsens omfångsattribut uppdateras i en specifik butiksvy åsidosätts inte längre attributets värde i det globala omfånget. Tidigare importerades produktpriser när flera rader var tillgängliga med samma SKU och `store_view_code` resulterade i felaktiga priser för standardvyomfånget och alla visningsomfång för butiken.

<!-- ACP2E-1632 -->

* Merchants kan nu lägga till en GIF-bild i en produkts bildgalleri från Admin. Tidigare visade Magento Open Source följande fel:  `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* Kontroller har lagts till för att hantera fel som beror på odefinierade matrisnycklar. Tidigare uppstod ett fel vid generering av deklarativa schemavitelist.

<!-- ACP2E-1749 -->

* Magento Open Source returnerar nu ett giltigt resultat för det anpassade datumet `01/01/1970`. Tidigare returnerade attributet följande fel: `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` Frågor som använder fragment returnerar nu kategoriinformation som förväntat. Tidigare uppstod ett internt serverfel på kategorisidan. [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* Problem med `cataloginventory_stock` delvis omindexering har lösts och indexerarens prestanda har förbättrats. Tidigare uppdaterades inte lager- och produktkategorier korrekt.

<!-- AC-8226 -->

* Magento Open Source genererar nu en 301-omdirigering för en produkt när kategorin den tillhör har flyttats till en ny överordnad. [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### Katalogregler

<!-- ACP2E-1579 -->

* Katalogregler används nu som förväntat i en miljö med flera webbplatser.

### Kuponger

<!-- ACP2E-1551 -->

* Köpare kan nu använda två separata autogenererade kupongkoder som har genererats av samma kundvagnsprisregel. The `Uses per Coupon` fältet är nu aktiverat när kupongtypen har valts till `Auto` (liknande för kupongtyp =`Specific Coupon`) . Detta innebär i sin tur att kunden kan tillämpa flera kupongkoder på samma kundvagn om koderna är olika.

<!-- ACP2E-1496 -->

* En köpares kupongvärde för engångsbruk återställs nu som förväntat när den ordning som användes annulleras.

<!-- ACP2E-1195 -->

* The `GET V1/coupons/<couponId>` slutpunkten returnerar nu det fullständiga förväntade svaret för manuellt skapade kuponger på samma sätt som för automatiskt genererade kuponger.  Tidigare har vissa fält utelämnats (t.ex. `usage_limit`, `usage_per_customer`och `created_at`).

### cron

<!-- AC-7987 -->

* Administratörsanvändare kan nu se vilken uppgift `bin/magento cron:run` pågår. Titeln på den process som körs visas nu med grupper och jobbnamn. [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### Kund

<!-- AC-6748 -->

* Magento Open Source visar nu **[!UICONTROL Date of Birth]**, **[!UICONTROL Tax/VAT Number]**, **[!UICONTROL Gender]**, **[!UICONTROL Telephone]**, **[!UICONTROL Company]** och **[!UICONTROL Fax]** fält på sidan Redigera kund baserat på konfigurationsinställningar. [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### E-post

<!-- ACP2E-1529 -->

* Information om företagsadministratörer sparas nu som förväntat och administratörer omdirigeras korrekt när e-postmeddelanden om företagsadministratörer innehåller en `CMS Block URL` variabel.

<!-- AC-2903 -->

* Kundens e-postadresser kan nu innehålla diakritiska tecken. Tidigare var det inte tillåtet att skapa en användare med diakritiska tecken i e-postadressen vid valideringen. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* Mejl med butiks- och prismeddelanden översätts nu enligt det språk som har konfigurerats för webbplatsens standardbutiksvy. Tidigare översattes inte dessa e-postmeddelanden.

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` skickar nu ett e-postmeddelande till kunderna om att en beställning är klar att hämtas endast när beställningen är klar. E-post aktiveras nu endast när begäran har slutförts utan ett undantag.

### Ramverk

<!-- ACP2E-1492 -->

* Mutex har implementerats för order för att förhindra konkurrensförhållanden under uppdatering på grund av samtidiga förfrågningar. Tidigare orsakade samtidiga begäranden (konkurrensvillkor) för orderannulleringar dubblerade poster i `inventory_reservation` tabell.

<!-- ACP2E-1381 -->

* The `populateWithArray` funktionen omformar nu objektegenskaper så att de blir rätt skiftlägeskänsliga, vilket gör dem kompatibla med `AbstractModel` get och set. Tidigare var formateringen av ormen felaktigt när datatillverkarens namn innehöll flera versaler på en rad.

<!-- ACP2E-1522 -->

* Värdet för automatisk ökning i `catalog_product_entity_varchar` tabellen ökar nu korrekt när en produkt har sparats. Tidigare ökade värdet med tio.

<!-- ACP2E-1701 -->

* Magento Open Source genererar inte längre det här filsystemundantaget när du försöker tömma JavaScript/CSS-cachen:  `No such file or directory`.

<!-- ACP2E-1358 -->

* Värdet för `value_id` in `customer_entity_int` har nu ökats korrekt. En uppdateringsfråga körs i stället för `insert on duplicate key update` när en entitet som innehåller dessa attribut uppdateras. Detta innebär att de kolumner för automatisk ökning som används i EAV-modellen nu växer linjärt. Tidigare hoppade värden över av den automatiska stegningsprocessen för kolumner på grund av misslyckade infogningsfrågor. [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* Onödigt tomt utrymme har tagits bort från `id` attribut som inte kräver det. (Felet uppstod i och med en kodändring i Magento Open Source 2.4.6.)

<!-- AC-7923 -->

* Butikskoder visas inte längre i butikens URL när butiken är i enbutiksläge. [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* Mindre uppdateringar har gjorts i `around` plugin-program. [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* Färgrutorna `Helper` har omarbetats för att ta bort vilseledande importalias. [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* Administratörsanvändare kan nu ta bort eller byta namn på en `sitemap.xml` filen som förväntat. Tidigare kunde en administratörsanvändare ta bort filen från administratören, men den fanns kvar i filsystemet.  [GitHub-37468](https://github.com/magento/magento2/issues/37468)


<!-- ACP2E-1747 -->

* Kuponger markeras inte längre som använda när betalningen misslyckas för den order som de har tillämpats på. Kömeddelanden bearbetas nu i den ordning som de publiceras när konsumenten startas. Tidigare togs det första meddelandet bort från kön för att kontrollera om meddelanden låg i kö och avvisades därefter, vilket ledde till att det första meddelandet bearbetades sist.

<!-- ACP2E-1627 -->

* Magento Open Source genererar inte längre ett undantag i loggfilen när en användare försöker skriva ut en leveransetikett. Tidigare, om ett tillägg ändrar svarshuvuden som innehåller en bifogad fil, utlöstes ett undantag i loggfilen.

<!-- AC-7986 -->

* Stöd för fler HTML-klasser har lagts till i `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)

### Allmänna korrigeringar

<!-- ACP2E-1508 -->

* Fel uppstår inte längre vid begäranden om RSS-flöden för kategorier när **[!UICONTROL RSS Feed Top Level Category]** är aktiverat. Tidigare ledde en bläddring i kategorin RSS-flöden till Elasticsearch `CRITICAL` fel i loggfiler när **[!UICONTROL RSS Feed Top Level Category]** har aktiverats.

<!-- ACP2E-1490 -->

* Rätt värde sparas nu för `gws_store_groups` när rollomfånget ändras när användarroller skapas. Tidigare när rollomfånget valdes som `All`, `gws_store_groups` värdet sparades som null när användaren skapades men inte vid rollredigering. Om rollomfånget valdes som `Custom`och sedan `gws_store_groups` värdet har alltid sparats som null.

<!-- ACP2E-1446 -->

* Sidan för återställning av lösenord kan nu öppnas genom att klicka på länken för återställning av lösenord för administratör på inloggningssidan för administratörer när **[!UICONTROL Add Store Code to Urls]** inställningen är aktiverad. Länken för administratörsåterställning av lösenord har tidigare öppnat inloggningssidan eller 404-sidan.

<!-- ACP2E-1274 -->

* Datumintervallet i kontrollpanelen för administratörsstatistik beräknas nu baserat på den tidszon som anges i konfigurationsinställningarna och konverteras sedan till UTC för att hämta data från databasen.

<!-- ACP2E-1665 -->

* CMS-hierarkifiltret fungerar som väntat när du har filtrerat en butiksvy och sedan klickat **[!UICONTROL Save]** på Admin **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. Tidigare klickade **[!UICONTROL Save]** uppdaterade sidan, men kontexten bröts och den valda butiksvyn visades inte längre.

<!-- ACP2E-1631 -->

* Klicka på **[!UICONTROL Send invitation]** button (Admin **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]**  > **[!UICONTROL Invitation]**) skickar nu en förfrågan om POST tillsammans med formulärnyckeln och inbjudan skickas. När du klickade på den här POSTEN fanns varken HTTP-metoden eller formulärnyckeln.

<!-- ACP2E-1608 -->

* Noll-byte-filer kan nu kopieras till fjärrlagring med AWS S3.

<!-- AC-7402 -->

* Administratörsanvändare kan nu lägga till en ny kundadress från administratören när kunden har skapats för en annan webbplats vars butiks-ID inte matchar webbplatsens ID. Tidigare visade Magento Open Source detta popup-meddelande: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* CMS-blockredigerarsidan visar nu rätt widget `block_id` värde.  [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### Presentkort och omslag


<!-- ACP2E-1341 -->

* Emuleringen börjar nu under `send()` anropar när emuleringen har slutförts under `getInfoBlockHtml()` anrop och inga fel loggas. Tidigare `system.log` filen har översvämmats med följande fel: `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* Nu kan du använda `updateCartItems` mutation för att uppdatera ett presentkort i en kundvagn. Tidigare kunde bara kortmängden uppdateras i kundvagnen med denna mutation.

<!-- AC-7530 -->

* The `addProductsToCart` frågan lägger nu till ett presentkort i en kundvagn. Tidigare förväntades presentkortets mottagarnamn, men avsändarens namn returnerades istället. Magento Open Source orsakade detta fel: `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)

### Google ReCAPTCHA

<!-- ACP2E-1539 -->

* Google reCAPTCHA fungerar nu som väntat för checkar, betalningsorder och anpassade betalningsmetoder.

<!-- ACP2E-1311 -->

* Magento Open Source-formulär kan inte längre skickas innan kryssrutan Google ReCAPTCHA läses in.

<!-- ACP2E-1338 -->

* Widgeten reCAPTCHA kommer nu före **[!UICONTROL Place Order]** på betalningssidan. Tidigare visades widgeten högst upp på sidan.

### GraphQL

<!-- ACP2E-1584 -->

* Produktattribut av typen `DateTime` mappa nu till `FilterRangeTypeInput` filter i produktfrågor. Tidigare mappades dessa attribut till `FilterMatchTypeInput`. Som ett resultat av den här ändringen används frågefiltrering för `DateTime` attribut kräver `from` och `to` värden i stället för matchningsvärden.

<!-- ACP2E-1552 -->

* The `customer` mutationen returnerar nu endast kundrecensioner relaterade till en viss butiksvy som förväntat vid filtrering efter butiks-ID.

<!-- AC-7544 -->

* The `categories` frågan inte längre returnerar ett fel när `items.redirect_code` svarsvärdet innehåller ett null-värde. [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1486 -->

* The `changeCustomerPassword` mutationen utlöser nu e-post som förväntat efter att ett lösenord har återställts.

<!-- ACP2E-1494 -->

* `urlResolver` och `route` frågor returnerar nu ett resultat när `Target Path` för URL-omskrivning är en absolut URL. Tidigare `urlResolver` frågan returnerade NULL när du använde det för att hämta omdirigeringsdata.

<!-- AC-7979 -->

* The `products` frågan returnerar nu korrekta etiketter. [GitHub-29635](https://github.com/magento/magento2/issues/29635)


<!-- ACP2E-1315 -->

* The `categoryList` frågan returnerar nu en ifylld `product` i `options` -block för paketprodukters underordnade produkter som förväntat.  Tidigare returnerades ingen information om underordnade paketprodukter.

<!-- AC-7114 -->

* The `route` frågan returnerar nu flöden för kategorier och produkter som förväntat utan ett internt serverfel. [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* The `products` fråga nu hämta `url_key` värden när flera kategorier är markerade.

<!-- LYNX-17 -->

* `product` frågor returnerar nu bara aggregeringar för produkter som har tilldelats den angivna delade katalogen.

<!-- AC-7974 -->

* Transaktionsnamn har lagts till i New Relic GraphQL-transaktioner. [GitHub-36874](https://github.com/magento/magento2/issues/36874)

<!-- AC-6680 -->

* The `OptionValueProvider` class `get()` metoden returnerar nu ett attributalternativvärde baserat på den angivna `option_id` som förväntat. Tidigare returnerades ett fel. [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* The `searchProducts` frågan returnerar nu alla tillgängliga aggregeringar (filter) och deras korrekt översatta etiketter. Tidigare översattes inte pris- och kategoriaggregeringsetiketter som förväntat. [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* Nu kan du använda ett fragment `ProductCard` vid fråga `related_products`, `upsell_products`och  `crossell_products` på `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* The `products` frågan returnerar nu relaterade produkter, merförsäljning och korsförsäljning i den ordning som de sparades. [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* GraphQL-frågor returnerar nu relaterade produktdata sorterade efter position. [GitHub-33010](https://github.com/magento/magento2/issues/33010)


<!-- AC-8542 -->

* `category_url_path` har lagts till i `ProductAttributeFilterInput`, som har stöd för att begära alla produkter för en kategori i en enda fråga. [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* Ett fel har korrigerats där metoden som anger det aktuella arkivet i en GraphQL-mutation kördes före metoden som hanterar validering. [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### Bild

<!-- ACP2E-1353 -->

* Överföringsformuläret för Admin favicon-ikonen har nu stöd för `.ico` filtyper. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### Importera/exportera

<!-- ACP2E-1565 -->

* Produktimportprocessen avbryts inte längre när produktbilder saknas. När en produktavbildning saknades under importen av en tredjepartstjänst med hjälp av en CSV-fil visade Magento Open Source tidigare följande fel: `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* Prestandan för kundexport från kundnätet har förbättrats i distributioner där B2B är aktiverat.

<!-- ACP2E-1391 -->

* Produktimportprocessen genererar inte längre ett valideringsfel när ett attributvärde i `configurable_variations` -kolumnen innehåller ett komma.

<!-- ACP2E-1377 -->

* Avkodning har undantagits från exportprocessen. CSV-exportfilens text ändras inte efter importen. Därför ändras inte beskrivningen efter återimporten. Tidigare togs HTML-taggar bort i Page Builder-redigeraren efter export och import av produkten.

<!-- ACP2E-1451 -->

* Konfigurationer som inte är standard (webbplats eller butiksomfång) och som läggs till som miljövariabler bryter inte längre `app:config:import` process med ett rekursionsfel.

<!-- ACP2E-1569 -->

* Katalogsökning och prisindexerare i läget Uppdatera vid spara blir inte längre ogiltiga efter import. Tidigare ändrades dokumentversionen för Elasticsearch Indexer när nya och befintliga produkter importerades.

<!-- ACP2E-1482 -->

* Produktrapporter exporteras nu till `var` katalog.  Tidigare exporterades dessa rapporter till dokumentets rotkatalog, som är en skrivskyddad katalog i molninstanser.

<!-- ACP2E-1736 -->

* Tomma flervalda kundadressfält avbryter eller avbryter inte längre exportprocessen.

### Index

<!-- ACP2E-1697 -->

* Prestandan för katalogregelproduktindexeraren i distributioner där regler inte har tilldelats alla webbplatser har förbättrats.

<!-- ACP2E-1401 -->

* Skapa en anpassad produkttyp när indexerare är inställda på **[!UICONTROL Update on schedule]** orsakar inte längre indexuppdateringen `cron` att misslyckas. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` inte längre misslyckas med ett MySQL-fel när kundrutnätet innehåller nya anpassade kundattribut. [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* Om du ändrar indexerarläge för flera indexerare (d.v.s. en ändring av läget för massåtgärdsindexeraren) ändras nu bara indexerarens läge när det aktuella läget skiljer sig från det som används. Detta förbättrar prestandan genom att förhindra onödiga utresor till databasen. [GitHub-36823](https://github.com/magento/magento2/issues/36823)

<!-- AC-6934 -->

* Indexering av produkter med många attributalternativ har förbättrats. [GitHub-36386](https://github.com/magento/magento2/issues/36386)


### Infrastruktur

<!-- ACP2E-1462 -->

* Magento Open Source inkluderar inte längre den fullständiga sökvägen till serverns rot i felmeddelandet som visas när en felaktig HTTP-begäran har skickats till servern. Endast strängar skickas nu till `explode` -metoden som ett andra argument.

<!-- AC-8384 -->

* `restricted_classes.php` har ersatts `Zend_Validate_File_Upload`. Tidigare kraschade valideraren under överföringen av en importfil som var större än värdet som konfigurerats i `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- AC-7093 -->

* E-postmallmotorn kan nu bearbeta vissa kapslade direktiv korrekt (till exempel `{{if}}{{depend}}...{{/depend}}{{/if}}`). [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` Frågor med aggregeringsdata returnerar nu rätt etikettvärden för produktattribut av boolesk typ. [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- AC-2618 -->

* Lagt till ukrainska regioner i `directory_country_region` tabell. [GitHub-35187](https://github.com/magento/magento2/issues/35187)

<!-- https://github.com/magento/magento2/pull/29173 -->

* CSS-filer är inte längre skadade vid sammanfogning `var/tmp` och `pub/static` finns i olika filsystem och **[!UICONTROL CSS Merging Enabled]** är aktiverat. Temporära filer har skapats i samma statiska katalog som målfilen för att säkerställa att båda filerna finns i samma filsystem. Därför är anropet att byta namn på den atomisk. [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* Anrop till en medlemsfunktion `getId()` utlöser inte längre ett undantag.

<!-- https://github.com/magento/magento2/pull/34092 -->

* Typkontroller används nu för arraytypen i designtemats konfigurationsprocessor.  [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Loggning

<!-- ACP2E-1385 -->

* Administratörsanvändare kan nu se loggarna för massåtgärder som har skapats av integreringar i gruppåtgärdsloggen i Admin.

### Inloggning

<!-- ACP2E-1521 -->

* Ett undantag uppstår inte längre om du återställer ett lösenord i en webbläsare och sedan loggar in via en annan webbläsare. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* Kunder omdirigeras nu till inloggningssidan efter att ett konto har aktiverats som förväntat. Tidigare loggades kunderna in automatiskt.

### Beställningar

<!-- ACP2E-1514 -->

* Köpare kan inte längre beställa en produkt till ett anpassat pris när en order först skapas från administratören med hjälp av det anpassade engångspriset. Tidigare, om en order innehöll en artikel med anpassade priser, tillämpades detta anpassade pris för andra order som lagts med funktionen för ombeställning.

<!-- ACP2E-1421 -->

* Köpare kan inte längre spara felaktiga orderstatusar på ordersidan. Orderstatus ändras inte längre från Fullständig till Bearbetning när en artikel skickas. Tidigare kollade inte Magento Open Source orderstatus innan du sparade orderstatus efter att en kund angett en kommentar. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1367 -->

* Försäljningsorderrastret synkroniseras nu asynkront med alla order som förväntat. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* Funktionen för filter-för-inköpsdatum i kundorderavsnittet på ordersidan fungerar nu som förväntat. Tidigare inträffade ett JavaScript-fel när tidszonskonverteringslogiken genererade ett fel när samma tidszon angavs för metoden.

<!-- ACP2E-1294 -->

* På kontrollpanelen Magento Open Source visas nu korrekt orderstatistik vid första inläsningen. Tidigare visade kontrollpanelen felaktig ordningsinformation, men rätt information visades när tidsperioden uppdaterades.

<!-- ACP2E-1762 -->

* Administratörsanvändare omdirigeras nu som förväntat till ordersidan efter att de har valt en butiksvy när nya order skapas från Admin.

<!-- ACP2E-1418 -->

* REST API:t för beställningar returnerar nu information om både de konfigurerbara och enkla produkterna i beställningen oavsett beställningsstatus för de enkla produkterna. Administratörsanvändare kan endast göra beställningar nu om de valda artiklarna (produkterna) finns i lager eller är säljbara. Tidigare returnerade denna API bara information om de produkter som fanns i lager.

<!-- AC-7901 -->

* Kreditnotssidan kraschar inte längre när fri frakt är aktiverat när leveranspriset inkluderar moms och momsberäkningar tillämpas efter rabatter. Tidigare kastade Magento Open Source en `Division by zero` undantag. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* Använda `rest/V1/orders/{id}/comments` slutpunkten för att publicera en kommentar om en order utan att ange orderstatus påverkar inte längre visningen av ordern. Tidigare loggades orderstatus som NULL i `sales_order` och `sales_order_grid` tabeller och varken sidan Mina beställningar eller rastret Administratörsordning visade ordningen. [GitHub-34180](https://github.com/magento/magento2/issues/34180)

### Page Builder

<!-- ACP2E-1564 -->

* När du lägger till en produkt i en kundvagn från Page Builder-karusellen dupliceras inte längre artikelkvantiteten från sidor med två olika widgetar som visar samma produkter.

<!-- ACP2E-1542 -->

* Page Builder lägger inte längre till `tabindex` HTML-attribut till hyperlänkstaggar `a` när du redigerar en hyperlänk sparar du en mall.

<!-- ACP2E-1444 -->

* Produktwidgeten och förhandsvisningen i Page Builder hanterar nu specialtecken i HTML korrekt. Tidigare visade produktwidgeten inte SKU:er som innehöll `&` tecken.

<!-- ACP2E-1441 -->

* Innehållet i textelementet i Page Builder uppdateras nu som väntat när du markerar och uppdaterar hela innehållsblocket i förhandsgranskningsläget.

<!-- ACP2E-1362 -->

* Kopiering och inklistring av text från en textredigerare i Page Builder fungerar nu som väntat. Tidigare gick det inte att spara sidan som du försökte klistra in text på och Magento Open Source visade konsolfelet: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* Page Builder `column-block` innehållstypen som skapades i äldre versioner av Page Builder visas nu korrekt.

<!-- ACP2E-1234 -->

* Filtreringen av produktmetadatabeskrivningen när produkten skapas från administratören har förbättrats. Om Page Builder var aktiverat tidigare genererades beskrivningen av produktmetadata baserat på standardvärdet` {{name}} {{description}}` mask. Standardmetabeskrivningsmasken för produkten består nu av `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* Om du lägger till ett dynamiskt block utan innehåll genereras inte längre något fel.

<!-- AC-6645 -->

* Problem med visning av kolumner i Page Builder-innehåll har åtgärdats. Tidigare `column-line` Innehållstypinnehåll renderades inte. [GitHub-3949](https://github.com/magento/pwa-studio/issues/3949)

### Betalning

<!-- ACP2E-1215 -->

* Alternativet Valvbetalningsmetod visas inte längre i arbetsflödet för Admin-utcheckning när användaren inte har någon vaulttoken. [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* The **[!UICONTROL Venmo]** kan nu döljas när PayPal-knapparna är aktiverade. Tidigare **[!UICONTROL Venmo]** det gick inte att ta bort knappen från kundvagnen, mini-vagnen, produktinformationen eller kassasidorna.

<!-- AC-7105 -->

* Kunderna dirigeras nu om till framgångssidan när en Paypal Payflow-länkbetalning har slutförts. [GitHub-36520](https://github.com/magento/magento2/issues/36520)


#### Braintree


<!-- ACP2E-1229 -->

* Betalningsmetoden Braintree Vault avmarkeras inte längre automatiskt i arbetsflödet för utcheckning när en kund uppdaterar sin faktureringsadress. Tidigare avmarkerades betalningsmetoden när användaren avmarkerade **[!UICONTROL My billing and shipping address are the same]** -knappen.

<!-- BUNDLE-3248 -->

* Löste problem med att checka ut med PayPal via Braintree efter att ha uppgraderat från Adobe Commerce 2.4.5-p2. [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* Telefonnummer renderas nu som förväntat med adresser i fälten för spärradress för spärrad för Google Pay. Tidigare saknades telefonnummer.

<!-- BUNDLE-3228 -->

* Beställningar kan nu utföras med Braintree när svaret från Braintree innehåller ett tomt värde för `threeDSecureInfo/eciFlag`. Tidigare uppstod ett PHP-fel vid utcheckning när det här värdet var tomt.

<!-- BUNDLE-3243 -->

* Magento Open Source genererar inte längre något fel när en kund lägger till en kupong på ordergranskningssidan när han/hon checkar ut med Google Pay från mini cart. Tidigare omdirigerades kunderna till en 404-sida.

<!-- BUNDLE-3245 -->

* Köpare kan nu slutföra utcheckningen med Braintree Payments och Magento Open Source 2.4.6 med osynlig ReCAPTCHA v2 eller v3. [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* Shoppare kan inte längre klicka på **[!UICONTROL PayPal]** om du vill köpa en konfigurerbar produkt utan att först välja de alternativ som krävs. Tidigare kunde kunderna klicka på **[!UICONTROL PayPal]** och sedan omdirigerades tillbaka till produktsidan med ett fel:

<!-- BUNDLE-3148 -->

* The **[!UICONTROL PayPal]** visas nu som väntat på kundvagnssidorna och minikundvagnssidorna. Tidigare visades inte den här knappen på kundvagnssidan och den duplicerades på mini cart-sidan.

<!-- BUNDLE-3244 -->

* Delvis fakturerade order hämtas nu som förväntat på rätt konto i distributioner där handlarna har två olika handelskonto-ID:n för samma valuta på Braintree-kontot.

<!-- BUNDLE-3250 -->

* Magento Open Source genererar inte längre något fel när en andra delfaktura skapas för en order som betalas av Braintree när **[!UICONTROL Enable Vault for Card Payments]** är aktiverat. Tidigare när en handlare försökte skapa en andra faktura hade Magento Open Source följande fel: `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

<!-- AC-2901 -->

* Betalningsinformationen för Braintree sparas nu per butik och nu ser kunderna bara kortinformation som har sparats i den butik där de handlar. Tidigare kunde kunderna se lagrad kortinformation från alla butiker under utcheckningen. [GitHub-34253](https://github.com/magento/magento2/issues/34253)

### Kampanj

<!-- ACP2E-1290 -->

* Effekterna av **[!UICONTROL Fixed amount discount for whole cart]** prisregel, när den används med **[!UICONTROL Apply to shipping amount]** regeln, fördelas nu proportionellt som förväntat mellan produkter och leveransbelopp. Tidigare var rabattberäkningarna felaktiga.

<!-- ACP2E-1300 -->

* The **[!UICONTROL Discard Subsequent Rules]** inställningen används nu som förväntat. När den här inställningen är aktiverad kan andra regler med låg prioritet endast tillämpas på en annan produkt. [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### Rapporter

<!-- ACP2E-1541 -->

* Orderrapport (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) inkluderar nu korrekta ordervärden när order genereras av butiker som använder icke-standardvalutor. Tidigare innehöll rapporten felaktiga värden. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* Felaktig information i formuläret för försäljningsorderrapport har reviderats för tydlighet.

<!-- ACP2E-1435 -->

* Administratörsanvändare kan nu söka efter poster med e-postmeddelanden som innehåller  `+` (plus) tecken från rapportsidan för övergivna kort. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

### Sök {#search-heading}

<!-- ACP2E-1499 -->

* Sökresultaten visar nu relevanta resultat baserat på sökvikten för attributen som förväntat.

<!-- AC-7505 -->

* Informativ text under `Search Weight` attribut `Storefront Properties` inmatningsfält för administratör **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** beskriver nu möjliga värden. [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### Leverans

<!-- AC-7003 -->

* The **[!UICONTROL Shipping Policy]** är nu synlig i administrationslagrets visningsområde när  **[!UICONTROL Apply custom Shipping Policy]** är aktiverat och det finns en anpassad leveranspolicy. [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* The `cart` frågan returnerar nu en `selected_shipping_method` värde som matchar ett av `available_shipping_methods` Operatörskoder och metodkoder. Tidigare, när en av de valda leveransmetoderna innehöll ett understreck, matchades inte dessa transportföretags-/metodkoder. [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* The `setShippingAddressesOnCart` mutation genererar inte längre ett fel när det andra värdet i gatuarrayen är null. Tidigare utlöstes detta undantag: `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)

### Moms

<!-- ACP2E-1527 -->

* Du kan nu redigera värdet för Land och region för momssats på redigeringssidan för momsregel som förväntat. Tidigare sparades inte redigeringar gjorda från den sidan.

<!-- ACP2E-1143 -->

* Momsbeloppet i vagnsberäkningsområdet uppdateras nu som väntat när leveransmetoden uppdateras. Tidigare uppdaterades inte skattesatsen efter det att en köpare bytte land under utcheckningen.

<!-- AC-8227 -->

* The `tax class` Värdet för nyskapade enkla produkter ställs nu in på den överordnade produktens värde när nya varianter av en befintlig konfigurerbar produkt skapas i Store View-omfånget. Tidigare var det här värdet inställt på none. Därför lades ingen skatt till i varukorgen och kunderna beskattades inte alls. [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### Testa

<!-- AC-7098 -->

* Prestandaproblem med stora arrayer i `TableNameSniff` har lösts.

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` nu räknas sommartid.


### UI

<!-- ACP2E-171 -->

* Kundregistreringsblanketten läses nu in som förväntat när den innehåller kundattribut med flera val. Tidigare utlöste Magento Open Source detta undantag: `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* Välkomstmeddelanden som innehåller enkla citattecken återges nu korrekt på butiken utan konsolfel. Om ett välkomstmeddelande innehöll ett enkelt citattecken lästes inte välkomstmeddelandet in vid återgivning på lagerfront. Magento Open Source visade också konsolfel.

<!-- ACP2E-1369 -->

* Magento Open Source genererar inte längre något fel när du försöker att snabbt ändra vyn mellan kommentarhistorik och Returer på ordersidan i Admin. Tidigare visade Magento Open Source följande allmänna fel: `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* Administratörsanvändare med begränsad behörighet till en webbplats kan nu uppdatera webbplatsspecifika produktattribut som angetts till en `all stores view` omfång.

<!-- ACP2E-1648 -->

* Förstoringswidgeten läses nu in som väntat på produktsidan.

<!-- ACP2E-1216 -->

* Anpassningsbara alternativ för flera rader återges nu korrekt i PDF-dokument med faktura, leverans och kreditnota. Tidigare föregicks flerradig text av en oväntad sidbrytning, och om texten överskred sidan kortas texten av.

<!-- AC-7402 -->

* Administratörsanvändare kan nu lägga till en ny kundadress från administratören när kunden har skapats för en annan webbplats vars butiks-ID inte matchar webbplatsens ID. Tidigare visade Magento Open Source detta popup-meddelande: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* Information om företagsadministratörer sparas nu som förväntat och administratörer omdirigeras korrekt när e-postmeddelanden om företagsadministratörer innehåller en `CMS Block URL` variabel.

<!-- ACP2E-1775 -->

* Felmeddelanden som är kopplade till att skicka kommentarer på sidan med orderinformation är nu mer informativa. Tidigare när en köpare klickade **[!UICONTROL Submit comment]** utan att ändra ordningsstatus eller skriva text i kommentarsområdet, visade Magento Open Source det här meddelandet: `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* Kalenderikonen visas nu som förväntat i datumintervallfälten i Admin **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** efter att ett datum har valts för ett fält. När du tidigare har valt ett datum för ett fält visades inte kalenderikonen längre i andra fält och platshållartext i Magento Open Source visades. [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* Kundregistreringsformulär som innehåller flervalsfält har nu lästs in. Tidigare lästes inte det här formuläret in när det innehöll flervalsfält och följande fel utlöstes:  `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* Om du klickar på en videominiatyr i produktgalleriets helskärmsläge visas videon som förväntat. Tidigare visades inte videon och webbläsarkonsolen visade ett JavaScript-fel. [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* En variabel som uppdateras automatiskt varje år har lagts till på copyright-raden. [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* Skjutreglaget på produktsidan fungerar nu som förväntat i mobilvyn. Tidigare visades bara den första bilden. [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### URL-omskrivningar

<!-- ACP2E-1737 -->

* Omskrivningar av kategori-URL genereras nu för alla butiksvyer när en ny kategori importeras från en CSV-fil.

<!-- ACP2E-1700 -->

* Konfigurationer av produkts-URL-suffix och kategori-URL-suffix matchar nu suffixen i `url_rewrite` tabell. Tidigare inträffade spårningsvillkor vid uppdatering av URL-suffixkonfigurationer, och de konfigurerade URL-suffixen och `url_rewrite` tabellen matchade inte.

<!-- ACP2E-1703 -->

* Magento Open Source återger nu kategoriträdet på alla nivåer när kategorins URL-skrivningar skapas. Tidigare visades bara de tre första nivåerna av kategorier. [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1737 -->

* Återskrivningar av kategori-URL finns nu i CSV-filen under importen av en ny kategori.

<!-- ACP2E-1668 -->

* CMS-sidor för flera butiker utan URL-omskrivningar vidarebefordras nu som förväntat. Tidigare omdirigerades begärda CMS-sidor för flera butiker utan URL-omskrivningar till butikens hemsida, men de ursprungliga CMS-sidorna dirigerades inte.

### Webb-API-ramverk

<!-- ACP2E-1543 -->

* Kunder som har skapats med API:t Bulk får nu e-post om kundregistrering på det språk som har konfigurerats på deras tilldelade webbplats.  Tidigare skickades alla e-postmeddelanden till standardspråkområdet, inte till språkområdet på den webbplats som kunden är tilldelad.

<!-- ACP2E-1339 AC-7577-->

* The `POST V1/guest-carts` ring skickar inte längre gästorder när **[!UICONTROL Allow Guest Checkout]** är inaktiverat.


<!-- ACP2E-1526 -->

* Magento Open Source returnerar nu `content` attribute (base64 image code) in `GET V1/products/sku/media` API-svar för produktmedia. The `content` attribut visades inte tidigare i svaret.

## Kända fel

Följande kända fel kommer att åtgärdas i Magento Open Source 2.4.7-beta2:

**Problem**: UPS XML-API:t togs bort av UPS den 5 juni 2023 och påverkade handlarna på följande sätt:

* Befintliga kunder (dvs. handlare som redan har genererat sina UPS-nycklar) kommer inte att påverkas förrän i juni 2024.

* Handlare som vill generera nya nycklar för att använda Adobe Commerce färdiga UPS-integrering kan för närvarande inte generera nya nycklar.

**Problem**: Klicka på **[!UICONTROL Show password]** på inloggningssidan för butiken visas inte lösenordet som förväntat.  <!-- AC-8823 -->

**Problem**: Priserna för fasta paketprodukter inkluderar inte tilldelade specialpriser som förväntat. <!-- ACP2E-2034 -->

## Systemkrav

Vår teknikstack bygger på PHP och MySQL. Mer information finns i [Systemkrav](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Installations- och uppgraderingsinstruktioner

Du kan installera Magento Open Source 2.4.7-beta1 med [Disposition](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
