---
title: 'ACSD-68499: GraphQL updateCartItems-mutation returnerar *success* för kvantiteter som överstiger det tillgängliga lagret'
description: Använd patchen ACSD-68499 för att åtgärda Adobe Commerce-problemet där GraphQL-mutationen "updateCartItems" returnerar ett felaktigt *success*-svar vid uppdatering av större mängder än det tillgängliga lagret, vilket resulterar i större mängder och totalt.
feature: GraphQL, Shopping Cart
role: Admin, Developer
type: Troubleshooting
source-git-commit: 2a0642ae5186da39d22aad0fc9e45c9b371c5ab9
workflow-type: tm+mt
source-wordcount: '360'
ht-degree: 0%

---


# ACSD-68499: GraphQL updateCartItems-mutation returnerar *success* för kvantiteter som överskrider tillgängligt lager

Korrigeringen ACSD-68499 åtgärdar ett problem där GraphQL `updateCartItems`-mutationen returnerar ett felaktigt *success* -svar när kvantiteter som överskrider det tillgängliga lagret uppdateras, vilket resulterar i uppblåsta mängder och totalt. Den här korrigeringen är tillgänglig när [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.74 har installerats. Korrigerings-ID är ACSD-68499. Observera att problemet är planerat att åtgärdas i Adobe Commerce 2.4.9.

## Berörda produkter och versioner

**Korrigeringen har skapats för Adobe Commerce-version:**

* Adobe Commerce (alla distributionsmetoder) 2.4.8-p2

**Kompatibel med Adobe Commerce-versioner:**

* Adobe Commerce (alla distributionsmetoder) 2.4.4 - 2.4.8-p3

>[!NOTE]
>
>Korrigeringen kan bli tillämplig för andra versioner med nya [!DNL Quality Patches Tool]-versioner. Om du vill kontrollera om korrigeringen är kompatibel med din Adobe Commerce-version uppdaterar du `magento/quality-patches`-paketet till den senaste versionen och kontrollerar kompatibiliteten på [[!DNL Quality Patches Tool]: Sök efter korrigeringsfiler &#x200B;](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html). Använd patch-ID:t som söknyckelord för att hitta patchen.

## Problem

GraphQL `updateCartItems`-mutationen i Adobe Commerce returnerar felaktigt *success* -svar vid uppdatering av kvantiteter som ligger utanför det tillgängliga lagret, vilket ger upphov till uppblåsta kundvagnssummor och -kvantiteter.

<u>Steg som ska återskapas</u>:

1. Skapa en tom kundvagn.
1. Lägg en produkt med begränsat lager (till exempel 10 enheter) i kundvagnen.
1. Fråga kundvagnen och notera `cart_item_id`.
1. Uppdatera kvantiteten i kundvagnsartikeln till 100 (överskrider tillgängligt lager på 10) med följande mutation:

   ```
   mutation ($cart: String!, $cartItemId: Int!, $quantity: Float!) {
     updateCartItems(
       input: {
         cart_id: $cart
         cart_items: [{ cart_item_id: $cartItemId, quantity: $quantity }]
       }
     ) {
       cart {
         items {
           product {
             name
           }
           quantity
         }
         prices {
           grand_total {
             value
             currency
           }
         }
       }
     }
   }
   ```

1. Kontrollera den faktiska kvantiteten genom att fråga kundvagnen igen.

<u>Förväntade resultat</u>:

Lagervalidering förhindrar ogiltiga kvantitetsuppdateringar.

<u>Faktiska resultat</u>:

`updateCartItems`-mutationen returnerar *success*-svar med en kvantitet på 100.

## Tillämpa korrigeringen

Använd följande länkar beroende på distributionsmetod för att tillämpa enskilda korrigeringsfiler:

* Lokal användning för Adobe Commerce eller Magento Open Source: [[!DNL Quality Patches Tool] > Användning &#x200B;](/help/tools/quality-patches-tool/usage.md) i guiden [!DNL Quality Patches Tool].
* Adobe Commerce om molninfrastruktur: [Uppgraderingar och korrigeringar > Tillämpa korrigeringar](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html) i Commerce om molninfrastruktur.

## Relaterad läsning

Mer information om [!DNL Quality Patches Tool] finns i:

* [[!DNL Quality Patches Tool]: Ett självbetjäningsverktyg för kvalitetspatchar](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) i verktygshandboken.
